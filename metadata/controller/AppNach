{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "AppNach"
    },
    "designerId": "76464acb-82ce-4eb6-b3ee-7c0807d5eaf5",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabNachApp",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onTabNachAppActivate",
                "implHandler": [
                    "//STORE",
                    "",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var stAppartment = Ext.data.StoreManager.get(\"StAppartment\");//QueryAddress.getResults <Appartment>",
                    "//var StOplata = Ext.data.StoreManager.get(\"StOplata\");",
                    "var tabPnNachApp = Ext.getCmp('tabPnNachApp');",
                    "var fmInfoNachApp = Ext.getCmp('fmInfoNachApp');",
                    "//var index = tabPnNachApp.items.indexOf(activeTab);",
                    "tabPnNachApp.setActiveTab(0);",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "//  console.log(values);",
                    "",
                    "if (values.get('address_id'))",
                    "    stAppartment.load({",
                    "        params: {",
                    "            what_id: values.get('address_id'),",
                    "            address_id:  values.get('address_id'),",
                    "            what:'Appartment',",
                    "            login:values.get('login'),",
                    "            password:values.get('password')",
                    "        },",
                    "        callback: function(records,operation,success){",
                    "",
                    "",
                    "            if(success){",
                    "",
                    "                if (records.length) {",
                    "                    fmInfoNachApp.getForm().loadRecord(records[0]);",
                    "",
                    "                    var adrec = fmInfoNachApp.getForm().findField('address').getValue();",
                    "                    var fio = fmInfoNachApp.getForm().findField('nanim').getValue();",
                    "                    var kod = fmInfoNachApp.getForm().findField('address_id').getValue();",
                    "                    var xv = records[0].data.voda;",
                    "                    var st = records[0].data.stoki;",
                    "                    var vx = records[0].data.vaxta;",
                    "                    var rf = records[0].data.rfond;",
                    "                    var ot = records[0].data.otoplenie;",
                    "                    var en = records[0].data.energy;",
                    "                    var tb = records[0].data.tbo;",
                    "",
                    "                    if (xv ===\"нет\") {",
                    "                        tabPnNachApp.child('#tabFmAppVoda').tab.hide();",
                    "                    }else{",
                    "                        tabPnNachApp.child('#tabFmAppVoda').tab.show();",
                    "                    }",
                    "                    if (st ===\"нет\") {",
                    "                        tabPnNachApp.child('#tabFmAppStoki').tab.hide();",
                    "                    }else{",
                    "                        tabPnNachApp.child('#tabFmAppStoki').tab.show();",
                    "                    }",
                    "                    if (rf ===\"нет\") {",
                    "                        tabPnNachApp.child('#tabFmAppRfond').tab.hide();",
                    "",
                    "                    }else{",
                    "                        tabPnNachApp.child('#tabFmAppRfond').tab.show();",
                    "                    }",
                    "                    if (vx ===\"нет\") {",
                    "                        tabPnNachApp.child('#tabFmAppVaxta').tab.hide();",
                    "",
                    "                    }else{",
                    "                        tabPnNachApp.child('#tabFmAppVaxta').tab.show();",
                    "                    }",
                    "                    if (ot ===\"нет\") {",
                    "                        tabPnNachApp.child('#tabFmAppOtoplenie').tab.hide();",
                    "                        tabPnNachApp.child('#tabFmAppPtn').tab.hide();",
                    "                    }else{",
                    "                        tabPnNachApp.child('#tabFmAppOtoplenie').tab.show();",
                    "                        tabPnNachApp.child('#tabFmAppPtn').tab.show();",
                    "                    }",
                    "                    if (en ===\"нет\") {",
                    "                        tabPnNachApp.child('#tabFmAppEnergy').tab.hide();",
                    "",
                    "                    }else{",
                    "                        tabPnNachApp.child('#tabFmAppEnergy').tab.show();",
                    "                    }",
                    "                    if (tb ===\"нет\") {",
                    "                        tabPnNachApp.child('#tabFmAppTbo').tab.hide();",
                    "",
                    "                    }else{",
                    "                        tabPnNachApp.child('#tabFmAppTbo').tab.show();",
                    "                    }",
                    "",
                    "",
                    "",
                    "                    fmInfoNachApp.setTitle('ид&nbsp;&nbsp'+ kod + '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' +",
                    "                                           adrec + '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' +  fio);",
                    "",
                    "                }",
                    "            }",
                    "        },",
                    "        scope:this",
                    "    });",
                    "",
                    ""
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabNachAppActivate",
            "designerId": "54eef26c-7073-414d-8193-0ef55388ef4e"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabOplata",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onTabOplataActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "//console.log(stUser);",
                    "",
                    "var StOplata = Ext.data.StoreManager.get(\"StOplata\");",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "",
                    "StOplata.load({",
                    "    params: {",
                    "        what:'OplataApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    scope:this",
                    "});",
                    ""
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabOplataActivate",
            "designerId": "3d5d8d1e-dddd-4a99-98ef-2cb31ca49c94"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabPodogrev",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onTabPodogrevActivate",
                "implHandler": [
                    "//STORE",
                    "var form = Ext.getCmp('fmPodogrev');",
                    "var btAddNach = Ext.getCmp('btAddNachPodogrev');",
                    "var btAddPerer = Ext.getCmp('btAddPererPodogrev');",
                    "var pnPerer = Ext.getCmp('pnPererPodogrev');",
                    "var grid = Ext.getCmp('grTarifHousesPodogrev');",
                    "var store = grid.getStore();",
                    "store.removeAll();",
                    "var dt = new Date();",
                    "var firstDay = Ext.Date.getFirstDateOfMonth( dt ) ;",
                    "",
                    "form.getForm().reset();",
                    "form.getForm().findField('data').setValue(Ext.Date.format(firstDay, 'Y-m-d'));",
                    "btAddNach.setText(\"Начислить подогрев за период  \"+ Ext.Date.format(firstDay, 'F,Y'));",
                    "btAddPerer.setText(\"Перерасчитать подогрев  за  \"+ Ext.Date.format(firstDay, 'F,Y'));",
                    "pnPerer.setTitle(\"Перерасчет подогрев за период \"+ Ext.Date.format(firstDay, 'F,Y'));"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabPodogrevActivate",
            "designerId": "19611710-3e63-4c43-8d40-9d941a35b345"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppVoda",
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppVodaActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var StLgotaNach = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "var gridNachisl = Ext.getCmp('grNachVoda');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'VodaApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "           // console.log(form.getForm());",
                    "",
                    "            form.getForm().reset();",
                    "          //  gridNachisl.getView().refresh();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    "StLgotaNach.load({",
                    "    params: {",
                    "        what:'LgotaNachVoda',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabFmAppVodaActivate",
            "designerId": "34ffa8f1-d689-4f0a-a800-e097700f32d1"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppStoki",
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppStokiActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var StLgotaNach = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "var gridNachisl = Ext.getCmp('grNachStoki');",
                    "",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'StokiApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "            form.getForm().reset();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    "StLgotaNach.load({",
                    "    params: {",
                    "        what:'LgotaNachStoki',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabFmAppStokiActivate",
            "designerId": "b5cc37c9-9f8e-48bb-9c10-d3911bf46802"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppPodogrev",
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppPodogrevActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var StLgotaNach = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "var gridNachisl = Ext.getCmp('grNachPodogrev');",
                    "",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'PodogrevApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "           // console.log(form.getForm());",
                    "",
                    "            form.getForm().reset();",
                    "          //  gridNachisl.getView().refresh();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    "StLgotaNach.load({",
                    "    params: {",
                    "        what:'LgotaNachPodogrev',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabFmAppPodogrevActivate",
            "designerId": "3584924d-3e96-4c94-b654-6e2d649ef9d9"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppOtoplenie",
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppOtoplActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var StLgotaNach = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "var gridNachisl = Ext.getCmp('grNachOtoplenie');",
                    "",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'OtoplenieApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "            form.getForm().reset();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    "StLgotaNach.load({",
                    "    params: {",
                    "        what:'LgotaNachOtoplenie',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabFmAppOtoplActivate",
            "designerId": "70951a75-7ad6-4ea3-8c40-c099775cfdf2"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppPtn",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppPtnActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var StLgotaNach = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "var gridNachisl = Ext.getCmp('grNachPtn');",
                    "",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'PtnApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "            // console.log(form.getForm());",
                    "",
                    "            form.getForm().reset();",
                    "            //  gridNachisl.getView().refresh();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    "StLgotaNach.load({",
                    "    params: {",
                    "        what:'LgotaNachPtn',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});"
                ],
                "name": "activate"
            },
            "name": "onTabFmAppPtnActivate",
            "designerId": "b6e30b73-d136-4ddd-9e9a-6d2c865d0d6e"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppTbo",
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppTboActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var StLgotaNach = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "var gridNachisl = Ext.getCmp('grNachTbo');",
                    "",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'TboApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "            form.getForm().reset();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    "StLgotaNach.load({",
                    "    params: {",
                    "        what:'LgotaNachTbo',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabFmAppTboActivate",
            "designerId": "142d0b7f-0f1f-4785-82d4-f177351a230d"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppKvartplata",
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppKvartplataActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var StLgotaNach = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "var gridNachisl = Ext.getCmp('grNachKvartplata');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'KvartplataApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "           // console.log(form.getForm());",
                    "          // gridNachisl.getView().refresh();",
                    "            form.getForm().reset();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    "StLgotaNach.load({",
                    "    params: {",
                    "        what:'LgotaNachKvartplata',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabFmAppKvartplataActivate",
            "designerId": "2d218abc-1f52-4e24-a8bf-6bbe6f4f458b"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppEnergy",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppEnergyActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var StLgotaNach = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "var gridNachisl = Ext.getCmp('grNachEnergy');",
                    "",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'EnergyApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "           // console.log(form.getForm());",
                    "",
                    "            form.getForm().reset();",
                    "          //  gridNachisl.getView().refresh();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    "StLgotaNach.load({",
                    "    params: {",
                    "        what:'LgotaNachEnergy',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});"
                ],
                "name": "activate"
            },
            "name": "onTabFmAppEnergyActivate",
            "designerId": "04f7cbd1-3b00-4f3d-a1d0-966126c5cfee"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppRfond",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppRfondActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var gridNachisl = Ext.getCmp('grNachRfond');",
                    "",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'RfondApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "           // console.log(form.getForm());",
                    "",
                    "            form.getForm().reset();",
                    "          //  gridNachisl.getView().refresh();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    ""
                ],
                "name": "activate"
            },
            "name": "onTabFmAppRfondActivate",
            "designerId": "96070d0f-a4c3-4c3e-b16e-0b804f268921"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabFmAppVaxta",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "Ext.form.Panel",
                "fn": "onTabFmAppVaxtaActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNach = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var gridNachisl = Ext.getCmp('grNachVaxta');",
                    "",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "// FORM",
                    "var form = component;",
                    "// DATA",
                    "",
                    "//LOGIKA",
                    "StTekNach.load({",
                    "    params: {",
                    "        what:'VaxtaApp',",
                    "        address_id: values.get('address_id'),",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    },",
                    "    callback: function(records,operation,success){",
                    "        if(success){",
                    "            // console.log(form.getForm());",
                    "",
                    "            form.getForm().reset();",
                    "            //  gridNachisl.getView().refresh();",
                    "            gridNachisl.getView().getSelectionModel().select(0);",
                    "",
                    "        }else{",
                    "            form.getForm().reset();",
                    "        }",
                    "    },",
                    "    scope:this",
                    "});",
                    ""
                ],
                "name": "activate"
            },
            "name": "onTabFmAppVaxtaActivate",
            "designerId": "812e477b-2364-4f19-bee7-e352356a1880"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#exportBudjet",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onExportBudjetActivate",
                "implHandler": [
                    "var form = Ext.getCmp('fmExportBudjet');",
                    "var dt = new Date();",
                    "var firstDay = Ext.Date.getFirstDateOfMonth( dt ) ;",
                    "form.getForm().findField('data').setValue(Ext.Date.format(firstDay, 'Y-m-d'));",
                    "form.getForm().findField('subjectTo').setValue('utszn5139@ukr.net');",
                    "form.getForm().findField('subjectFrom').setValue('svtpashkova@gmail.com');",
                    "",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "var vibor = 'utszn';",
                    ""
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onExportBudjetActivate",
            "designerId": "2ba20c6b-10e0-45ce-a491-347ab96d76a7"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabDbfLgota",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onTabDbfLgotaActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "var StSubsidia = Ext.data.StoreManager.get(\"StDbfLgota\");",
                    "var dataNach = Ext.getCmp('dataNachLgota');",
                    "var btnGetSubsidiaOshadBank =  Ext.getCmp('btnGetLgotaOshadBank');",
                    "var btnPrintLgotaReestrToOshadBank =  Ext.getCmp('btnPrintLgotaReestrToOshadBank');",
                    "var btnPrintLgotaReestrFromOshadBank =  Ext.getCmp('btnPrintLgotaReestrFromOshadBank');",
                    "",
                    "var btnImportOshadBank =  Ext.getCmp('btnImportOshadBankLgota');",
                    "var btnExportOshadBank =  Ext.getCmp('btnExportOshadBankLgota');",
                    "var btnImportOplataOshad =  Ext.getCmp('btnImportOplataOshadLgota');",
                    "var btnImportOplataYkis =  Ext.getCmp('btnImportOplataYkisLgota');",
                    "var btnSubsidiaOtkat =  Ext.getCmp('btnLgotaOtkat');",
                    "var dt = new Date() ;",
                    "var firstDay = Ext.Date.getFirstDateOfMonth( dt ) ;",
                    "dataNach.setValue(Ext.Date.format(firstDay, 'Y-m-d'));",
                    "data = dataNach.getValue();",
                    "var usluga_id = Ext.getCmp('cbUslugaLgota').getValue();",
                    "var osmd_id = Ext.getCmp('cbOsmdLgota').getValue();",
                    "",
                    "if(usluga_id && osmd_id) {",
                    "    btnGetSubsidiaOshadBank.setDisabled(false);",
                    "    btnPrintLgotaReestrToOshadBank.setDisabled(false);",
                    "    btnPrintLgotaReestrFromOshadBank.setDisabled(false);",
                    "",
                    "    btnImportOshadBank.setDisabled(false);",
                    "    btnExportOshadBank.setDisabled(false);",
                    "    btnImportOplataOshad.setDisabled(false);",
                    "    btnImportOplataYkis.setDisabled(false);",
                    "    btnSubsidiaOtkat.setDisabled(false);",
                    "    StSubsidia.load({",
                    "        params: {",
                    "            what:'getDbfLgota',",
                    "            login:values.get('login'),",
                    "            password:values.get('password'),",
                    "            data:data,",
                    "            osmd_id: osmd_id,",
                    "            usluga_id:usluga_id",
                    "        },",
                    "        scope:this",
                    "    });",
                    "",
                    "} else {",
                    "    btnGetSubsidiaOshadBank.setDisabled(true);",
                    "    btnPrintLgotaReestrToOshadBank.setDisabled(true);",
                    "    btnPrintLgotaReestrFromOshadBank.setDisabled(true);",
                    "    btnImportOshadBank.setDisabled(true);",
                    "    btnExportOshadBank.setDisabled(true);",
                    "    btnImportOplataOshad.setDisabled(true);",
                    "    btnImportOplataYkis.setDisabled(true);",
                    "    btnSubsidiaOtkat.setDisabled(true);",
                    "}"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabDbfLgotaActivate",
            "designerId": "65abf2a9-066e-42d2-91ab-54de2d301958"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabPort",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onTabPortActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "//console.log(stUser);",
                    "",
                    "var StPort = Ext.data.StoreManager.get(\"StPort\");",
                    "var dataNach = Ext.getCmp('dataNachPort');",
                    "",
                    "var dt = new Date() ;",
                    "var firstDay = Ext.Date.getFirstDateOfMonth( dt ) ;",
                    "dataNach.setValue(Ext.Date.format(firstDay, 'Y-m-d'));",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "",
                    "StPort.load({",
                    "    params: {",
                    "        what:'getPort',",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});",
                    "",
                    ""
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabPortActivate",
            "designerId": "90343029-76c7-4408-969d-45d6dfa8e2d4"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabSubsidia",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onTabSubsidiaActivate",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "var StSubsidia = Ext.data.StoreManager.get(\"StSubsidia\");",
                    "var dataNach = Ext.getCmp('dataNachSubsidia');",
                    "var btnGetSubsidiaOshadBank =  Ext.getCmp('btnGetSubsidiaOshadBank');",
                    "var btnPrintSubsReestrToOshadBank =  Ext.getCmp('btnPrintSubsReestrToOshadBank');",
                    "var btnPrintSubsReestrFromOshadBank =  Ext.getCmp('btnPrintSubsReestrFromOshadBank');",
                    "",
                    "var btnImportOshadBank =  Ext.getCmp('btnImportOshadBank');",
                    "var btnExportOshadBank =  Ext.getCmp('btnExportOshadBank');",
                    "var btnImportOplataOshad =  Ext.getCmp('btnImportOplataOshad');",
                    "var btnImportOplataYkis =  Ext.getCmp('btnImportOplataYkis');",
                    "var btnSubsidiaOtkat =  Ext.getCmp('btnSubsidiaOtkat');",
                    "var dt = new Date() ;",
                    "var firstDay = Ext.Date.getFirstDateOfMonth( dt ) ;",
                    "dataNach.setValue(Ext.Date.format(firstDay, 'Y-m-d'));",
                    "data = dataNach.getValue();",
                    "var usluga_id = Ext.getCmp('cbUslugaSubsidia').getValue();",
                    "var osmd_id = Ext.getCmp('cbOsmdSubsidia').getValue();",
                    "",
                    "if(usluga_id && osmd_id) {",
                    "    btnGetSubsidiaOshadBank.setDisabled(false);",
                    "    btnPrintSubsReestrToOshadBank.setDisabled(false);",
                    "    btnPrintSubsReestrFromOshadBank.setDisabled(false);",
                    "",
                    "    btnImportOshadBank.setDisabled(false);",
                    "    btnExportOshadBank.setDisabled(false);",
                    "    btnImportOplataOshad.setDisabled(false);",
                    "    btnImportOplataYkis.setDisabled(false);",
                    "    btnSubsidiaOtkat.setDisabled(false);",
                    "    StSubsidia.load({",
                    "        params: {",
                    "            what:'getSubsidia',",
                    "            login:values.get('login'),",
                    "            password:values.get('password'),",
                    "            data:data,",
                    "            osmd_id: osmd_id,",
                    "            usluga_id:usluga_id",
                    "        },",
                    "        scope:this",
                    "    });",
                    "",
                    "} else {",
                    "    btnGetSubsidiaOshadBank.setDisabled(true);",
                    "    btnPrintSubsReestrToOshadBank.setDisabled(false);",
                    "    btnPrintSubsReestrFromOshadBank.setDisabled(false);",
                    "    btnImportOshadBank.setDisabled(true);",
                    "    btnExportOshadBank.setDisabled(true);",
                    "    btnImportOplataOshad.setDisabled(true);",
                    "    btnImportOplataYkis.setDisabled(true);",
                    "    btnSubsidiaOtkat.setDisabled(true);",
                    "}"
                ],
                "name": "activate",
                "scope": "me"
            },
            "name": "onTabSubsidiaActivate",
            "designerId": "df9eeb34-3398-4e47-9714-18f4c93c9986"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachVoda",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachVodaSelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StLgotaNachVoda = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppVoda');",
                    "//console.log(selected[0].data.data);",
                    "",
                    "//var record = selected[0].data;",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    StLgotaNachVoda.load({",
                    "        params: {",
                    "            what:'LgotaNachVodaData',",
                    "            address_id: values.get('address_id'),",
                    "            data:Ext.Date.format(selected[0].data.data,\"Ymd\"),",
                    "            login:values.get('login'),",
                    "            password:values.get('password')",
                    "        },",
                    "        scope:this",
                    "    });",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrNachVodaSelectionChange",
            "designerId": "61ca29a2-666e-4158-9d35-150bcec5077d"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grLgotaNachVoda",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrLgotaNachVodaSelectionChange",
                "implHandler": [
                    "var form = Ext.getCmp('tabFmAppVoda');",
                    "if (selected.length > 0) {",
                    "    form.getForm().findField('msq_lgota').setValue(selected[0].data.info);",
                    "",
                    "}",
                    ""
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrLgotaNachVodaSelectionChange",
            "designerId": "4a31a6f6-992f-4956-8dbd-bf314cc22117"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachStoki",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachStokiSelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StLgotaNachVoda = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppStoki');",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    StLgotaNachVoda.load({",
                    "        params: {",
                    "            what:'LgotaNachStokiData',",
                    "            address_id: values.get('address_id'),",
                    "            data:Ext.Date.format(selected[0].data.data,\"Ymd\"),",
                    "            login:values.get('login'),",
                    "            password:values.get('password')",
                    "        },",
                    "        scope:this",
                    "    });",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrNachStokiSelectionChange",
            "designerId": "25f13996-bd52-4e40-8b56-4fd69bab625d"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grLgotaNachStoki",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrLgotaNachStokiSelectionChange",
                "implHandler": [
                    "var form = Ext.getCmp('tabFmAppStoki');",
                    "if (selected.length > 0) {",
                    "    form.getForm().findField('msq_lgota').setValue(selected[0].data.info);",
                    "",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrLgotaNachStokiSelectionChange",
            "designerId": "93f05dc3-bf7b-4e25-8519-21a2152472d5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachPodogrev",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachPodogrevSelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StLgotaNachVoda = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppPodogrev');",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    StLgotaNachVoda.load({",
                    "        params: {",
                    "            what:'LgotaNachPodogrevData',",
                    "            address_id: values.get('address_id'),",
                    "            data:Ext.Date.format(selected[0].data.data,\"Ymd\"),",
                    "            login:values.get('login'),",
                    "            password:values.get('password')",
                    "        },",
                    "        scope:this",
                    "    });",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrNachPodogrevSelectionChange",
            "designerId": "55907ac7-1eb7-4508-a00c-82e07d6dea79"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grLgotaNachPodogrev",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrLgotaNachPodogrevSelectionChange",
                "implHandler": [
                    "var form = Ext.getCmp('tabFmAppPodogrev');",
                    "if (selected.length > 0) {",
                    "    form.getForm().findField('msq_lgota').setValue(selected[0].data.info);",
                    "",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrLgotaNachPodogrevSelectionChange",
            "designerId": "1a8e47c9-58fa-4306-b327-6b40e1fc2953"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachOtoplenie",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachOtoplenieSelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StLgotaNachVoda = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppOtoplenie');",
                    "//console.log(selected[0]);",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    StLgotaNachVoda.load({",
                    "        params: {",
                    "            what:'LgotaNachOtoplenieData',",
                    "            address_id: values.get('address_id'),",
                    "            data:Ext.Date.format(selected[0].data.data,\"Ymd\"),",
                    "            login:values.get('login'),",
                    "            password:values.get('password')",
                    "        },",
                    "        scope:this",
                    "    });",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrNachOtoplenieSelectionChange",
            "designerId": "520b180d-b4e8-4e87-8217-d71c09b2e55b"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grLgotaNachOtoplenie",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrLgotaNachOtoplenieSelectionChange",
                "implHandler": [
                    "var form = Ext.getCmp('tabFmAppOtoplenie');",
                    "if (selected.length > 0) {",
                    "    form.getForm().findField('msq_lgota').setValue(selected[0].data.info);",
                    "",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrLgotaNachOtoplenieSelectionChange",
            "designerId": "abb579b9-e8d7-4f3d-973b-d3679ae2fae1"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachTbo",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachTboSelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StLgotaNachVoda = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppTbo');",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    StLgotaNachVoda.load({",
                    "        params: {",
                    "            what:'LgotaNachTboData',",
                    "            address_id: values.get('address_id'),",
                    "            data:Ext.Date.format(selected[0].data.data,\"Ymd\"),",
                    "            login:values.get('login'),",
                    "            password:values.get('password')",
                    "        },",
                    "        scope:this",
                    "    });",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrNachTboSelectionChange",
            "designerId": "1ceb89a4-fdf5-438e-b370-66c926c4aae6"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grLgotaNachTbo",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrLgotaNachTboSelectionChange",
                "implHandler": [
                    "var form = Ext.getCmp('tabFmAppTbo');",
                    "if (selected.length > 0) {",
                    "    form.getForm().findField('msq_lgota').setValue(selected[0].data.info);",
                    "",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrLgotaNachTboSelectionChange",
            "designerId": "ea1fcad5-c6e7-4068-979b-10d849855453"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachKvartplata",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachKvartplataSelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StLgotaNachVoda = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppKvartplata');",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    StLgotaNachVoda.load({",
                    "        params: {",
                    "            what:'LgotaNachKvartplataData',",
                    "            address_id: values.get('address_id'),",
                    "            data:Ext.Date.format(selected[0].data.data,\"Ymd\"),",
                    "            login:values.get('login'),",
                    "            password:values.get('password')",
                    "        },",
                    "        scope:this",
                    "    });",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrNachKvartplataSelectionChange",
            "designerId": "1d5a88f7-712c-4c74-aecb-4e705cf9070a"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grLgotaNachKvartplata",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrLgotaNachKvartplataSelectionChange",
                "implHandler": [
                    "var form = Ext.getCmp('tabFmAppKvartplata');",
                    "if (selected.length > 0) {",
                    "    form.getForm().findField('msq_lgota').setValue(selected[0].data.info);",
                    "",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrLgotaNachKvartplataSelectionChange",
            "designerId": "aca91640-b419-4f7b-b717-ad4ef1f46b51"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grTarifHousesPodogrev",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrTarifHousesPodogrevSelectionChange",
                "implHandler": [
                    "//STORE",
                    "",
                    "var stAddress = Ext.data.StoreManager.get('StAddressOrg');",
                    "var form = Ext.getCmp('fmPodogrev');",
                    "var pnPerer = Ext.getCmp('pnPererPodogrev');",
                    "var btAddPerer = Ext.getCmp('btAddPererPodogrev');",
                    "var viborTarif = Ext.getCmp('cbTarifTeplo'); ",
                    "var btnNachHouse = Ext.getCmp('btnNachHousePodogrev'); ",
                    "var tarif = Ext.getCmp('tarTeplo'); ",
                    "",
                    "var dt = new Date();",
                    "var lastDay = Ext.Date.getLastDateOfMonth( dt ) ;",
                    "var firstDay = Ext.Date.getFirstDateOfMonth( dt ) ;",
                    "",
                    "//console.log(selected);",
                    "if (selected.length > 0) {",
                    "    //form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    form.getForm().findField('house_id').setValue(selected[0].data.house_id);",
                    "    form.getForm().findField('data').setValue(Ext.Date.format(firstDay, 'Y-m-d'));",
                    "    form.getForm().findField('sdata').setValue(Ext.Date.format(firstDay, 'Y-m-d'));",
                    "    form.getForm().findField('fdata').setValue(Ext.Date.format(lastDay, 'Y-m-d'));",
                    "    form.getForm().findField('address_ot').clearValue();",
                    "    form.getForm().findField('address_do').clearValue();",
                    "    viborTarif.clearValue();",
                    "    viborTarif.setDisabled(false);   ",
                    "    btnNachHouse.setDisabled(false);                 ",
                    "    tarif.setValue(0); ",
                    "",
                    "    stAddress.removeAll(); ",
                    "    stAddress.load({",
                    "        params: {",
                    "            what:'AddressFromHousesTarif',",
                    "            what_id: selected[0].data.house_id",
                    "        },",
                    "        callback: function(records,operation,success){       ",
                    "            if(success){",
                    "                form.getForm().findField('address_ot').setValue(records[0].get('address_id'));",
                    "                form.getForm().findField('address_do').setValue(records[0].get('address_id'));",
                    "            }",
                    "",
                    "        },",
                    "        scope:this  ",
                    "    });",
                    "",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "name": "onGrTarifHousesPodogrevSelectionChange",
            "designerId": "c0657b64-4ac9-4d80-a4a0-6614f51089ee"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachEnergy",
                "designer|params": [
                    "model",
                    "selected",
                    "eOpts"
                ],
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachEnergySelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StLgotaNachVoda = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppEnergy');",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    StLgotaNachVoda.load({",
                    "        params: {",
                    "            what:'LgotaNachEnergyData',",
                    "            address_id: values.get('address_id'),",
                    "            data:Ext.Date.format(selected[0].data.data,\"Ymd\"),",
                    "            login:values.get('login'),",
                    "            password:values.get('password')",
                    "        },",
                    "        scope:this",
                    "    });",
                    "}"
                ],
                "name": "selectionchange"
            },
            "name": "onGrNachEnergySelectionChange",
            "designerId": "1dbd690d-1450-47c7-91d9-fac7c78dab6f"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btAddLgotaPerer",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtAddLgotaPererClick",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//CONTROLLER",
                    "var value = button.findParentByType('form').getValues();",
                    "//STORE",
                    "if (value.summa !== \"0\") {",
                    "    var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "    var values =stUser.getAt(0);",
                    "    var vibor = values.get('vibor');",
                    "    this.getWinAddLgotaPerer().close();",
                    "    switch (vibor){",
                    "        case 'addLgotaVodaPerer':",
                    "            me.addLgotaPererVoda(value);",
                    "            break;",
                    "        case 'addLgotaStokiPerer':",
                    "            me.addLgotaPererStoki(value);",
                    "            break;",
                    "        case 'addLgotaEnergyPerer':",
                    "            me.addLgotaPererEnergy(value);",
                    "            break;",
                    "        case 'addLgotaOtopleniePerer':",
                    "            me.addLgotaPererOtoplenie(value);",
                    "            break;",
                    "        case 'addLgotaKvartplataPerer':",
                    "            me.addLgotaPererKvartplata(value);",
                    "            break;",
                    "        case 'addLgotaTboPerer':",
                    "            me.addLgotaPererTbo(value);",
                    "            break;",
                    "        case 'addLgotaVoda':",
                    "            me.addLgotaVoda(value);",
                    "            break;",
                    "        case 'addLgotaStoki':",
                    "            me.addLgotaStoki(value);",
                    "            break;",
                    "        case 'addLgotaEnergy':",
                    "            me.addLgotaEnergy(value);",
                    "            break;",
                    "        case 'addLgotaOtoplenie':",
                    "            me.addLgotaOtoplenie(value);",
                    "            break;",
                    "        case 'addLgotaKvartplata':",
                    "            me.addLgotaKvartplata(value);",
                    "            break;",
                    "        case 'addLgotaTbo':",
                    "            me.addLgotaTbo(value);",
                    "            break;",
                    "        case 'editLgotaVoda':",
                    "            me.editLgotaVoda(value);",
                    "            break;",
                    "        case 'editLgotaStoki':",
                    "            me.editLgotaStoki(value);",
                    "            break;",
                    "        ",
                    "        case 'editLgotaOtoplenie':",
                    "            me.editLgotaOtoplenie(value);",
                    "            break;",
                    "        case 'editLgotaKvartplata':",
                    "            me.editLgotaKvartplata(value);",
                    "            break;",
                    "        case 'editLgotaTbo':",
                    "            me.editLgotaTbo(value);",
                    "            break;",
                    "        case 'editLgotaEnergy':",
                    "            me.editLgotaEnergy(value);",
                    "            break;",
                    "    }",
                    "} else {",
                    "    Ext.MessageBox.show({",
                    "        title: 'Контроль данных',",
                    "        msg: 'Введите правильную сумму',",
                    "        buttons: Ext.MessageBox.OK,",
                    "        icon: Ext.MessageBox.ERROR",
                    "    });",
                    "}"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtAddLgotaPererClick",
            "designerId": "3d2fa090-cc36-4142-a30e-8c999d079b24"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaPererVoda",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppVoda');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaPererVoda\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachVoda');",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'VodaApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(0);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaPererVoda",
            "designerId": "71515c89-bde7-44bd-9f06-a713ceb92e5c"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaPererStoki",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppStoki');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaPererStoki\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachStoki');",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){ ",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'StokiApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            }, ",
                    "            callback: function(records,operation,success){       ",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(0);        ",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this  ",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaPererStoki",
            "designerId": "151a37d2-0e4a-4687-81ee-060db2c2d7ba"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaPererEnergy",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppEnergy');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaPererEnergy\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachEnergy');",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'EnergyApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(0);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaPererEnergy",
            "designerId": "e20dd958-6509-46b1-94fb-73ddac98debc"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaPererOtoplenie",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppOtoplenie');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaPererOtoplenie\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachOtoplenie');",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){ ",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'OtoplenieApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            }, ",
                    "            callback: function(records,operation,success){       ",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(0);        ",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this  ",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaPererOtoplenie",
            "designerId": "cedb71ac-25e7-4bea-a2a8-4bece531bd47"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaPererKvartplata",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppKvartplata');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaPererKvartplata\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachKvartplata');",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){ ",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'KvartplataApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            }, ",
                    "            callback: function(records,operation,success){       ",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(0);        ",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this  ",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaPererKvartplata",
            "designerId": "aac4c437-2402-4129-96df-284658e132c2"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaPererTbo",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppTbo');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaPererTbo\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachTbo');",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){ ",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'TboApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            }, ",
                    "            callback: function(records,operation,success){       ",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(0);        ",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this  ",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод перерасчета на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaPererTbo",
            "designerId": "04826ac2-cb0c-4f1c-8967-0bf806160c4a"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "editLgotaVoda",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppVoda');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"editLgotaVoda\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachVoda');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'VodaApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "editLgotaVoda",
            "designerId": "67a63cc8-ec54-45ce-ac3d-8ac5741b4c88"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "editLgotaEnergy",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppEnergy');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"editLgotaEnergy\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachEnergy');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'EnergyApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "editLgotaEnergy",
            "designerId": "85b53cb9-d77d-42e7-a02c-b30f78b94778"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "editLgotaStoki",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppStoki');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"editLgotaStoki\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachStoki');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'StokiApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "editLgotaStoki",
            "designerId": "17487ecc-612f-4597-87ec-c0db2f4ff8b7"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "editLgotaPodogrev",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppPodogrev');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"editLgotaPodogrev\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachPodogrev');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'PodogrevApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "editLgotaPodogrev",
            "designerId": "51d90684-d908-4efb-b6ab-58c771021aa6"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "editLgotaOtoplenie",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppOtoplenie');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"editLgotaOtoplenie\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachOtoplenie');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'OtoplenieApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "editLgotaOtoplenie",
            "designerId": "61140566-6eeb-4def-b3f9-dd675e84583c"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "editLgotaKvartplata",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppKvartplata');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"editLgotaKvartplata\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachKvartplata');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'KvartplataApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "editLgotaKvartplata",
            "designerId": "9adba167-e759-4a8c-9751-e155aef1b3fc"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "editLgotaTbo",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppTbo');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"editLgotaTbo\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachTbo');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'TboApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "editLgotaTbo",
            "designerId": "ead7daf0-da47-4188-b5cc-5a1a8c9b4498"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaVoda",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppVoda');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaVoda\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachVoda');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "Ext.Object.merge(value, params);",
                    "//console.log(value.ind);",
                    "",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'VodaApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaVoda",
            "designerId": "7fef3137-c49b-490e-ac36-e8b21a94a9cd"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaStoki",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppStoki');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaStoki\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachStoki');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'StokiApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaStoki",
            "designerId": "0d11572a-86da-499a-9cee-a3936d5131e3"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaEnergy",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppEnergy');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaEnergy\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachEnergy');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'EnergyApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaEnergy",
            "designerId": "2904b1c6-a47e-456a-9149-2c7f78c503ca"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaOtoplenie",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppOtoplenie');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaOtoplenie\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachOtoplenie');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'OtoplenieApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaOtoplenie",
            "designerId": "6713582e-08a7-4e79-ad35-49121884322f"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaKvartplata",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppKvartplata');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaKvartplata\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachKvartplata');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'KvartplataApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaKvartplata",
            "designerId": "607d8ece-14c1-410d-97a4-af7396d90e98"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "addLgotaTbo",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                    "var form = Ext.getCmp('tabFmAppTbo');",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    address_id:values.get('address_id'),",
                    "    address:values.get('address'),",
                    "    what:\"addLgotaTbo\"",
                    "};",
                    "",
                    "//GRID",
                    "var grNach = Ext.getCmp('grNachTbo');",
                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                    "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StTekNachApp.load({",
                    "            params: {",
                    "                what:'TboApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    grNach.getView().getSelectionModel().select(ind);",
                    "",
                    "                }else{",
                    "                    form.getForm().reset();",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Ввод начисления на бюджет',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ]
            },
            "name": "addLgotaTbo",
            "designerId": "0b3f4e30-d04b-4979-a84a-8a0f64feb041"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "importZarplataPort",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "//console.log(stUser);",
                    "",
                    "var StPort = Ext.data.StoreManager.get(\"StPort\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "",
                    "StPort.load({",
                    "    params: {",
                    "        what:'port',",
                    "        login:values.get('login'),",
                    "        password:values.get('password')",
                    "    }",
                    "});",
                    "",
                    ""
                ]
            },
            "name": "importZarplataPort",
            "designerId": "ed06d850-8185-49f2-8682-61a97f7fb465"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "WinAddLgotaPerer",
                "selector": "#winAddLgotaPerer",
                "xtype": null
            },
            "name": "WinAddLgotaPerer",
            "designerId": "27bfce0b-9f31-47c3-b988-c92bf4fa7afb"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btUpdKubNorma",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "MyButton81",
                "fn": "onBtUpdKubNormaClick",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "var value = button.findParentByType('form').getValues();",
                    "",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    data:value.data,",
                    "    what:\"update_kubov_norma\"",
                    "};",
                    "",
                    "",
                    "//LOGIKA",
                    "",
                    "var myMask= Ext.Msg.show({",
                    "    title:'Обновление кубов по норме...',",
                    "    msg: 'Обновление кубов по норме.Ожидайте...',",
                    "    buttons: Ext.Msg.CANCEL,",
                    "    wait: true,",
                    "    modal: true,",
                    "    icon: Ext.Msg.INFO",
                    "});",
                    "",
                    "QueryAddress.updateRecords(params,function(results){",
                    "    if(results.success===\"1\"){",
                    "        myMask.close();",
                    "        Ext.MessageBox.show({",
                    "            title: 'Обновление кубов по норме',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "    } else {",
                    "        myMask.close();",
                    "        Ext.MessageBox.show({",
                    "            title: 'Обновление кубов по норме',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtUpdKubNormaClick",
            "designerId": "0ab40133-3a79-4ece-9b76-b693de68be9b"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btAddNachPodogrev",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtAddNachPodogrevClick",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    what:\"nachislenie_podogrev\"",
                    "};",
                    "",
                    "",
                    "//LOGIKA",
                    "",
                    "var myMask= Ext.Msg.show({",
                    "    title:'Начисление...',",
                    "    msg: 'Начисление подогрева.Ожидайте...',",
                    "    buttons: Ext.Msg.CANCEL,",
                    "    wait: true,",
                    "    modal: true,",
                    "    icon: Ext.Msg.INFO",
                    "});",
                    "",
                    "QueryAddress.updateRecords(params,function(results){",
                    "    if(results.success===\"1\"){ ",
                    "        myMask.close();",
                    "        Ext.MessageBox.show({",
                    "            title: 'Начисление подогрева',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "    } else {",
                    "        myMask.close();",
                    "        Ext.MessageBox.show({",
                    "            title: 'Начисление подогрева',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtAddNachPodogrevClick",
            "designerId": "57cc642b-4aed-4ad2-b770-8d66696ce1a7"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btAddPererPodogrev",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtAddPererPodogrevClick",
                "implHandler": [
                    "// in use",
                    "var value = button.findParentByType('form').getValues();",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "//LOGIN & PASSWORD",
                    "",
                    "",
                    "",
                    "//LOGIKA",
                    "var grid = Ext.getCmp('grTarifHousesPodogrev');",
                    "//var store = grid.getStore();",
                    "var gridRowSelectedRecords  = grid.getView().getSelectionModel().getSelection();",
                    "var size = Ext.Object.getSize(gridRowSelectedRecords) ;",
                    "var values =stUser.getAt(0);",
                    "var params =[];",
                    "if (size > 1){",
                    "    params = {",
                    "        login:values.get('login'),",
                    "        password:values.get('password'),",
                    "        what:\"pereraschet_podogrev\",",
                    "        allkv:value.allkv,",
                    "        tarif_manual:0,",
                    "        sdata:value.sdata,",
                    "        fdata:value.fdata,",
                    "        address_ot:value.address_ot,",
                    "        address_do:value.address_do,",
                    "        info:value.info",
                    "    };",
                    "} else {",
                    "",
                    "    params = {",
                    "        login:values.get('login'),",
                    "        password:values.get('password'),",
                    "        what:\"pereraschet_podogrev\",",
                    "        allkv:value.allkv,",
                    "        tarif_manual:value.tarif_manual,",
                    "        ch_gv9:value.ch_gv9,",
                    "        ch_gv16:value.ch_gv16,",
                    "        sdata:value.sdata,",
                    "        fdata:value.fdata,",
                    "        address_ot:value.address_ot,",
                    "        address_do:value.address_do,",
                    "        info:value.info",
                    "    };",
                    "}",
                    "//console.log(size);",
                    "",
                    "var res = 1;",
                    "var house = \"\";",
                    "var myMask = Ext.Msg.show({",
                    "    title:'Перерасчет по подогреву',",
                    "    msg: 'Выполнение перерасчета.Ожидайте...',",
                    "    buttons: Ext.Msg.CANCEL,",
                    "    wait: true,",
                    "    modal: true,",
                    "    icon: Ext.Msg.INFO",
                    "});",
                    "Ext.Object.each(gridRowSelectedRecords, function(key, val, myself) {",
                    "    Ext.Object.merge(val.data, params);",
                    "    QueryAddress.updateRecords(val.data,function(results){",
                    "        // console.log(results);",
                    "",
                    "        if(results.success===\"1\"){",
                    "            myMask.close();",
                    "",
                    "            Ext.MessageBox.show({",
                    "                title: 'Перерасчет подогрев',",
                    "                msg: \"Перерасчет подогрев выполнен\",",
                    "                buttons: Ext.MessageBox.OK,",
                    "                icon: Ext.MessageBox.INFO",
                    "            });",
                    "        }  else {",
                    "            house =val.data.house;",
                    "            myMask.close();",
                    "            Ext.MessageBox.show({",
                    "                title: 'Перерасчет подогрев ',",
                    "                msg: \"Перерасчет не выполнен по дому \"+ house ,",
                    "                buttons: Ext.MessageBox.OK,",
                    "                icon: Ext.MessageBox.ERROR",
                    "            });",
                    "",
                    "        }",
                    "    });",
                    "});",
                    "",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtAddPererPodogrevClick",
            "designerId": "111b1735-d692-4c45-9114-28a40c97d5a5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btExportBudjet",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtExportBudjetClick",
                "implHandler": [
                    "// in use",
                    "var value = button.findParentByType('form').getValues();",
                    "//var winExportLgota = Ext.ClassManager.instantiateByAlias('widget.winexportlgota');",
                    "var win = button.findParentByType('window');",
                    "",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    what:\"ExportEmail\"",
                    "};",
                    "//console.log(value);",
                    "",
                    "",
                    "Ext.Object.merge(value, params);",
                    "//LOGIKA",
                    "",
                    "var myMask = Ext.Msg.show({",
                    "    title:'Отправка почты...',",
                    "    msg: 'Отправка файла по Email.Ожидайте...',",
                    "    buttons: Ext.Msg.CANCEL,",
                    "    wait: true,",
                    "    modal: true,",
                    "    icon: Ext.Msg.INFO",
                    "});",
                    "",
                    "",
                    "QueryExport.exportToEmail(value,function(results){",
                    "    if(results.success){",
                    "        myMask.close();",
                    "        win.close();",
                    "        Ext.MessageBox.show({",
                    "            title: 'Отправка файла по Email',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "",
                    "    } else {",
                    "        myMask.close();",
                    "        win.close();",
                    "",
                    "        Ext.MessageBox.show({",
                    "            title: 'Отправка файла по Email',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "",
                    "    }",
                    "",
                    "});",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtExportBudjetClick",
            "designerId": "ecb5a5b7-e38d-4cdd-963f-9b8f5e7f8f70"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btControlLgot",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtControlLgotClick",
                "implHandler": [
                    "// in use",
                    "var value = button.findParentByType('form').getValues();",
                    "var tabPnCenter =  Ext.getCmp('tabPnCenter');",
                    "var report = 'controlLgot';",
                    "var namereport = 'Контроль льгот';",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var tab = tabPnCenter.child('#'+report);",
                    "if (!tab) {",
                    "    tab  = tabPnCenter.add({",
                    "        xtype:'tabReportOrg',",
                    "        title:namereport,",
                    "        id:''+report+''",
                    "    });",
                    "",
                    "}",
                    "var reppan = tab.getComponent(0);",
                    "tabPnCenter.setActiveTab(tab);",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    what:\"controlLgot\",",
                    "    report:report",
                    "};",
                    "",
                    "//LOGIKA",
                    "Ext.Object.merge(value, params);",
                    "",
                    "var myMask = Ext.Msg.show({",
                    "    title:'Отчеты...',",
                    "    msg: 'Загрузка отчета.Ожидайте...',",
                    "    buttons: Ext.Msg.CANCEL,",
                    "    wait: true,",
                    "    modal: true,",
                    "    icon: Ext.Msg.INFO",
                    "});",
                    "",
                    "QueryReport.getResults(value,function(results){",
                    "    if (results.success===\"1\"){",
                    "        myMask.close();",
                    "        reppan.update(results.content);",
                    "        Ext.REPORTCONTENT =results.content;",
                    "        Ext.REPORTSQL =results.sql;",
                    "        Ext.REPORTTITLE =report;",
                    "    }else{",
                    "        myMask.close();",
                    "        Ext.MessageBox.show({title: namereport,",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "});",
                    "",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtControlLgotClick",
            "designerId": "dcea6bce-e70e-45a6-b5d7-94458856b6d5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btControlDbfLgot",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtControlDbfLgotClick",
                "implHandler": [
                    "// in use",
                    "",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StDbfLgota = Ext.data.StoreManager.get(\"StDbfLgota\");",
                    "",
                    "//COMPONENT",
                    "var form = button.findParentByType('form');",
                    "var value = form.getValues();",
                    "",
                    "var tabPnCenter =  Ext.getCmp('tabPnCenter');",
                    "var tab = tabPnCenter.child('#tabDbfLgota');",
                    "var usluga =form.getForm().findField('rbUsluga').inputValue;",
                    "StDbfLgota.proxy.setExtraParam('what', usluga);",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    what:\"ExportBudjetEmail\"",
                    "};",
                    "//LOGIKA",
                    "Ext.Object.merge(value, params);",
                    "",
                    "var myMask = Ext.Msg.show({",
                    "    title:'Загрузка ДБФ файла',",
                    "    msg: 'Загрузка ДБФ файла со списком льготников.Ожидайте...',",
                    "    buttons: Ext.Msg.CANCEL,",
                    "    wait: true,",
                    "    modal: true,",
                    "    icon: Ext.Msg.INFO",
                    "});",
                    "",
                    "",
                    "QueryAddress.updateRecords(value,function(result){",
                    "    if(result.success===\"1\"){ ",
                    "        StDbfLgota.load({",
                    "            params: {",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            callback: function(records,operation,success){",
                    "                if(success){",
                    "                    if (!tab) {",
                    "                        tab  = tabPnCenter.add({",
                    "                            xtype:'tabDbfLgota'",
                    "                        });",
                    "",
                    "                    }",
                    "                    myMask.close();",
                    "                    tabPnCenter.setActiveTab(tab); ",
                    "",
                    "                }else {",
                    "                    myMask.close();",
                    "",
                    "                }",
                    "            },",
                    "            scope:this",
                    "        });",
                    "",
                    "    } else {",
                    "        myMask.close();",
                    "",
                    "        Ext.MessageBox.show({",
                    "            title: 'Загрузка ДБФ файла ',",
                    "            msg: result.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "",
                    "    }    ",
                    "});",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtControlDbfLgotClick",
            "designerId": "c64e3e19-dfb8-46ec-a019-95098e0d1dcd"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "WinEditOplata",
                "selector": "#winEditOplata",
                "xtype": null
            },
            "name": "WinEditOplata",
            "designerId": "b46e404d-4df5-4c5f-9b2b-dca6086f986b"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "WinEditDbfLgota",
                "selector": "#winEditDbfLgota",
                "xtype": null
            },
            "name": "WinEditDbfLgota",
            "designerId": "bd511818-9274-42da-86a6-f04e9ade6ec1"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "winImport",
                "selector": "winImport",
                "xtype": "winimport"
            },
            "name": "winImport",
            "designerId": "669d7708-cad2-490a-aebf-f484054431e4"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "value"
                ],
                "fn": "editOplataApp",
                "implHandler": [
                    "// in use",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StOplata = Ext.data.StoreManager.get(\"StOplata\");",
                    "",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    what:\"editOplataApp\"",
                    "};",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  по оплате',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StOplata.load({",
                    "            params: {",
                    "                what:'OplataApp',",
                    "                address_id: values.get('address_id'),",
                    "                login:values.get('login'),",
                    "                password:values.get('password')",
                    "            },",
                    "            scope:this",
                    "        });",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  по оплате',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});",
                    ""
                ]
            },
            "name": "editOplataApp",
            "designerId": "8d5a085a-a265-4ddb-82dd-c89487a713c3"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btFixDolg",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtFixDolgClick",
                "implHandler": [
                    "// in use",
                    "var me = this;",
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var value = button.findParentByType('form').getValues();",
                    "//console.log(value);",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    what:\"fixDolgTeplo\",",
                    "    fdata:value.fixdata",
                    "",
                    "};",
                    "",
                    "",
                    "//LOGIKA",
                    "",
                    "var myMask= Ext.Msg.show({",
                    "    title:'Фиксация задолженности...',",
                    "    msg: 'Фиксация задолженности.Ожидайте...',",
                    "    buttons: Ext.Msg.CANCEL,",
                    "    wait: true,",
                    "    modal: true,",
                    "    icon: Ext.Msg.INFO",
                    "});",
                    "",
                    "QueryAddress.updateRecords(params,function(results){",
                    "    if(results.success===\"1\"){",
                    "        myMask.close();",
                    "        Ext.MessageBox.show({",
                    "            title: 'Фиксация задолженности',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "    } else {",
                    "        myMask.close();",
                    "        Ext.MessageBox.show({",
                    "            title: 'Фиксация задолженности',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtFixDolgClick",
            "designerId": "43d70eb9-9cf8-48ba-9187-f5489cab74df"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btEditOplata",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "MyButton163",
                "fn": "onBtEditOplataClick",
                "implHandler": [
                    "/// in use",
                    "//CONTROLLER",
                    "var value = button.findParentByType('form').getValues();",
                    "var form = button.findParentByType('form');",
                    "var oplata = 0;",
                    "var kvartplata = form.getForm().findField('kvartplata').getValue();",
                    "var otoplenie = form.getForm().findField('otoplenie').getValue();",
                    "var ptn = form.getForm().findField('ptn').getValue();",
                    "var voda = form.getForm().findField('voda').getValue();",
                    "var stoki = form.getForm().findField('stoki').getValue();",
                    "var tbo = form.getForm().findField('tbo').getValue();",
                    "var energy = form.getForm().findField('energy').getValue();",
                    "var rfond = form.getForm().findField('rfond').getValue();",
                    "var vaxta = form.getForm().findField('vaxta').getValue();",
                    "",
                    "var summa = parseFloat(form.getForm().findField('summa').getValue()).toFixed(2);",
                    "oplata =parseFloat(kvartplata + otoplenie + ptn + voda + stoki + tbo + energy + rfond+ vaxta).toFixed(2);",
                    "//console.log(summa);",
                    "//console.log(oplata);",
                    "",
                    "if(summa === oplata) {",
                    "    if (summa !== \"0\") {",
                    "        var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "        var values =stUser.getAt(0);",
                    "        var vibor = values.get('vibor');",
                    "        this.getWinEditOplata().close();",
                    "        this.editOplataApp(value);",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Контроль данных',",
                    "            msg: 'Оплата равна 0',",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "} else {",
                    "    Ext.MessageBox.show({",
                    "        title: 'Контроль данных',",
                    "        msg: 'Не совпадают правая и левая части оплаты',",
                    "        buttons: Ext.MessageBox.OK,",
                    "        icon: Ext.MessageBox.ERROR",
                    "    });",
                    "}"
                ],
                "name": "click",
                "scope": "me"
            },
            "name": "onBtEditOplataClick",
            "designerId": "38d8a67d-9d94-4090-aefa-40fe3e434ab8"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btEditDbfLgota",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtEditDbfLgotaClick",
                "implHandler": [
                    "",
                    "",
                    "",
                    "var value = button.findParentByType('form').getValues();",
                    "var dataNachDbfLgota = Ext.getCmp('dataNachDbfLgota');",
                    "",
                    "var form = button.findParentByType('form');",
                    "var StDbfLgota = Ext.data.StoreManager.get(\"StDbfLgota\");",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "var vibor = value.vibor;",
                    "this.getWinEditDbfLgota().close();",
                    "var what = \"editDbfLgota\";",
                    "",
                    "switch (vibor) {",
                    "    case \"add\":",
                    "        what = \"addDbfLgota\";",
                    "        break;",
                    "    case \"edit\":",
                    "        what =\"editDbfLgota\";",
                    "}",
                    "",
                    "var values =stUser.getAt(0);",
                    "var params = {",
                    "    login:values.get('login'),",
                    "    password:values.get('password'),",
                    "    osmd_id: values.get('osmd_id'),",
                    "    what:what",
                    "};",
                    "",
                    "//LOGIKA",
                    "",
                    "Ext.Object.merge(value, params);",
                    "QueryAddress.updateRecords(value,function(results){",
                    "    if(results.success===\"1\"){",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  по оплате',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.INFO",
                    "        });",
                    "        StDbfLgota.load({",
                    "            params: {",
                    "                login:values.get('login'),",
                    "                password:values.get('password'),",
                    "                data:dataNachDbfLgota.getValue(),",
                    "                osmd_id: values.get('osmd_id'),",
                    "                what:\"getDbfLgota\"",
                    "",
                    "            },",
                    "",
                    "            scope:this",
                    "        });",
                    "",
                    "    } else {",
                    "        Ext.MessageBox.show({",
                    "            title: 'Редактирование записи  по оплате',",
                    "            msg: results.msg,",
                    "            buttons: Ext.MessageBox.OK,",
                    "            icon: Ext.MessageBox.ERROR",
                    "        });",
                    "    }",
                    "",
                    "});",
                    "",
                    ""
                ],
                "name": "click"
            },
            "name": "onBtEditDbfLgotaClick",
            "designerId": "ca28d2cf-8390-42f6-9a95-5f1418e195e7"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachVaxta",
                "designer|params": [
                    "model",
                    "selected",
                    "eOpts"
                ],
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachVaxtaSelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppVaxta');",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "",
                    "}"
                ],
                "name": "selectionchange"
            },
            "name": "onGrNachVaxtaSelectionChange",
            "designerId": "fc986994-bc84-4f13-91b2-0f91e19bceab"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabSubsUtszn",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onTabSubsUtsznActivate",
                "implHandler": [
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "var login = values.get('login');",
                    "var password = values.get('password');",
                    "var form = Ext.getCmp('fmSubsUtszn');",
                    "var dt = new Date();",
                    "var usluga_id = form.getForm().findField('usluga_id').getValue();",
                    "var osmd_id = form.getForm().findField('osmd_id').getValue();",
                    "var data_nach = form.getForm().findField('data_nach').getValue();",
                    "",
                    "if(usluga_id && osmd_id) {",
                    "",
                    "    var grid = Ext.getCmp('grSubsUtszn');",
                    "    var store = grid.getStore();",
                    "    var btnGetLgotaUtszn =  Ext.getCmp('btnGetSubsidiaUtszn');",
                    "    var btnPrintLgotaUtszn =  Ext.getCmp('btnPrintSubsidiaUtszn');",
                    "    var btSubsInsOplata =  Ext.getCmp('btSubsInsOplata');",
                    "    var btnSubsidiaOtkatOplata =  Ext.getCmp('btnSubsidiaOtkatOplata');",
                    "",
                    "    btnGetLgotaUtszn.setDisabled(false);",
                    "    btnPrintLgotaUtszn.setDisabled(false);",
                    "    btSubsInsOplata.setDisabled(false);",
                    "    btnSubsidiaOtkatOplata.setDisabled(false);",
                    "",
                    "    store.load({",
                    "        params: {",
                    "            what:'getSubsidiaUtszn',",
                    "            login:login,",
                    "            password:password,",
                    "            data:data_nach,",
                    "            osmd_id: osmd_id,",
                    "            usluga_id: usluga_id",
                    "        },",
                    "        scope:this",
                    "    });",
                    "",
                    "}"
                ],
                "name": "activate"
            },
            "name": "onTabSubsUtsznActivate",
            "designerId": "326c6d2f-e7f7-40e3-a973-f93ef3970226"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#tabLgotaUtszn",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onTabLgotaUtsznActivate",
                "implHandler": [
                    "var usluga_id = 0;",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "var login = values.get('login');",
                    "var password = values.get('password');",
                    "var form = Ext.getCmp('fmLgotaUtszn');",
                    "var usluga_id = form.getForm().findField('usluga_id').getValue();",
                    "var osmd_id = form.getForm().findField('osmd_id').getValue();",
                    "",
                    "var dt = new Date();",
                    "var firstDay =Ext.Date.add(dt, Ext.Date.DAY, -10);",
                    "var data_nach = form.getForm().findField('data_nach').getValue();",
                    "",
                    "",
                    "",
                    "if(usluga_id && osmd_id) {",
                    "    var grid = Ext.getCmp('grLgotaUtszn');",
                    "    var store = grid.getStore();",
                    "    var btnGetLgotaUtszn =  Ext.getCmp('btnGetLgotaUtszn');",
                    "    var btnPrintLgotaUtszn =  Ext.getCmp('btnPrintLgotaUtszn');",
                    "    var btnPrintLgotaForma3 =  Ext.getCmp('btnPrintLgotaForma3');",
                    "    var btnPrintLgotaReestrUtszn =  Ext.getCmp('btnPrintLgotaReestrUtszn');",
                    "    var btnInsLgotaOplata =  Ext.getCmp('btnInsLgotaOplata');",
                    "    var btnOtkatLgotaOplata =  Ext.getCmp('btnOtkatLgotaOplata');",
                    "",
                    "    btnGetLgotaUtszn.setDisabled(false);",
                    "    btnPrintLgotaUtszn.setDisabled(false);",
                    "    btnPrintLgotaForma3.setDisabled(false);",
                    "    btnPrintLgotaReestrUtszn.setDisabled(false);",
                    "    btnInsLgotaOplata.setDisabled(false);",
                    "    btnOtkatLgotaOplata.setDisabled(false);",
                    "",
                    "    store.load({",
                    "        params: {",
                    "            what:'getLgotaUtszn',",
                    "            login:login,",
                    "            password:password,",
                    "            data:data_nach,",
                    "            osmd_id: osmd_id,",
                    "            usluga_id: usluga_id",
                    "        },",
                    "        scope:this",
                    "    });",
                    "}"
                ],
                "name": "activate"
            },
            "name": "onTabLgotaUtsznActivate",
            "designerId": "346843d6-68b0-461b-afc8-7e7fe0a19985"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachPtn",
                "designer|params": [
                    "model",
                    "selected",
                    "eOpts"
                ],
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachPtnSelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var StLgotaNachVoda = Ext.data.StoreManager.get(\"StLgotaNachVoda\");",
                    "//LOGIN & PASSWORD",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppPtn');",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    StLgotaNachVoda.load({",
                    "        params: {",
                    "            what:'LgotaNachPtnData',",
                    "            address_id: values.get('address_id'),",
                    "            data:Ext.Date.format(selected[0].data.data,\"Ymd\"),",
                    "            login:values.get('login'),",
                    "            password:values.get('password')",
                    "        },",
                    "        scope:this",
                    "    });",
                    "}"
                ],
                "name": "selectionchange"
            },
            "name": "onGrNachPtnSelectionChange",
            "designerId": "e223615d-fb04-4d1c-8036-32d57971e11b"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#grNachRfond",
                "designer|params": [
                    "model",
                    "selected",
                    "eOpts"
                ],
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onGrNachRfondSelectionChange",
                "implHandler": [
                    "//STORE",
                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                    "var values =stUser.getAt(0);",
                    "var form = Ext.getCmp('tabFmAppRfond');",
                    "if (selected.length > 0) {",
                    "    form.getForm().reset();",
                    "    form.getForm().loadRecord(selected[0]);",
                    "    ",
                    "}"
                ],
                "name": "selectionchange"
            },
            "name": "onGrNachRfondSelectionChange",
            "designerId": "cc8fbb0c-066d-4041-891b-d52abe90a1f3"
        }
    ]
}