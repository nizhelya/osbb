{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "tabnachapp",
        "designer|userClassName": "flat.TabNachApp",
        "height": 831,
        "id": "tabNachApp",
        "itemId": null,
        "scrollable": true,
        "title": "Начисления",
        "width": null
    },
    "configAlternates": {
        "scrollable": "boolean"
    },
    "designerId": "50d35cf7-6496-4f3f-b168-a660c39fab66",
    "viewControllerInstanceId": "a3b4e6dc-117e-40d8-921b-86ffeabad305",
    "viewModelInstanceId": "2928e1d8-3780-48ca-866b-84a0674bb426",
    "cn": [
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|displayName": null,
                "designer|snapToGrid": 5,
                "height": null,
                "id": "fmInfoNachApp",
                "itemId": null,
                "layout": "absolute",
                "margin": "0 0 5 0",
                "overCls": null,
                "style": "background-color: #C2D9C9;",
                "title": "",
                "width": 1092
            },
            "name": "MyForm5",
            "configAlternates": {
                "style": "string",
                "scrollable": "boolean"
            },
            "designerId": "74a6110f-aaa5-49aa-a15f-9b326f98d34b",
            "cn": [
                {
                    "type": "Ext.form.field.Hidden",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "",
                        "labelPad": null,
                        "labelSeparator": " ",
                        "labelWidth": null,
                        "layout|x": null,
                        "layout|y": null,
                        "name": "address_id",
                        "width": null
                    },
                    "name": "MyHiddenField5",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "d5835a1e-82d4-4d6a-bf8f-3da851e12717"
                },
                {
                    "type": "Ext.form.field.Hidden",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": null,
                        "fieldStyle": null,
                        "labelSeparator": " ",
                        "labelStyle": "",
                        "labelWidth": null,
                        "layout|x": null,
                        "layout|y": null,
                        "name": "address",
                        "style": null,
                        "width": null
                    },
                    "name": "MyHiddenField6",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "6a00c6ae-bf45-44ce-a554-9e5b1d195336"
                },
                {
                    "type": "Ext.form.field.Hidden",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "",
                        "fieldStyle": null,
                        "labelSeparator": " ",
                        "labelStyle": "",
                        "labelWidth": null,
                        "layout|x": null,
                        "layout|y": null,
                        "name": "nanim",
                        "style": null,
                        "width": null
                    },
                    "name": "MyHiddenField7",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "b6886ee8-8cb3-4da2-851c-33d2c8582be6"
                },
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|displayName": "Таблица  лготников",
                        "emptyText": "Льготников нет",
                        "forceFit": null,
                        "height": 150,
                        "id": "grLgotnikNachApp",
                        "itemId": null,
                        "layout|x": 485,
                        "layout|y": 10,
                        "scrollable": true,
                        "store": "StLgotnik",
                        "title": "Льготники",
                        "width": 590
                    },
                    "name": "MyGridPanel5",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "371d7f16-0875-404b-8157-534cd2bdcc8f",
                    "cn": [
                        {
                            "type": "Ext.view.Table",
                            "reference": {
                                "name": "viewConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "emptyText": "Льготников нет",
                                "style": null
                            },
                            "name": "MyGridView5",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "ddb2421c-18d0-4619-955b-9e1139accd1e"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "address_id",
                                "hidden": true,
                                "text": "Address_id"
                            },
                            "name": "MyNumberColumn21",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "bc6742e7-d764-424b-957a-444e52cfa2e9"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "kartochka",
                                "hidden": true,
                                "text": "карточка"
                            },
                            "name": "MyNumberColumn22",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "786383f9-1d99-48b5-8a4c-76469526c611"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "passport",
                                "hidden": true,
                                "text": "паспорт"
                            },
                            "name": "MyColumn19",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "3e5b7a59-692f-4090-bdf3-3e3d0ae5ef53"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "fio",
                                "menuDisabled": true,
                                "text": "Ф.И.О.",
                                "width": 127
                            },
                            "name": "MyColumn20",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "9a51bdd3-230c-4d50-b821-42c1d2ec3bea"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "lgota",
                                "menuDisabled": true,
                                "text": "льгота",
                                "width": 174
                            },
                            "name": "MyColumn21",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "f3797ccb-8fe8-46eb-b0a5-6156dcbdcf60"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "inn",
                                "format": "0",
                                "menuDisabled": true,
                                "text": "инн",
                                "width": 100
                            },
                            "name": "MyNumberColumn23",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "4056d8ad-7257-4f2b-a036-36b607db5b02"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "category",
                                "format": "0",
                                "hidden": true,
                                "text": "Category"
                            },
                            "name": "MyNumberColumn24",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "ab4683be-083c-4868-a8f4-8fb4b564375a"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "people",
                                "format": "0",
                                "menuDisabled": true,
                                "text": "чел",
                                "width": 40
                            },
                            "name": "MyNumberColumn25",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "34cde6af-f778-4829-b60f-e0ded3e8af72"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "percent",
                                "flex": null,
                                "menuDisabled": true,
                                "text": "%",
                                "width": 40
                            },
                            "name": "MyColumn22",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "91218045-e290-4bf1-af09-56aa54c2a0c1"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "gr",
                                "format": "0",
                                "menuDisabled": true,
                                "text": "гр",
                                "width": 40
                            },
                            "name": "MyNumberColumn26",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "5485acad-9f89-4063-a382-c25f03cf2585"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "vkl",
                                "flex": null,
                                "menuDisabled": true,
                                "text": "вкл",
                                "width": 40
                            },
                            "name": "MyColumn23",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "c0a8bd5e-fc3e-43ef-a69b-e426a6b0892b"
                        },
                        {
                            "type": "Ext.panel.Tool",
                            "reference": {
                                "name": "tools",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "tooltip": "Показать историю льготников",
                                "type": "search"
                            },
                            "name": "MyTool4",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "e0e90723-6e9d-4511-b8f9-215938c10aec",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "owner",
                                            "tool",
                                            "event"
                                        ],
                                        "fn": "callback",
                                        "implHandler": [
                                            "//in use",
                                            "var grid = tool.findParentByType('grid');",
                                            "var fmVodomer = Ext.getCmp('fmVodomer');",
                                            "var vodomer_id = fmVodomer.getForm().findField('vodomer_id').getValue();",
                                            "//STORE",
                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                            "var stLgotnik = Ext.data.StoreManager.get(\"StLgotnik\");",
                                            "//LOGIN & PASSWORD",
                                            "var values =stUser.getAt(0);",
                                            "",
                                            "//LOGIKA",
                                            "",
                                            "",
                                            "stLgotnik.removeAll();",
                                            "stLgotnik.load({",
                                            "    params: {",
                                            "        login:values.get('login'),",
                                            "        password:values.get('password'),",
                                            "        address_id:values.get('address_id'),",
                                            "        what_id:values.get('address_id'),",
                                            "        what:\"HistoryLgotnik\"",
                                            "    },",
                                            "    callback: function(records,operation,success){",
                                            "        if(success){",
                                            "            //console.log(grid);",
                                            "            grid.getView().refresh();",
                                            "        }",
                                            "    },",
                                            "    scope:this",
                                            "});"
                                        ]
                                    },
                                    "name": "callback",
                                    "designerId": "25b9a2ea-8a48-4ab0-8b71-97ccb018229f"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 10,
                        "height": 150,
                        "layout": "absolute",
                        "layout|x": 10,
                        "layout|y": 10,
                        "style": "background-color: #DCDCDC;",
                        "title": "Состав (чел)",
                        "width": 100
                    },
                    "name": "MyFieldSet13",
                    "configAlternates": {
                        "style": "string",
                        "scrollable": "boolean"
                    },
                    "designerId": "522516c1-d0ae-4f59-ae1b-1cc92e55650c",
                    "cn": [
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowDecimals": false,
                                "decimalPrecision": 0,
                                "fieldLabel": "Проп",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 40,
                                "layout|anchor": "100%",
                                "name": "tenant",
                                "width": null
                            },
                            "name": "MyNumberField13",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "33f174e8-dfb0-4d3e-82c6-00881e1603e0"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowDecimals": false,
                                "decimalPrecision": 0,
                                "fieldLabel": "Отс",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 40,
                                "layout|anchor": "100%",
                                "layout|x": 0,
                                "layout|y": 30,
                                "minValue": 0,
                                "name": "absent",
                                "width": null
                            },
                            "name": "MyNumberField14",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "300e4c03-6b5d-4b27-8cd2-dd7c348bd8f8"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowDecimals": false,
                                "decimalPrecision": 0,
                                "fieldLabel": "Подн",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 40,
                                "layout|anchor": "100%",
                                "layout|x": 0,
                                "layout|y": 60,
                                "minValue": 0,
                                "name": "podnan",
                                "width": null
                            },
                            "name": "MyNumberField15",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "60d62de3-e7cc-4213-b37b-4d3fefcaf38b"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowDecimals": false,
                                "decimalPrecision": 0,
                                "fieldLabel": "Льг",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 40,
                                "layout|anchor": "100%",
                                "layout|x": 0,
                                "layout|y": 90,
                                "minValue": 0,
                                "name": "lgotchik",
                                "width": null
                            },
                            "name": "MyNumberField16",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "c282eb1c-c356-483b-a5a4-365731b9011a"
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 10,
                        "height": 150,
                        "layout": "absolute",
                        "layout|x": 115,
                        "layout|y": 10,
                        "style": "background-color: #DCDCDC;",
                        "title": "Площадь (м2)",
                        "width": 235
                    },
                    "name": "MyFieldSet14",
                    "configAlternates": {
                        "style": "string",
                        "scrollable": "boolean"
                    },
                    "designerId": "89bde19c-c166-4dfa-9458-c54d40be439b",
                    "cn": [
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "autoStripChars": true,
                                "fieldLabel": "Полезн",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 50,
                                "name": "area_full",
                                "width": 110
                            },
                            "name": "MyNumberField17",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "9dcddc31-13ab-420d-a5f9-156f386e8a76"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "autoStripChars": true,
                                "fieldLabel": "Жилая",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 50,
                                "layout|x": 0,
                                "layout|y": 30,
                                "name": "area_life",
                                "width": 110
                            },
                            "name": "MyNumberField18",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "457d333e-830e-48f5-9768-28a8e586dc62"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "autoStripChars": true,
                                "fieldLabel": "Допол",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 50,
                                "layout|x": 0,
                                "layout|y": 60,
                                "name": "area_dop",
                                "width": 110
                            },
                            "name": "MyNumberField19",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "e5a7a61c-bb67-472d-8848-440137518dfa"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "autoStripChars": true,
                                "fieldLabel": "Дт_ид",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 45,
                                "layout|x": 120,
                                "layout|y": 60,
                                "name": "dteplomer_id",
                                "width": 90
                            },
                            "name": "MyNumberField20",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "470e2998-b5c9-4454-9620-c854027da216"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "autoStripChars": true,
                                "fieldLabel": "Дв_ид",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 45,
                                "layout|x": 120,
                                "layout|y": 90,
                                "name": "dvodomer_id",
                                "width": 90
                            },
                            "name": "MyNumberField21",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "795ba51b-35b3-4b8a-a088-0625fa2222c4"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "autoStripChars": true,
                                "fieldLabel": "Балкон",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 50,
                                "layout|x": 0,
                                "layout|y": 90,
                                "name": "area_balk",
                                "width": 110
                            },
                            "name": "MyNumberField22",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "b4b74d6a-8993-4c86-9b90-893402f54b35"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowDecimals": false,
                                "autoStripChars": true,
                                "decimalPrecision": 0,
                                "fieldLabel": "Комнат",
                                "hideTrigger": true,
                                "labelSeparator": " ",
                                "labelWidth": 50,
                                "layout|x": 120,
                                "layout|y": 0,
                                "name": "room",
                                "width": 90
                            },
                            "name": "MyNumberField23",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "dcb2ca62-ea87-4b53-b2e5-822b4dad648f"
                        },
                        {
                            "type": "Ext.form.field.Checkbox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "boxLabel": "Нет",
                                "boxLabelAlign": null,
                                "fieldLabel": "Лифт",
                                "inputValue": "да",
                                "labelWidth": 40,
                                "layout|anchor": null,
                                "layout|x": 120,
                                "layout|y": 30,
                                "name": "lift",
                                "uncheckedValue": "нет"
                            },
                            "name": "MyCheckbox26",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "9e8477f0-47fb-4ca9-948c-654ebb7abeff",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCheckboxfieldChange4",
                                        "implHandler": [
                                            "if(newValue){",
                                            "    field.setBoxLabel(\"Да\");",
                                            "}else{",
                                            "    field.setBoxLabel(\"Нет\");",
                                            "}"
                                        ],
                                        "name": "change",
                                        "scope": "me"
                                    },
                                    "name": "onCheckboxfieldChange4",
                                    "designerId": "9c9bb676-9dab-47a0-bf62-ed2fb071edc7"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": 150,
                        "layout|x": 355,
                        "layout|y": 10,
                        "style": "background-color: #DCDCDC;",
                        "title": "Приборы учета",
                        "width": 120
                    },
                    "name": "MyFieldSet15",
                    "configAlternates": {
                        "style": "string",
                        "scrollable": "boolean"
                    },
                    "designerId": "9b793406-f5a0-47da-8da5-b889742d1dc9",
                    "cn": [
                        {
                            "type": "Ext.form.field.Checkbox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "boxLabel": "Нет",
                                "boxLabelAlign": null,
                                "fieldLabel": "Сч Хв",
                                "inputValue": "да",
                                "labelWidth": 40,
                                "layout|anchor": "100%",
                                "name": "vxvoda",
                                "uncheckedValue": "нет"
                            },
                            "name": "MyCheckbox27",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "494cb63f-0bd4-4be0-9df5-0489c63819eb",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCheckboxfieldChange",
                                        "implHandler": [
                                            "if(newValue){",
                                            "    field.setBoxLabel(\"Да\");",
                                            "}else{",
                                            "    field.setBoxLabel(\"Нет\");",
                                            "}"
                                        ],
                                        "name": "change",
                                        "scope": "me"
                                    },
                                    "name": "onCheckboxfieldChange",
                                    "designerId": "1b8c4d86-f591-42c9-b7f6-64a78b58aa84"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Checkbox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "boxLabel": "Нет",
                                "boxLabelAlign": null,
                                "fieldLabel": "Сч Гв",
                                "inputValue": "да",
                                "labelWidth": 40,
                                "layout|anchor": "100%",
                                "name": "vgvoda",
                                "uncheckedValue": "нет"
                            },
                            "name": "MyCheckbox28",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "91ef6e9b-b1d5-4390-b18b-a520e9d5293a",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCheckboxfieldChange1",
                                        "implHandler": [
                                            "if(newValue){",
                                            "    field.setBoxLabel(\"Да\");",
                                            "}else{",
                                            "    field.setBoxLabel(\"Нет\");",
                                            "}"
                                        ],
                                        "name": "change",
                                        "scope": "me"
                                    },
                                    "name": "onCheckboxfieldChange1",
                                    "designerId": "96648dbe-a579-4f7c-b109-d3d5ff3e34e4"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Checkbox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "boxLabel": "Нет",
                                "boxLabelAlign": null,
                                "fieldLabel": "Т-мер",
                                "inputValue": "да",
                                "labelWidth": 40,
                                "layout|anchor": "100%",
                                "name": "teplomer",
                                "uncheckedValue": "нет"
                            },
                            "name": "MyCheckbox29",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "f05fa670-a686-4733-ae3b-db5383bb0372",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCheckboxfieldChange2",
                                        "implHandler": [
                                            "if(newValue){",
                                            "    field.setBoxLabel(\"Да\");",
                                            "}else{",
                                            "    field.setBoxLabel(\"Нет\");",
                                            "}"
                                        ],
                                        "name": "change",
                                        "scope": "me"
                                    },
                                    "name": "onCheckboxfieldChange2",
                                    "designerId": "082ad0ee-cb22-4e12-923b-f2cfc1e2e940"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Checkbox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "boxLabel": "Нет",
                                "boxLabelAlign": null,
                                "fieldLabel": "Бойл",
                                "inputValue": "да",
                                "labelWidth": 40,
                                "layout|anchor": "100%",
                                "name": "boiler",
                                "uncheckedValue": "нет"
                            },
                            "name": "MyCheckbox30",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "c56a10e7-8fd9-4498-9dc2-c0401dff6587",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCheckboxfieldChange3",
                                        "implHandler": [
                                            "if(newValue){",
                                            "    field.setBoxLabel(\"Да\");",
                                            "}else{",
                                            "    field.setBoxLabel(\"Нет\");",
                                            "}"
                                        ],
                                        "name": "change",
                                        "scope": "me"
                                    },
                                    "name": "onCheckboxfieldChange3",
                                    "designerId": "aaa15b22-682b-4271-bcba-c3b807b014fe"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.tab.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "activeTab": 0,
                "height": 599,
                "id": "tabPnNachApp",
                "itemId": null,
                "width": 1096
            },
            "name": "MyTabPanel",
            "configAlternates": {
                "scrollable": "boolean"
            },
            "designerId": "363cbc11-737f-48db-b98f-d608f80e9bb8",
            "cn": [
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": "My Panel"
                    },
                    "name": "MyPanel1",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "3bea4cdb-9ace-448f-bdbc-6856bbc259fd",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "hidden": true
                            },
                            "name": "TabConfig",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "f0f3a4ad-093e-4cf8-8d2e-d4dc72fbb59c"
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 5,
                        "height": null,
                        "id": "tabFmAppKvartplata",
                        "itemId": null,
                        "layout": "absolute",
                        "minHeight": null,
                        "title": "Квартплата",
                        "width": null
                    },
                    "name": "MyForm10",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "c35f4d88-8708-440f-8459-33a7a7efd4a3",
                    "cn": [
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|createAlias": null,
                                "forceFit": null,
                                "height": 435,
                                "id": "grNachKvartplata",
                                "layout|x": 5,
                                "layout|y": 5,
                                "scrollable": true,
                                "store": "StTekNachApp",
                                "title": "Период начисления",
                                "width": 225
                            },
                            "name": "MyGridPanel14",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "ea9de9d3-f15d-4827-8f57-9bc2c985fb38",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "нет начислений",
                                        "style": null
                                    },
                                    "name": "MyGridView14",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d62b939a-2e6a-4827-be17-33991cdfc4fd"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "address_id",
                                        "hidden": true,
                                        "text": "Address_id"
                                    },
                                    "name": "MyNumberColumn59",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "913c5210-cd94-4fc6-9f6e-a930c91d0c7a"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "god",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "год",
                                        "width": 50
                                    },
                                    "name": "MyNumberColumn60",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "ef16bb38-cb73-4c62-8587-1b55d7602a81"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "data",
                                        "format": "F",
                                        "menuDisabled": true,
                                        "text": "месяц",
                                        "width": 80
                                    },
                                    "name": "MyDateColumn14",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3cabfdab-4fe9-4cb0-a6ba-b7b2a02b1795"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "zadol",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "задол",
                                        "width": 70
                                    },
                                    "name": "MyColumn60",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9b0d6477-7a48-4de3-a284-398f15ba4525",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "2bb07a68-b0e7-4a72-a935-82c283e2bcb6"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "mec",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "мес",
                                        "width": 49
                                    },
                                    "name": "MyColumn61",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "ddea1f07-cce8-4501-88ed-6b2f98d8886a"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "period",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "Период",
                                        "width": 62
                                    },
                                    "name": "MyColumn62",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "dc2107e7-4c37-446c-891f-57e2c020cc58"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "nachisleno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "начисл",
                                        "width": 70
                                    },
                                    "name": "MyColumn63",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "816bf271-b285-4445-ac7d-d5d66ca99a28",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "    metaData.style = 'color:red';",
                                                    "}",
                                                    "return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "444a5e41-7ee0-41ec-89c5-c0936b20720b"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "oplacheno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "оплач",
                                        "width": 70
                                    },
                                    "name": "MyColumn64",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "834774c2-f816-4a44-b840-c7e81ff058bd",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "    metaData.style = 'color:red';",
                                                    "}",
                                                    "return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "df358722-2553-4332-9a09-14d0189d0458"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "dolg",
                                        "flex": null,
                                        "menuDisabled": true,
                                        "text": "Долг",
                                        "width": 80
                                    },
                                    "name": "MyColumn65",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "76a516e3-01b5-4a3d-9972-a3e07f707b40",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "120c32da-f41f-4e4a-b5c9-f7b8151f3913"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить запись",
                                        "type": "plus"
                                    },
                                    "name": "MyTool13",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f23c8208-662b-4e3c-940b-16b52db1c7eb",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var form = tool.findParentByType('form');",
                                                    "",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AddAddressNachislKvartplata'",
                                                    "};",
                                                    "",
                                                    "//Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(params,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'KvartplataApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            if(results.success === \"1\"){",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "            }else{",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "                Ext.MessageBox.show({title: 'Ввод данных',",
                                                    "                                     msg: results.msg,",
                                                    "                                     buttons: Ext.MessageBox.OK,",
                                                    "                                     icon: Ext.MessageBox.ERROR",
                                                    "                                    });",
                                                    "            }",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "7fec2fcc-184a-4f23-8e59-c8f7517f0281"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "выбрать все записи",
                                        "type": "search"
                                    },
                                    "name": "MyTool23",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e0d5c21c-0a03-490a-83c4-6cb6ddf7c579",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "//LOGIN & PASSWORD",
                                                    "var values =stUser.getAt(0);",
                                                    "// FORM",
                                                    "var form = tool.findParentByType('form');",
                                                    "// DATA",
                                                    "",
                                                    "//LOGIKA",
                                                    "StTekNachApp.load({",
                                                    "    params: {",
                                                    "        what:'KvartplataAppAll',",
                                                    "        address_id: values.get('address_id'),",
                                                    "        login:values.get('login'),",
                                                    "        password:values.get('password')",
                                                    "    },",
                                                    "    callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            form.getForm().reset();",
                                                    "            form.getForm().loadRecord(records[0]);",
                                                    "        }else{",
                                                    "            form.getForm().reset();",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "d4aa63c0-0b63-4c3b-ab09-801c02e1e3b2"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "collapsible": null,
                                "forceFit": null,
                                "height": 215,
                                "id": "grLgotaNachKvartplata",
                                "layout|x": 240,
                                "layout|y": 260,
                                "scrollable": true,
                                "store": "StLgotaNachVoda",
                                "title": "начисление на бюджет",
                                "width": 815
                            },
                            "name": "MyGridPanel15",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "e18c3b24-e863-47de-9f59-738638c47246",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "Начислений по льготе нет",
                                        "style": null
                                    },
                                    "name": "MyGridView15",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c3aef304-cb51-415c-b35c-a5d4f11250d0"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Перерасчет",
                                        "icon": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn14",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "85abaec1-37d9-4979-a028-bac688851262",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Добавить перерасчет",
                                                "icon": "resources/css/images/ico/add.png",
                                                "tooltip": "Добавить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem18",
                                            "designerId": "26de9ee6-068d-4751-96af-1821d2730763",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} else if (pr === 1   ){",
                                                            "    metaData = 'x-hide-display';  ",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "eb76d1b2-0cd9-4f59-81e2-823b8f436de4"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "var rbgTypeNachVoda = winAddLgotaPerer.down('#rbgTypeNachVoda');",
                                                            "rbgTypeNachVoda.hide();",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'addLgotaKvartplataPerer'});",
                                                            "stUser.sync();",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "    form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.show();",
                                                            ""
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "2d7315c1-6298-46ad-9a59-ab3e3d5b8de7"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Удалить перерасчет",
                                                "icon": "resources/css/images/ico/delete.png",
                                                "tooltip": "Удалить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem19",
                                            "designerId": "e0261354-f344-474c-a0dc-5009d39fbf2c",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ((pr === 1) && (check_date === tek_date) ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "3181ecc7-8cb6-4f3c-bf66-fe227d1e589f"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppKvartplata');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaKvartplataPerer\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachKvartplata');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете перерасчет по квартплате на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по квартплате на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'KvartplataApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по квартплате на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "ef2efb05-1e8a-4d2d-a86d-72559a5689a0"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "lgota_id",
                                        "hidden": true,
                                        "text": "льгота_ид"
                                    },
                                    "name": "MyColumn66",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e4538d4c-419c-4cac-ac24-e4110ccd5035"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "sdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата с",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn15",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "6aeada00-1fb6-4251-a919-1fba9d739d99"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата по",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn16",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2a4c534a-159f-4d4b-8b56-68920d827843"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fio",
                                        "menuDisabled": true,
                                        "text": "Ф.И.О",
                                        "width": 120
                                    },
                                    "name": "MyColumn67",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "73c710c8-d501-4780-b4e9-4880f07b9e28"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "lgota",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "Льгота",
                                        "tooltip": "name",
                                        "width": 130
                                    },
                                    "name": "MyColumn68",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3028f0b6-b5cd-4216-9b2c-ad1229ef648b"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "percent",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "%",
                                        "width": 35
                                    },
                                    "name": "MyNumberColumn61",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "dcae1cac-a0dd-4244-91ee-84eb1d88c8e9"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "people",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "чел",
                                        "width": 44
                                    },
                                    "name": "MyNumberColumn62",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c8eef196-6e33-4bba-830e-0f3e025f3e56"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "tarif",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "text": "тариф",
                                        "width": 60
                                    },
                                    "name": "MyNumberColumn63",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8f000316-0dbb-452e-ae6a-755c81a90c5a"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "qty",
                                        "menuDisabled": true,
                                        "text": "S (м&sup2;)",
                                        "width": 55
                                    },
                                    "name": "MyNumberColumn64",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b4af920a-f92a-4b92-b134-b5b5d6d01d1e"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "budjet",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "бюджет",
                                        "width": 74
                                    },
                                    "name": "MyNumberColumn65",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bfb2c4d7-0a8f-41bc-bec9-cd7ce5e8f385"
                                },
                                {
                                    "type": "Ext.grid.feature.Summary",
                                    "reference": {
                                        "name": "features",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "name": "MySummaryFeature4",
                                    "designerId": "7da7b71d-f70b-423f-bdfb-3efe1d19de5a"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "pr",
                                        "format": "0",
                                        "menuDisabled": true,
                                        "text": "пр",
                                        "width": 40
                                    },
                                    "name": "MyNumberColumn66",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "52bde8e5-d9d1-40f6-9ef5-de6f7e540ad4"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Редактировать запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn15",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "77e76899-255d-4193-b775-8499190f2d7d",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/edit.png",
                                                "tooltip": "Редактировать запись"
                                            },
                                            "name": "MyActionColumnItem20",
                                            "designerId": "f4ed61b1-2fe6-4d8c-bb60-b9042e54e7fd",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'editLgotaKvartplata'});",
                                                            "stUser.sync();",
                                                            "",
                                                            "form.down('#btAddLgotaPerer').setText('Обновить запись');",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "    form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.setTitle('Редактирование записи на бюджет');",
                                                            "",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "ee316ac1-b4c8-4e13-ac5b-72f2ef023a45"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Удалить запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn16",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "7a06e99f-902a-46ab-a52a-5644da017938",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/no.png",
                                                "tooltip": "Удалить  запись "
                                            },
                                            "name": "MyActionColumnItem21",
                                            "designerId": "cb747ead-903d-411d-aba1-3caaf18654e3",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 1 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ( (pr === 0)  ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "8f3d520a-509d-404e-804f-eb6783296588"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppKvartplata');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaKvartplata\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachKvartplata');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете начисление на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления по воде на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'KvartplataApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления по воде на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "f66ee2b8-65cd-437c-8f21-30515e8200c6"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "info",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "инфо",
                                        "tooltip": "name",
                                        "width": null
                                    },
                                    "name": "MyColumn69",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "cfb0407d-aed2-487b-bcdd-fd18e581d0fd"
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить начисление по льготнику",
                                        "type": "plus"
                                    },
                                    "name": "MyTool14",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "4c75ce6e-de33-4a3a-b610-b91efcf742d5",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "var gridLgotnik = Ext.getCmp('grLgotnikNachApp');",
                                                    "var gridNachisl = Ext.getCmp('grNachKvartplata');",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var value  = gridLgotnik.getView().getSelectionModel().getSelection()[0];",
                                                    "var valueNachisl  = gridNachisl.getView().getSelectionModel().getSelection()[0];",
                                                    "var ind  = gridNachisl.getView().getStore().indexOf(valueNachisl);",
                                                    "",
                                                    "//console.log(valueNachisl.index);",
                                                    "if (value !==undefined && valueNachisl !==undefined ){",
                                                    "    var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                    "    var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                    "    var rbgTypeNachVoda = winAddLgotaPerer.down('#rbgTypeNachVoda');",
                                                    "    var dt = new Date();",
                                                    "    var dt_nach = new Date(valueNachisl.get('data'));",
                                                    "    var check_date = Ext.Date.format(dt, 'Y-m');",
                                                    "    var date_check = Ext.Date.format(dt_nach, 'Y-m');",
                                                    "    form.getForm().findField('m2').hide();",
                                                    "    form.getForm().findField('gkm2').hide();",
                                                    "    rbgTypeNachVoda.hide();",
                                                    "    winAddLgotaPerer.setTitle('Добавление записи на бюджет');",
                                                    "",
                                                    "var pr = form.getForm().findField('checkType').getValue();",
                                                    "    //console.log(pr);",
                                                    "",
                                                    "    if (pr === true ) {",
                                                    "        values.set({'vibor':'addLgotaKvartplata'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('square_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"0\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи начисления на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    } else {",
                                                    "",
                                                    "        values.set({'vibor':'addLgotaKvartplataPerer'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('square_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"1\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи перерасчета на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    }",
                                                    "",
                                                    "",
                                                    "} else{",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Добавлениезаписи начисления  на бюджет',",
                                                    "        msg: 'Не выбран льготчик',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "}"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "e3f833bc-d8a9-4202-b06f-dcb08935c3ca"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "tabIndex": 0
                            },
                            "name": "TabConfig5",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "b6697177-d94f-4dce-a7fd-884c77e19954"
                        },
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "fieldLabel": "Бюджет",
                                "height": 100,
                                "labelAlign": "top",
                                "layout": "absolute",
                                "layout|x": 240,
                                "layout|y": 150,
                                "style": "background-color: #DCDCDC;",
                                "width": 435
                            },
                            "name": "MyFieldContainer15",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "0101d737-d91e-495f-a967-5d912a51c7db",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Sльг (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 60,
                                        "layout|anchor": null,
                                        "layout|x": 5,
                                        "layout|y": 0,
                                        "name": "square_lg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField258",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "4622c785-f8d7-419d-9254-de5c2de3b806"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Льгота",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 45,
                                        "layout|anchor": null,
                                        "layout|x": 290,
                                        "layout|y": 0,
                                        "name": "budjet",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 130
                                    },
                                    "name": "MyNumberField260",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bc64e796-a6f3-46ca-ae6a-b7f70d16045b"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Перер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 45,
                                        "layout|anchor": null,
                                        "layout|x": 155,
                                        "layout|y": 0,
                                        "name": "pbudjet",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField261",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "27507df9-7106-4a6f-a05b-889ae1edd992"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;",
                                        "labelWidth": 40,
                                        "layout|x": 10,
                                        "layout|y": 35,
                                        "name": "msq_lgota",
                                        "style": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "width": 410
                                    },
                                    "name": "MyTextField48",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "66445565-4efd-43eb-bab0-def07a51b912"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "height": 100,
                                "layout": "absolute",
                                "layout|x": 680,
                                "layout|y": 150,
                                "style": "background-color: #DCDCDC;",
                                "title": "",
                                "width": 380
                            },
                            "name": "MyFieldSet31",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "93d83b74-2288-44d0-bbdf-4b0a70d4e9b3",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Оплачено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 70,
                                        "layout|x": 0,
                                        "layout|y": 15,
                                        "name": "oplacheno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 75
                                    },
                                    "name": "MyNumberField262",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "ab5b8639-6918-458a-a4dc-6bf522a1fdf9"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Субc",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 70,
                                        "layout|x": 80,
                                        "layout|y": 15,
                                        "name": "subsidia",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 50
                                    },
                                    "name": "MyNumberField263",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "816ff0d8-98be-454d-8b5b-eb925902d903"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Льг",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 70,
                                        "layout|x": 135,
                                        "layout|y": 15,
                                        "name": "lg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 50
                                    },
                                    "name": "MyNumberField8",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "406b0390-6f59-464d-a5f3-7e10edc10084"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо кон",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|anchor": null,
                                        "layout|x": 190,
                                        "layout|y": 15,
                                        "margin": null,
                                        "name": "dolg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 80
                                    },
                                    "name": "MyNumberField264",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "67e34f6d-b87f-4d52-ab4d-3233badaa7f4"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnKvartplataAppIns",
                                        "itemId": null,
                                        "layout|anchor": null,
                                        "layout|x": 325,
                                        "layout|y": 35,
                                        "margin": null,
                                        "scale": "medium",
                                        "text": "",
                                        "width": 30
                                    },
                                    "name": "MyButton32",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c014b86f-89ea-4691-9631-cdf588aee73f",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppKvartplataIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachKvartplata');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(value,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'KvartplataApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "            if(success){",
                                                    "                grNach.getView().getSelectionModel().select(ind);",
                                                    "            }else{",
                                                    "                form.reset();",
                                                    "            }",
                                                    "        },",
                                                    "        scope:this",
                                                    "    });",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "80529749-ba70-40d0-8c33-a82e1262fd2f"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/schet.png",
                                        "id": "btnKvartplataAppPerer",
                                        "itemId": null,
                                        "layout|x": 285,
                                        "layout|y": 35,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Просчитать",
                                        "width": 30
                                    },
                                    "name": "MyButton33",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b3ed9d2f-656e-4d7e-851b-2493062dae41",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var zadol = form.findField('zadol').getValue();",
                                                    "var tarif = form.findField('tarif').getValue();",
                                                    "var square = form.findField('square').getValue();",
                                                    "var dop = form.findField('dop').getValue();",
                                                    "var lift = form.findField('lift').getValue();",
                                                    "var remont = form.findField('remont').getValue();",
                                                    "",
                                                    "var perer = form.findField('perer').getValue();",
                                                    "var budjet = form.findField('budjet').getValue();",
                                                    "var pbudjet = form.findField('pbudjet').getValue();",
                                                    "var oplacheno = form.findField('oplacheno').getValue();",
                                                    "",
                                                    "var nachisleno =0;",
                                                    "var kvartplata = 0;",
                                                    "",
                                                    "if ((tarif===0)  &&  square > 0 ) {",
                                                    "",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Проверка тарифа',",
                                                    "        msg: 'Введите тариф по услуге',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "} else {",
                                                    "    kvartplata = square * tarif - budjet ;",
                                                    "    nachisleno =kvartplata  +  perer +  dop + remont + lift;",
                                                    "    form.findField('kvartplata').setValue(kvartplata);",
                                                    "    form.findField('nachisleno').setValue(nachisleno);",
                                                    "    form.findField('dolg').setValue(zadol + nachisleno - oplacheno);",
                                                    "",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "1bc65af4-5a20-4b18-883d-a7a8911d8668"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "fieldLabel": "Начислено, грн",
                                "height": 135,
                                "labelAlign": "top",
                                "layout": "absolute",
                                "layout|x": 240,
                                "layout|y": 5,
                                "style": "background-color: #DCDCDC;",
                                "width": 820
                            },
                            "name": "MyFieldContainer14",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "01d76c19-30a5-4f12-a39b-696ac3882ec8",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "labelWidth": 40,
                                        "layout|x": 90,
                                        "layout|y": 5,
                                        "name": "info",
                                        "style": "background-color:#F0F8FF;font-size:10pt;;",
                                        "width": 710
                                    },
                                    "name": "MyTextField49",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9a3b3423-0dce-4cc4-89c0-1ea753367144"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "Тар пер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 60,
                                        "layout|x": 645,
                                        "layout|y": 40,
                                        "name": "ptarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 70
                                    },
                                    "name": "MyNumberField274",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8b65f295-ed2b-4a75-9cbf-81e95177a99a"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "Тариф",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 60,
                                        "layout|x": 290,
                                        "layout|y": 40,
                                        "name": "tarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 70
                                    },
                                    "name": "MyNumberField51",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "558ce5da-07dc-4399-a450-faa56927479a"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Квартпл",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 70,
                                        "layout|x": 360,
                                        "layout|y": 40,
                                        "name": "kvartplata",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 70
                                    },
                                    "name": "MyNumberField280",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "6348bb39-1e6d-47a5-ba1a-26cf25fef9fd"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Доп",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 70,
                                        "layout|x": 430,
                                        "layout|y": 40,
                                        "name": "dop",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 50
                                    },
                                    "name": "MyNumberField281",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a1928ab3-c8c7-49b3-bdb7-018356c384af"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Лифт",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 70,
                                        "layout|x": 480,
                                        "layout|y": 40,
                                        "name": "lift",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 50
                                    },
                                    "name": "MyNumberField50",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c1e588f1-dded-4a80-9391-2280ac3d0e19"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Рем",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 70,
                                        "layout|x": 530,
                                        "layout|y": 40,
                                        "name": "remont",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 50
                                    },
                                    "name": "MyNumberField11",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a31dfbe3-49d7-46bb-aca2-ec6e8f71f945"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Перер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 70,
                                        "layout|x": 580,
                                        "layout|y": 40,
                                        "name": "perer",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 65
                                    },
                                    "name": "MyNumberField282",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5f2a232b-77ce-4cd7-bd86-268bb6b3c4c7"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Начислено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 70,
                                        "layout|x": 715,
                                        "layout|y": 40,
                                        "name": "nachisleno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 95
                                    },
                                    "name": "MyNumberField283",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "537d1327-3c1f-4bd0-96a3-c3100a3e2f15"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "S  (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|x": 220,
                                        "layout|y": 40,
                                        "name": "square",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 70
                                    },
                                    "name": "MyNumberField284",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5b437166-1ad9-4cef-b141-9a4bff673c65"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо нач",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|anchor": null,
                                        "layout|x": 125,
                                        "layout|y": 40,
                                        "margin": null,
                                        "name": "zadol",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 95
                                    },
                                    "name": "MyNumberField285",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f8d12b8b-4e77-48da-a38d-2f4f5f745529"
                                },
                                {
                                    "type": "Ext.form.field.Date",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "border": "0px",
                                        "fieldLabel": "Период ",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:11pt;text-align:right;",
                                        "format": "F,Y",
                                        "hideTrigger": true,
                                        "id": null,
                                        "labelAlign": "top",
                                        "labelWidth": 50,
                                        "layout|x": 5,
                                        "layout|y": 40,
                                        "margin": null,
                                        "name": "data",
                                        "startDay": 1,
                                        "submitFormat": "Ymd",
                                        "width": 120
                                    },
                                    "name": "MyDateField13",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a064482a-634a-405c-b520-5e47e555a310"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Печать расчетки",
                                        "disabled": null,
                                        "formBind": null,
                                        "height": null,
                                        "icon": "resources/css/images/ico/printer24.png",
                                        "id": "printRaspechatakaKvartplata",
                                        "layout|x": 5,
                                        "layout|y": 0,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Печать расчетного листка",
                                        "tooltipType": "title",
                                        "width": null
                                    },
                                    "name": "MyButton34",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9f796494-7ab8-4c18-b446-3dc0edcc0441",
                                    "customConfigs": [
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "formBind",
                                            "type": "string"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/refresh.png",
                                        "id": "btnKvartplataAppReset",
                                        "itemId": null,
                                        "layout|x": 50,
                                        "layout|y": 0,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Восстановить",
                                        "width": null
                                    },
                                    "name": "MyButton35",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "64df86b7-c46e-4df8-af4c-fac959528bf8",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var grNach = Ext.getCmp('grNachKvartplata');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "grNach.getView().getSelectionModel().clearSelections();",
                                                    "grNach.getView().getSelectionModel().select(ind);"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "0f7b6592-e499-4516-b74b-3477c520334f"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 5,
                        "height": null,
                        "id": "tabFmAppRfond",
                        "itemId": null,
                        "layout": "absolute",
                        "minHeight": null,
                        "title": "РФонд",
                        "width": 1096
                    },
                    "name": "MyForm8",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "3b3e2357-9306-4d0a-a7a2-40c3902329a1",
                    "cn": [
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|createAlias": null,
                                "forceFit": null,
                                "height": 500,
                                "id": "grNachRfond",
                                "layout|x": 0,
                                "layout|y": 0,
                                "scrollable": true,
                                "store": "StTekNachApp",
                                "title": "Период начисления",
                                "width": 220
                            },
                            "name": "MyGridPanel16",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "b0ee6204-2af2-457a-b776-3d8748177482",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "нет начислений",
                                        "style": null
                                    },
                                    "name": "MyGridView16",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "929baff1-4615-4190-9e95-b8a02d1f6f42"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "address_id",
                                        "hidden": true,
                                        "text": "Address_id"
                                    },
                                    "name": "MyNumberColumn67",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "75080f68-b9a4-4ae9-b03c-0300bdc8e4c7"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "god",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "год",
                                        "width": 50
                                    },
                                    "name": "MyNumberColumn68",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "993b17aa-2d49-4cbd-b527-c3459a92bc0f"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "data",
                                        "format": "F",
                                        "menuDisabled": true,
                                        "text": "месяц",
                                        "width": 80
                                    },
                                    "name": "MyDateColumn17",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "76bada96-10f4-46e2-ba47-4b0537fdcade"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "zadol",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "задол",
                                        "width": 70
                                    },
                                    "name": "MyColumn70",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "918a132f-f49c-4560-ae70-b2a54eb146f6",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "350c789c-d428-4072-8f56-f2837b01e580"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "mec",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "мес",
                                        "width": 49
                                    },
                                    "name": "MyColumn71",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a66e31fd-337a-48c3-a2ae-d0b26e0bc850"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "period",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "Период",
                                        "width": 62
                                    },
                                    "name": "MyColumn72",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bf3dec21-2e8b-499d-a85d-e4e819660974"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "nachisleno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "начисл",
                                        "width": 70
                                    },
                                    "name": "MyColumn73",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0ecb0e77-ff8a-4963-83cd-1f1254867a1f",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "d4ad8645-8470-465c-8ad4-ddf2b74b9c5b"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "oplacheno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "оплач",
                                        "width": 70
                                    },
                                    "name": "MyColumn74",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bae137e2-4cb7-45c3-984e-ffcea848fb16",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "b0d67680-94ee-4c9c-9a75-9080f5bd174d"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "dolg",
                                        "flex": null,
                                        "menuDisabled": true,
                                        "text": "Долг",
                                        "width": 75
                                    },
                                    "name": "MyColumn75",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e58d40ee-e9f3-4c85-9c77-5ef304771d01",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "2d53edf2-fdcc-45e9-990e-40f5a690f4c5"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить запись",
                                        "type": "plus"
                                    },
                                    "name": "MyTool15",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "dd39b0c2-b906-4e88-83e8-8e8b7c66bdb7",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var form = tool.findParentByType('form');",
                                                    "",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AddAddressNachislVaxta'",
                                                    "};",
                                                    "",
                                                    "//Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(params,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'VaxtaApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            if(results.success === \"1\"){",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "            }else{",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "                Ext.MessageBox.show({title: 'Ввод данных',",
                                                    "                                     msg: results.msg,",
                                                    "                                     buttons: Ext.MessageBox.OK,",
                                                    "                                     icon: Ext.MessageBox.ERROR",
                                                    "                                    });",
                                                    "            }",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "b54e6870-67ba-4f30-9a7f-28343735b19c"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "выбрать все записи",
                                        "type": "search"
                                    },
                                    "name": "MyTool26",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "80592464-adce-4e96-bdf1-0f5d7d8ad1bf",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "//LOGIN & PASSWORD",
                                                    "var values =stUser.getAt(0);",
                                                    "// FORM",
                                                    "var form = tool.findParentByType('form');",
                                                    "// DATA",
                                                    "",
                                                    "//LOGIKA",
                                                    "StTekNachApp.load({",
                                                    "    params: {",
                                                    "        what:'VaxtaAppAll',",
                                                    "        address_id: values.get('address_id'),",
                                                    "        login:values.get('login'),",
                                                    "        password:values.get('password')",
                                                    "    },",
                                                    "    callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            form.getForm().reset();",
                                                    "            form.getForm().loadRecord(records[0]);",
                                                    "        }else{",
                                                    "            form.getForm().reset();",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "12732eca-1f0a-4db4-983d-623cfa537b1e"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "tabIndex": 1
                            },
                            "name": "TabConfig6",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "f4e46d35-d4ad-4488-b905-75e37d167230"
                        },
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "fieldLabel": "Начислено ,грн",
                                "height": 210,
                                "labelAlign": "top",
                                "layout": "absolute",
                                "layout|x": 390,
                                "layout|y": 10,
                                "style": "background-color: #DCDCDC;",
                                "width": 510
                            },
                            "name": "MyFieldContainer",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "0ea3418d-4877-47e4-99ae-ef5cd1d8839f",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Печать расчетки",
                                        "disabled": null,
                                        "formBind": null,
                                        "height": null,
                                        "icon": "resources/css/images/ico/printer24.png",
                                        "id": "printRaspechatakaVaxta1",
                                        "layout|x": 430,
                                        "layout|y": 85,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Печать расчетного листка",
                                        "tooltipType": "title",
                                        "width": null
                                    },
                                    "name": "MyButton36",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "61fdbb64-b655-47fe-b873-08be12215e81",
                                    "customConfigs": [
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "formBind",
                                            "type": "string"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо перер",
                                        "layout|x": 10,
                                        "layout|y": 130,
                                        "name": "info",
                                        "width": 475
                                    },
                                    "name": "MyTextField50",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9bffbd9d-410d-4aef-a70c-cea95f618c9c"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "тариф",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 10,
                                        "layout|y": 5,
                                        "name": "tarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField275",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5f2a5e5c-2815-4cca-8f08-1efe87c6938a"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "Тар пер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 60,
                                        "layout|x": 155,
                                        "layout|y": 45,
                                        "name": "ptarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 130
                                    },
                                    "name": "MyNumberField276",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "93291324-4776-47e0-93f7-0c1d22d87660"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "РФонд",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 40,
                                        "layout|x": 170,
                                        "layout|y": 5,
                                        "name": "rfond",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 115
                                    },
                                    "name": "MyNumberField289",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "30b68659-883f-4b9b-9618-27e8a0947ee9"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Перерасч",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 145,
                                        "layout|y": 85,
                                        "name": "perer",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField290",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "97dccdb4-7bad-4845-ad60-e5fcfad01457"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Начислено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 325,
                                        "layout|y": 5,
                                        "name": "nachisleno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField292",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "1226a147-79f6-4e6c-a801-3aa27b174139"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Оплачено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 325,
                                        "layout|y": 40,
                                        "name": "oplacheno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField293",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "66c70735-36cf-4333-8269-37875c143994"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Человек",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 10,
                                        "layout|y": 45,
                                        "name": "people",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField294",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "4448916c-7c71-4207-b046-3d5bff85ebf2"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "S  (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 10,
                                        "layout|y": 85,
                                        "name": "square",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField2",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "29a27688-2fe0-425a-b091-a35abf312374"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/schet.png",
                                        "id": "btnRfondAppPerer",
                                        "itemId": null,
                                        "layout|x": 375,
                                        "layout|y": 85,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Просчитать",
                                        "width": 30
                                    },
                                    "name": "MyButton37",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "7cace176-8de9-4202-91f8-4e05487dca8d",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "//this.up('#winAddVodomer').close();",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "//form.reset();",
                                                    "var zadol = form.findField('zadol').getValue();",
                                                    "var tarif = form.findField('tarif').getValue();",
                                                    "var people = form.findField('people').getValue();",
                                                    "var square = form.findField('square').getValue();",
                                                    "var perer = form.findField('perer').getValue();",
                                                    "var oplacheno = form.findField('oplacheno').getValue();",
                                                    "",
                                                    "var nachisleno =0;",
                                                    "var rfond = 0;",
                                                    "",
                                                    "rfond =  tarif ;",
                                                    "nachisleno =rfond +  perer;",
                                                    "form.findField('rfond').setValue(rfond);",
                                                    "form.findField('nachisleno').setValue(nachisleno);",
                                                    "form.findField('dolg').setValue(zadol + nachisleno - oplacheno);",
                                                    "",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "436d2b87-4884-468f-8033-504ae789f516"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/refresh.png",
                                        "id": "btnRfondAppReset",
                                        "itemId": null,
                                        "layout|x": 325,
                                        "layout|y": 85,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Восстановить",
                                        "width": 30
                                    },
                                    "name": "MyButton38",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "726d37b8-6fb3-43ee-8973-dd90ae054fad",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var grNach = Ext.getCmp('grNachRfond');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "grNach.getView().getSelectionModel().clearSelections();",
                                                    "grNach.getView().getSelectionModel().select(ind);"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "f1673a04-eb27-4921-8cdd-0cd2d8e848e0"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 150,
                                "layout|x": 230,
                                "layout|y": 65,
                                "style": "background-color: #DCDCDC;",
                                "title": "",
                                "width": 145
                            },
                            "name": "MyFieldSet35",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "7e1dc6be-15c3-4f94-8487-eee410e36c24",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на начало",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "zadol",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField295",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "88649e31-6988-49c0-9eee-f4ca5a186a31"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на конец",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "dolg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField296",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "94372a6a-f0d6-4013-92dd-6c12365e5145"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnRfondAppIns",
                                        "itemId": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "text": "Записать",
                                        "width": 100
                                    },
                                    "name": "MyButton39",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2dbbde65-a382-4ea1-9f93-35da4953789e",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppRfondIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachRfond');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "",
                                                    "//LOGIKA",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(value,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'RfondApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "            if(success){",
                                                    "                grNach.getView().getSelectionModel().select(ind);",
                                                    "",
                                                    "            }else{",
                                                    "                form.reset();",
                                                    "            }",
                                                    "        },",
                                                    "        scope:this",
                                                    "    });",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "fccb3b8b-84e8-4440-8a2a-ebd9d309ebb3"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": "0px",
                                "fieldLabel": "Период начислен",
                                "fieldStyle": "color: #1791e6; text-shadow: -1px -1px white, 1px 1px #333;font-size:14pt;text-align:center",
                                "format": "F,Y",
                                "hideLabel": true,
                                "hideTrigger": true,
                                "id": null,
                                "labelAlign": "top",
                                "labelWidth": 50,
                                "layout|x": 230,
                                "layout|y": 10,
                                "margin": "10 0 10 0",
                                "name": "data",
                                "startDay": 1,
                                "submitFormat": "Ymd",
                                "width": 150
                            },
                            "name": "MyDateField14",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "cf2ad1e4-c347-49db-af34-0db236a422bb"
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 5,
                        "height": null,
                        "id": "tabFmAppEnergy",
                        "itemId": null,
                        "layout": "absolute",
                        "minHeight": null,
                        "title": "Электроэнергия",
                        "width": null
                    },
                    "name": "MyForm4",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "33d0809c-bf76-4672-bb25-01dc456ab333",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "tabIndex": 2
                            },
                            "name": "TabConfig3",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "8d5b03af-1e33-4522-9e8f-8e98ddda08c0"
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|createAlias": null,
                                "forceFit": null,
                                "height": 490,
                                "id": "grNachEnergy",
                                "layout|x": 0,
                                "layout|y": 0,
                                "scrollable": true,
                                "store": "StTekNachApp",
                                "title": "Период начисления",
                                "width": 225
                            },
                            "name": "MyGridPanel10",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "dada8ce7-b4be-4798-9ac2-e0215cf52203",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "нет начислений",
                                        "style": null
                                    },
                                    "name": "MyGridView10",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "344683d9-7c9c-4780-852c-811eb01d607f"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "address_id",
                                        "hidden": true,
                                        "text": "Address_id"
                                    },
                                    "name": "MyNumberColumn43",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fedc2b0b-f511-4739-bab2-6187c77d80f7"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "god",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "год",
                                        "width": 50
                                    },
                                    "name": "MyNumberColumn44",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "384eddcc-db2b-46b1-a10e-24cc222eec25"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "data",
                                        "format": "F",
                                        "menuDisabled": true,
                                        "text": "месяц",
                                        "width": 80
                                    },
                                    "name": "MyDateColumn8",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5644472e-1d53-45ad-8e19-5d0634348988"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "zadol",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "задол",
                                        "width": 70
                                    },
                                    "name": "MyColumn42",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "495d3f37-41f8-4018-af5e-7cd7e9190b6b",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "bd82c18a-e75d-47c3-8532-6ca700fcb9df"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "mec",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "мес",
                                        "width": 49
                                    },
                                    "name": "MyColumn43",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "76d1fed5-87e6-4ef8-86a8-bc330dc762c8"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "period",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "Период",
                                        "width": 62
                                    },
                                    "name": "MyColumn44",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0bd255b7-277e-4361-b3c3-3698674a2431"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "nachisleno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "начисл",
                                        "width": 70
                                    },
                                    "name": "MyColumn45",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d220aaaf-0424-4f53-9cbd-44ff4481ea59",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "83da5378-3702-4428-aad7-2f01c8fcb48a"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "oplacheno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "оплач",
                                        "width": 70
                                    },
                                    "name": "MyColumn46",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "cd7f593b-2c11-4045-8c57-8d21df331373",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "a89b185c-0a32-4049-9e41-c44d8d772b6c"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "dolg",
                                        "flex": null,
                                        "menuDisabled": true,
                                        "text": "Долг",
                                        "width": 80
                                    },
                                    "name": "MyColumn47",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "4e8d862f-be60-443b-bd9d-d3ce3b923ed1",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "7753bc03-20e3-499c-801b-b1d96dcf74ee"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить запись",
                                        "type": "plus"
                                    },
                                    "name": "MyTool9",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "24bd7d1f-470f-4341-abdd-e4484b6ca43f",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var form = tool.findParentByType('form');",
                                                    "",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AddAddressNachislEnergy'",
                                                    "};",
                                                    "",
                                                    "//Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(params,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'EnergyApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            if(results.success === \"1\"){",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "            }else{",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "                Ext.MessageBox.show({title: 'Ввод данных',",
                                                    "                                     msg: results.msg,",
                                                    "                                     buttons: Ext.MessageBox.OK,",
                                                    "                                     icon: Ext.MessageBox.ERROR",
                                                    "                                    });",
                                                    "            }",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "2943c314-62ae-4374-b700-689c4a01b5bf"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "выбрать все записи",
                                        "type": "search"
                                    },
                                    "name": "MyTool25",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "54de5184-b651-45d3-b097-a797ee89df48",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "//LOGIN & PASSWORD",
                                                    "var values =stUser.getAt(0);",
                                                    "// FORM",
                                                    "var form = tool.findParentByType('form');",
                                                    "// DATA",
                                                    "",
                                                    "//LOGIKA",
                                                    "StTekNachApp.load({",
                                                    "    params: {",
                                                    "        what:'EnergyAppAll',",
                                                    "        address_id: values.get('address_id'),",
                                                    "        login:values.get('login'),",
                                                    "        password:values.get('password')",
                                                    "    },",
                                                    "    callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            form.getForm().reset();",
                                                    "            form.getForm().loadRecord(records[0]);",
                                                    "        }else{",
                                                    "            form.getForm().reset();",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "ac569a66-6c83-42fb-954e-826c27b71048"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "collapsible": null,
                                "forceFit": null,
                                "height": 260,
                                "id": "grLgotaNachEnergy",
                                "layout|x": 240,
                                "layout|y": 230,
                                "scrollable": true,
                                "store": "StLgotaNachVoda",
                                "title": "начисление на бюджет",
                                "width": 840
                            },
                            "name": "MyGridPanel11",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "6a483baa-43de-4bf9-99fa-95c5622f7039",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "Начислений по льготе нет",
                                        "style": null
                                    },
                                    "name": "MyGridView11",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "1522fb9b-d270-49e8-a191-f13dec190d00"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Перерасчет",
                                        "icon": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn8",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "12ac0652-f37f-48b9-9b9f-4f5a5e05c3be",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Добавить перерасчет",
                                                "icon": "resources/css/images/ico/add.png",
                                                "tooltip": "Добавить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem10",
                                            "designerId": "ce45e725-42ec-4d00-852d-3586a74da5f6",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} else if (pr === 1   ){",
                                                            "    metaData = 'x-hide-display';  ",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "eb928704-8477-4578-90c0-8cfd663d1ce2"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'addLgotaEnergyPerer'});",
                                                            "stUser.sync();",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "721dc8e9-85ee-41fb-a3cc-44d7441037fa"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Удалить перерасчет",
                                                "icon": "resources/css/images/ico/delete.png",
                                                "tooltip": "Удалить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem11",
                                            "designerId": "b5901365-663d-4f6a-9696-44c1ff126cbe",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ((pr === 1) && (check_date === tek_date) ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "684bacd9-b405-44d5-9a5f-5e2a4d6d8100"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppPodogrev');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaEnergyPerer\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachEnergy');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете перерасчет по электроэнергии на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по электроэнергии на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'EnergyApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по электроэнергии на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "8b7910fe-d0fa-4d02-84a7-a73c98f7211a"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "sdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата с",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn9",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "95f293d7-9097-42c8-8fb1-e45394c47b0f"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата по",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn10",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3adeccb9-2d19-4710-9301-730f1cb14903"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fio",
                                        "menuDisabled": true,
                                        "text": "Ф.И.О",
                                        "width": 120
                                    },
                                    "name": "MyColumn48",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "003936c7-36ee-4c7b-9753-3253daba7089"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "lgota",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "Льгота",
                                        "tooltip": "name",
                                        "width": 130
                                    },
                                    "name": "MyColumn49",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fd6029d5-983a-4100-af7a-bc4ffc1ec3ac"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "percent",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "%",
                                        "width": 35
                                    },
                                    "name": "MyNumberColumn45",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3c734e3a-d5d2-4af1-8c28-ca147c9f553b"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "people",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "чел",
                                        "width": 44
                                    },
                                    "name": "MyNumberColumn46",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fb6290d2-d67b-45fe-9de5-b4286c73bfb7"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "tarif",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "summaryType": null,
                                        "text": "тариф",
                                        "width": 60
                                    },
                                    "name": "MyNumberColumn47",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "74f18808-9fdb-4ced-be6a-479449427bcd"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "qty",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "кВт-ч",
                                        "width": 49
                                    },
                                    "name": "MyNumberColumn48",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "44bd90bc-c1b8-4126-b375-4cc7802e0db0"
                                },
                                {
                                    "type": "Ext.grid.feature.Summary",
                                    "reference": {
                                        "name": "features",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "name": "MySummaryFeature2",
                                    "designerId": "f9e6628f-a634-4c99-891d-28d609b5d9bc"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "budjet",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "бюджет",
                                        "width": 74
                                    },
                                    "name": "MyNumberColumn49",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a05011d4-8ce0-4650-ae62-5958ece7104a"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "pr",
                                        "format": "0",
                                        "menuDisabled": true,
                                        "text": "пр",
                                        "width": 40
                                    },
                                    "name": "MyNumberColumn50",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "cbbad159-4530-4b26-bf07-921a395d20a2"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Редактировать запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn9",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5ffe4002-88ed-4d3a-982e-9fd5fb2280ae",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/edit.png",
                                                "tooltip": "Редактировать запись"
                                            },
                                            "name": "MyActionColumnItem12",
                                            "designerId": "398a9301-a190-4d87-9164-9536030cf6e4",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'editLgotaEnergy'});",
                                                            "stUser.sync();",
                                                            "",
                                                            "form.down('#btAddLgotaPerer').setText('Обновить запись');",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.setTitle('Редактирование записи на бюджет');",
                                                            "",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "f0e978d1-024f-4641-8738-8e7434acb8ec"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Удалить запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn10",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "73bb4dd7-e0ee-4fca-8a9f-eea09bcb9002",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/no.png",
                                                "tooltip": "Удалить  запись "
                                            },
                                            "name": "MyActionColumnItem13",
                                            "designerId": "6cc2faea-b766-4ea4-883b-e4c6757923fb",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 1 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ( (pr === 0)  ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "b934c160-459c-4970-9f7a-e4f7173d8b67"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppEnergy');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaEnergy\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachEnergy');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете начисление на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления по электроэнергии на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'EnergyApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления  на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "8a7cec38-5159-4530-8b89-35aad2adb0e6"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "info",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "инфо",
                                        "tooltip": "name",
                                        "width": null
                                    },
                                    "name": "MyColumn50",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bc665409-c5a0-41db-8fa5-18856092bb5e"
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить начисление по льготнику",
                                        "type": "plus"
                                    },
                                    "name": "MyTool10",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a83f85bf-73de-434e-867b-3082c6076ec9",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "var gridLgotnik = Ext.getCmp('grLgotnikNachApp');",
                                                    "var gridNachisl = Ext.getCmp('grNachEnergy');",
                                                    "",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "",
                                                    "var value  = gridLgotnik.getView().getSelectionModel().getSelection()[0];",
                                                    "var valueNachisl  = gridNachisl.getView().getSelectionModel().getSelection()[0];",
                                                    "var ind  = gridNachisl.getView().getStore().indexOf(valueNachisl);",
                                                    "",
                                                    "if (value !==undefined && valueNachisl !==undefined ){",
                                                    "    var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                    "    var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                    "    var dt = new Date();",
                                                    "    var dt_nach = new Date(valueNachisl.get('data'));",
                                                    "    var check_date = Ext.Date.format(dt, 'Y-m');",
                                                    "    var date_check = Ext.Date.format(dt_nach, 'Y-m');",
                                                    "",
                                                    "    form.getForm().findField('m2').hide();",
                                                    "    form.getForm().findField('gkm2').hide();",
                                                    "    winAddLgotaPerer.setTitle('Добавление записи на бюджет');",
                                                    "",
                                                    "    var pr = form.getForm().findField('checkType').getValue();",
                                                    "    //console.log(pr);",
                                                    "",
                                                    "    if (pr === true ) {",
                                                    "        values.set({'vibor':'addLgotaEnergy'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('kwh_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"0\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи начисления на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    } else {",
                                                    "",
                                                    "        values.set({'vibor':'addLgotaEnergyPerer'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('kwh_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"1\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи перерасчета на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    }",
                                                    "",
                                                    "",
                                                    "} else{",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Добавлениезаписи начисления  на бюджет',",
                                                    "        msg: 'Не выбран льготчик',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "}"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "56734aaf-d8df-4b7b-9875-33751874de13"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": "0px",
                                "fieldLabel": "Период начислен",
                                "fieldStyle": "color: #1791e6; text-shadow: -1px -1px white, 1px 1px #333;font-size:14pt;text-align:center",
                                "format": "F,Y",
                                "hideLabel": true,
                                "hideTrigger": true,
                                "id": null,
                                "labelAlign": "top",
                                "labelWidth": 50,
                                "layout|x": 240,
                                "layout|y": 0,
                                "margin": "10 0 10 0",
                                "name": "data",
                                "startDay": 1,
                                "submitFormat": "Ymd",
                                "width": 150
                            },
                            "name": "MyDateField10",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "6a2c96c5-c661-4983-ab20-a306bdfa0d0f"
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 175,
                                "layout|x": 240,
                                "layout|y": 45,
                                "style": "background-color: #DCDCDC;",
                                "title": "Сальдо",
                                "width": 140
                            },
                            "name": "MyFieldSet22",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "f58c8750-65ac-4565-9bd6-8e3cde4bf22f",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на начало",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|anchor": "100%",
                                        "name": "zadol",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 119
                                    },
                                    "name": "MyNumberField243",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f3e05147-017d-45ff-a2ae-a9372dbbd684"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на конец",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|anchor": "100%",
                                        "name": "dolg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 119
                                    },
                                    "name": "MyNumberField244",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "18285773-5af3-4f10-9456-2ba2fedfbddc"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnEnergyAppIns",
                                        "itemId": null,
                                        "layout|anchor": "100%",
                                        "margin": "10 0 0 0",
                                        "text": "Записать",
                                        "width": 90
                                    },
                                    "name": "MyButton23",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b33f52b8-092b-40d8-8f8d-47493e4ff7dd",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppEnergyIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachEnergy');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "//LOGIKA",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(value,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'EnergyApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "            if(success){",
                                                    "                grNach.getView().getSelectionModel().select(ind);",
                                                    "            }else{",
                                                    "                form.reset();",
                                                    "            }",
                                                    "        },",
                                                    "        scope:this",
                                                    "    });",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "5573e6c8-6186-435f-840f-d49b0b247db0"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "height": 215,
                                "layout": "absolute",
                                "layout|x": 400,
                                "layout|y": 5,
                                "style": "background-color: #DCDCDC;",
                                "title": "Начислено, грн",
                                "width": 680
                            },
                            "name": "MyFieldSet23",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "64f13cd8-d94d-4e69-9aab-a43354ac354f",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "тариф",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 5,
                                        "layout|y": 35,
                                        "name": "tarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 115
                                    },
                                    "name": "MyNumberField269",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3bb99510-c63d-42ea-9445-36f988722370"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "Тар пер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 5,
                                        "layout|y": 65,
                                        "name": "ptarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 115
                                    },
                                    "name": "MyNumberField270",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "806bee39-7be3-4376-b850-7e18eeb9e477"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 0,
                                        "fieldLabel": "человек",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 5,
                                        "layout|y": 5,
                                        "name": "people",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 115
                                    },
                                    "name": "MyNumberField245",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "6de93cc2-81ff-463e-829b-d7cf07652164"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "кВт-ч",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 40,
                                        "layout|x": 0,
                                        "layout|y": 95,
                                        "name": "kwh",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 120
                                    },
                                    "name": "MyNumberField246",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fe172545-2426-4b52-8807-2ac35b44e6ea"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "кВт-ч",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 40,
                                        "layout|x": 140,
                                        "layout|y": 5,
                                        "name": "kwhn",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField1",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9cdc32ce-eee4-4ece-9225-91297dbbcf1b"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Норма",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 140,
                                        "layout|y": 35,
                                        "name": "norma",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField248",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c965976c-8372-458d-83bd-6a1126e4a9c7"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Начислено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 455,
                                        "layout|y": 10,
                                        "name": "nachisleno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 155
                                    },
                                    "name": "MyNumberField249",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f82e8a3b-a65e-4839-a428-d5adb20b7169"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Оплачено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 455,
                                        "layout|y": 40,
                                        "name": "oplacheno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 155
                                    },
                                    "name": "MyNumberField250",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "96c2089e-2cb7-4740-ba98-0c755cc00350"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "в т.ч. льг",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 455,
                                        "layout|y": 100,
                                        "name": "lg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 155
                                    },
                                    "name": "MyNumberField12",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b761fe4a-7da5-46d4-871f-c062fa028146"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "в т.ч субс",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 455,
                                        "layout|y": 70,
                                        "name": "subsidia",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 155
                                    },
                                    "name": "MyNumberField24",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "33ce090e-95bc-4e75-9fee-dd6005ad0e3b"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Электр",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 140,
                                        "layout|y": 65,
                                        "name": "energy",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField252",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "7403b530-9501-4859-815c-3b473b35253f"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Перер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 140,
                                        "layout|y": 95,
                                        "name": "perer",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField253",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "03805f24-558e-4fe1-af04-81d17c76d699"
                                },
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 115,
                                        "layout|x": 285,
                                        "layout|y": 0,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "Бюджет",
                                        "width": 145
                                    },
                                    "name": "MyFieldSet24",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "cf1af0a5-20b4-4308-b294-2e770b42a65e",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "кВт-ч",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "kwh_lg",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 124
                                            },
                                            "name": "MyNumberField254",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "bcf150eb-f98a-4eec-bf8a-fd3837d6ba14"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Бюджет",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "budjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField255",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "a8b0502f-f357-49d3-8fed-220a073af4ef"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Перер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "pbudjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField257",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "1a7b97b6-5b5b-4bd6-9c5b-513b370904e4"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо перер",
                                        "fieldStyle": "background-color:#F0F8FF;",
                                        "layout|x": 0,
                                        "layout|y": 135,
                                        "name": "info",
                                        "width": 655
                                    },
                                    "name": "MyTextField44",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "ff194c9c-71fd-4298-b734-39b6ec30bad1"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо бюджет",
                                        "fieldStyle": "background-color:#F0F8FF;",
                                        "layout|x": 0,
                                        "layout|y": 165,
                                        "name": "msq_lgota",
                                        "width": 655
                                    },
                                    "name": "MyTextField45",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "95d57459-c156-4fb3-bdcd-b4b25dc6cec3"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/refresh.png",
                                        "id": "btnaAppEnergyReset",
                                        "itemId": null,
                                        "layout|x": 625,
                                        "layout|y": 45,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Восстановить",
                                        "width": 30
                                    },
                                    "name": "MyButton25",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "03678737-6c2a-4800-9a02-d684c79997ef",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var grNach = Ext.getCmp('grNachEnergy');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "grNach.getView().getSelectionModel().clearSelections();",
                                                    "grNach.getView().getSelectionModel().select(ind);"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "368df52f-2cc2-4ea7-9530-d7949c1e05df"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/schet.png",
                                        "id": "btnEnergyAppPerer",
                                        "itemId": null,
                                        "layout|x": 625,
                                        "layout|y": 85,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Просчитать",
                                        "width": 30
                                    },
                                    "name": "MyButton26",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9cdf4467-6e1b-4669-940e-91d91cea1881",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "//this.up('#winAddVodomer').close();",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "//form.reset();",
                                                    "var zadol = form.findField('zadol').getValue();",
                                                    "var tarif = form.findField('tarif').getValue();",
                                                    "var kwh = form.findField('kwh').getValue();",
                                                    "var kwhn = form.findField('kwhn').getValue();",
                                                    "",
                                                    "var gkub_lg = form.findField('kwh_lg').getValue();",
                                                    "var people = form.findField('people').getValue();",
                                                    "var perer = form.findField('perer').getValue();",
                                                    "var budjet = form.findField('budjet').getValue();",
                                                    "var pbudjet = form.findField('pbudjet').getValue();",
                                                    "var oplacheno = form.findField('oplacheno').getValue();",
                                                    "",
                                                    "var nachisleno =0;",
                                                    "var norma = 0;",
                                                    "var energy = 0;",
                                                    "",
                                                    "if ((tarif===0)  &&  (kwh > 0 || kwhn > 0)) {",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Проверка тарифа',",
                                                    "        msg: 'Введите тариф по услуге',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "} else {",
                                                    "    if (kwh >0 ) {",
                                                    "        energy = kwh * tarif - budjet ;",
                                                    "        norma = 0 ;",
                                                    "    } else if (kwhn >0 ) {",
                                                    "        norma = kwhn * tarif - budjet ;",
                                                    "        energy = 0;",
                                                    "    } else {",
                                                    "        norma = 0;",
                                                    "        energy = 0;",
                                                    "    }",
                                                    "    nachisleno = energy + perer + norma  ;",
                                                    "    form.findField('energy').setValue(energy);",
                                                    "    form.findField('norma').setValue(norma);",
                                                    "    form.findField('nachisleno').setValue(nachisleno);",
                                                    "    form.findField('dolg').setValue(zadol + nachisleno - oplacheno);",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "e2056698-0679-427e-8f82-be07b1c8b51b"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Печать расчетки",
                                        "disabled": null,
                                        "formBind": null,
                                        "height": null,
                                        "icon": "resources/css/images/ico/printer24.png",
                                        "id": "printRaspechatakaEnergy",
                                        "layout|x": 625,
                                        "layout|y": 5,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Печать расчетного листка",
                                        "tooltipType": "title",
                                        "width": null
                                    },
                                    "name": "MyButton",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "be7aec0c-6ab4-4b75-a8da-9bcc655fda2d",
                                    "customConfigs": [
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "formBind",
                                            "type": "string"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 5,
                        "height": 536,
                        "id": "tabFmAppVoda",
                        "itemId": null,
                        "layout": "absolute",
                        "minHeight": null,
                        "title": "Хвода",
                        "width": null
                    },
                    "name": "MyForm6",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "3c2208af-f2ec-4649-b822-bbd98265e617",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "tabIndex": 3
                            },
                            "name": "TabConfig1",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "a8ecfe24-a914-4b2b-b974-73255dfde655"
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 190,
                                "layout|x": 235,
                                "layout|y": 55,
                                "style": "background-color: #DCDCDC;",
                                "title": "Сальдо",
                                "width": 140
                            },
                            "name": "MyFieldSet16",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "487059d8-3d9c-4e81-b57a-738b1162b61a",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на начало",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|anchor": "100%",
                                        "name": "zadol",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 119
                                    },
                                    "name": "MyNumberField310",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0af4862f-93cf-4a6b-869e-a8803efc0633"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на конец",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|anchor": "100%",
                                        "name": "dolg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 119
                                    },
                                    "name": "MyNumberField172",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "db01c439-d258-4373-9006-e1824d2ce72c"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnVodaAppIns",
                                        "itemId": null,
                                        "layout|anchor": "100%",
                                        "margin": "10 0 0 0",
                                        "text": "Записать",
                                        "width": 100
                                    },
                                    "name": "MyButton15",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5fb1adb3-c5be-49f2-ab27-494f0ec06a6e",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppVodaIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachVoda');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "//console.log();",
                                                    "",
                                                    "//LOGIKA",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(value,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'VodaApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "            if(success){",
                                                    "                grNach.getView().getSelectionModel().select(ind);",
                                                    "",
                                                    "            }else{",
                                                    "                form.getForm().reset();",
                                                    "            }",
                                                    "        },",
                                                    "        scope:this",
                                                    "    });",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "035576e6-d511-400b-9f98-18a4bc5ed181"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "height": 245,
                                "layout": "absolute",
                                "layout|x": 385,
                                "layout|y": 10,
                                "style": "background-color: #DCDCDC;",
                                "width": 695
                            },
                            "name": "MyFieldSet",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "8056bb46-2f3e-4661-a98e-34605657131b",
                            "cn": [
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 170,
                                        "layout|anchor": "",
                                        "layout|x": 5,
                                        "layout|y": 5,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "По счетчикам",
                                        "width": 150
                                    },
                                    "name": "MyFieldSet110",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9bcac1e8-7000-4147-aecf-c1489e3053f3",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "тариф",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "tarif",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 115
                                            },
                                            "name": "MyNumberField266",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "ed0a739d-4164-454a-9650-a890db6aa4f1"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "Куб Хв",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "xkub",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 115
                                            },
                                            "name": "MyNumberField297",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "01bce7e2-6b44-4702-b4c4-273923e8d407"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Хвода",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "xvoda",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField303",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "4066ab02-6af3-483c-8d9e-948602103549"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 170,
                                        "layout|anchor": "",
                                        "layout|x": 160,
                                        "layout|y": 5,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "По  норме",
                                        "width": 150
                                    },
                                    "name": "MyFieldSet111",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "92bb1378-e32a-46ff-bfee-9d01b975650e",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "человек",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "people",
                                                "step": null,
                                                "value": [
                                                    "0.00"
                                                ],
                                                "width": 115
                                            },
                                            "name": "MyNumberField277",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "b3c42ece-e346-493d-a5cd-24435e8e80da"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "кубов",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "kubn",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 115
                                            },
                                            "name": "MyNumberField298",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "33c03d2d-887a-4b7c-9c4b-7748e6482d1a"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "кубов пер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 65,
                                                "layout|anchor": "100%",
                                                "name": "pkub",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 115
                                            },
                                            "name": "MyNumberField313",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "03e57c9d-7dde-491d-8b31-11074b537380"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Норма",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "norma",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField299",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "659b1564-9f50-4872-9b9e-8be02e12e420"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/refresh.png",
                                        "id": "btnVodaAppReset",
                                        "itemId": null,
                                        "layout|x": 60,
                                        "layout|y": 195,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Восстановить",
                                        "width": 30
                                    },
                                    "name": "MyButton16",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a62dd481-75fb-4ee2-8bfe-bac1204c6fa7",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var grNach = Ext.getCmp('grNachVoda');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "grNach.getView().getSelectionModel().clearSelections();",
                                                    "grNach.getView().getSelectionModel().select(ind);"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "3685c8be-e3d4-42b3-8594-9791edb1b0de"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/schet.png",
                                        "id": "btnVodaAppPerer",
                                        "itemId": null,
                                        "layout|x": 120,
                                        "layout|y": 195,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Просчитать",
                                        "width": 30
                                    },
                                    "name": "MyButton17",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "cd8fa287-8fdf-4192-9d6e-b4f2d0773180",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "//this.up('#winAddVodomer').close();",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "//form.reset();",
                                                    "var zadol = form.findField('zadol').getValue();",
                                                    "var tarif = form.findField('tarif').getValue();",
                                                    "var xkub = form.findField('xkub').getValue();",
                                                    "var xkub_lg = form.findField('xkub_lg').getValue();",
                                                    "var people = form.findField('people').getValue();",
                                                    "var perer = form.findField('perer').getValue();",
                                                    "var budjet = form.findField('budjet').getValue();",
                                                    "var xol_voda = form.findField('xvoda').getValue();",
                                                    "var pbudjet = form.findField('pbudjet').getValue();",
                                                    "var oplacheno = form.findField('oplacheno').getValue();",
                                                    "",
                                                    "var nachisleno =0;",
                                                    "var norma = 0;",
                                                    "var xvoda = 0;",
                                                    "var gvoda = 0;",
                                                    "//console.log(1);",
                                                    "if ((tarif===0)  &&  (xkub > 0  ||  people > 0)) {",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Проверка тарифа',",
                                                    "        msg: 'Введите тариф по услуге',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "} else {",
                                                    "    if (xkub >0 ){",
                                                    "        xvoda = xkub * tarif - budjet ;",
                                                    "        norma = 0 ;",
                                                    "",
                                                    "    } else if (people >0 ) {",
                                                    "        norma = people * tarif -budjet;",
                                                    "        xvoda = 0 ;",
                                                    "    } else {",
                                                    "        norma = 0;",
                                                    "        xvoda = 0 ;",
                                                    "    }",
                                                    "    nachisleno =xvoda +  perer + norma ;",
                                                    "    form.findField('xvoda').setValue(xvoda);",
                                                    "    form.findField('norma').setValue(norma);",
                                                    "    form.findField('nachisleno').setValue(nachisleno);",
                                                    "    form.findField('dolg').setValue(zadol + nachisleno - oplacheno);",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "0cf6c6c5-92a4-42fb-a647-a756a6d6811d"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 175,
                                        "layout|x": 315,
                                        "layout|y": 5,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "Бюджет",
                                        "width": 150
                                    },
                                    "name": "MyFieldSet18",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "376d7862-2b3c-4d3a-a86b-fb92dbc1bcef",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "Кубов Хв",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 65,
                                                "layout|anchor": "100%",
                                                "name": "xkub_lg",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 130
                                            },
                                            "name": "MyNumberField306",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "95da9a08-df04-43fc-a1ea-057c4f91503e"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Перер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "pbudjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField309",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "a5de86df-727c-4ba8-b13e-c033b975c37f"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Бюджет",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "budjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField308",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "4bc8ea2b-589c-42ee-9a2d-e516f9b52812"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Оплата",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "lg",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField6",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "3d9233c6-e3d6-4e90-980a-3e2c64f69255"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 175,
                                        "layout|x": 470,
                                        "layout|y": 5,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "Итого",
                                        "width": 175
                                    },
                                    "name": "MyFieldSet112",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "1e38cb5c-105d-4c88-a52f-16ebb0c67dd5",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "Тариф пер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 70,
                                                "layout|anchor": "100%",
                                                "name": "ptarif",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 135
                                            },
                                            "name": "MyNumberField267",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "8eeb907b-0625-472d-90ab-afe48ad66203"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Перер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 70,
                                                "layout|anchor": "100%",
                                                "name": "perer",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField305",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "d047675f-0a71-4f8c-b240-c57ef14d18c6"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Начислено",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 70,
                                                "layout|anchor": "100%",
                                                "name": "nachisleno",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 140
                                            },
                                            "name": "MyNumberField300",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "4b2a837d-019e-4e81-9bdb-fe1560bcb7fd"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Оплачено",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 70,
                                                "layout|anchor": "100%",
                                                "name": "oplacheno",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 145
                                            },
                                            "name": "MyNumberField301",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "5d87da40-e4cb-454b-b74c-898425627ff5"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "в т.ч.субс",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 70,
                                                "layout|anchor": "100%",
                                                "name": "subsidia",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 145
                                            },
                                            "name": "MyNumberField7",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "96c75d76-8fdd-4045-b42d-7edb39f6e9ff"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо перер",
                                        "fieldStyle": "background-color:#F0F8FF;",
                                        "layout|x": 175,
                                        "layout|y": 185,
                                        "name": "info",
                                        "width": 495
                                    },
                                    "name": "MyTextField40",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9854e1e4-7d7c-42f4-8a1a-862670a388a5"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо бюджет",
                                        "fieldStyle": "background-color:#F0F8FF;",
                                        "layout|x": 175,
                                        "layout|y": 210,
                                        "name": "msq_lgota",
                                        "width": 495
                                    },
                                    "name": "MyTextField41",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c9be70e0-68db-409c-8746-05b5997368dd"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Печать расчетки",
                                        "disabled": null,
                                        "formBind": null,
                                        "height": null,
                                        "icon": "resources/css/images/ico/printer24.png",
                                        "id": "printRaspechatakaVoda",
                                        "layout|x": 5,
                                        "layout|y": 195,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Печать расчетного листка",
                                        "tooltipType": "title",
                                        "width": null
                                    },
                                    "name": "MyButton18",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "13b7813c-ec2e-4521-adf6-5181046030f6",
                                    "customConfigs": [
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "formBind",
                                            "type": "string"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|createAlias": null,
                                "forceFit": null,
                                "height": 490,
                                "id": "grNachVoda",
                                "layout|x": 0,
                                "layout|y": 0,
                                "scrollable": true,
                                "store": "StTekNachApp",
                                "title": "Период начисления",
                                "width": 225
                            },
                            "name": "MyGridPanel6",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "9e38b384-184c-4589-a257-7961c454c938",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "нет начислений",
                                        "height": 423,
                                        "style": null
                                    },
                                    "name": "MyGridView6",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f25b4a51-9c10-47ae-8362-4d648efd245a"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "address_id",
                                        "hidden": true,
                                        "text": "Address_id"
                                    },
                                    "name": "MyNumberColumn27",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "90a7c5c9-5fa1-45d9-937c-68791044e223"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "god",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "год",
                                        "width": 50
                                    },
                                    "name": "MyNumberColumn28",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "98637716-9ec6-43f2-9a4a-bfc236c4a32a"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "data",
                                        "format": "F",
                                        "menuDisabled": true,
                                        "text": "месяц",
                                        "width": 80
                                    },
                                    "name": "MyDateColumn2",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d9264b6d-14bb-43ff-932c-676506df9f82"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "zadol",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "задол",
                                        "width": 70
                                    },
                                    "name": "MyColumn24",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e0da0f83-d13f-4526-adc2-e7c1a31a9916",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "5e3b7238-99c3-40e8-87a7-b799511e6754"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "mec",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "мес",
                                        "width": 49
                                    },
                                    "name": "MyColumn25",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "62e22b55-e753-4458-92bd-6101b72b7937"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "period",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "Период",
                                        "width": 62
                                    },
                                    "name": "MyColumn26",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5bcd3c0d-e1e6-462a-a154-93e0fbb7ef9f"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "nachisleno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "начисл",
                                        "width": 70
                                    },
                                    "name": "MyColumn27",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a94e5b7f-2e31-42f9-b62d-3dbfbf892ce5",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "173e3373-77d1-49a1-a97a-f8f3b9fc2de5"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "oplacheno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "оплач",
                                        "width": 70
                                    },
                                    "name": "MyColumn28",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "81cb2237-5e76-465f-8e67-3bdbf3c45f0c",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "331f3fe2-af2c-4f17-812d-a783f87c6a38"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "dolg",
                                        "flex": null,
                                        "menuDisabled": true,
                                        "text": "Долг",
                                        "width": 80
                                    },
                                    "name": "MyColumn29",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "94303bf3-27ee-4803-83a6-6faf69333b28",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "952c3fa9-708b-4506-87c8-7b771f9824b2"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить запись",
                                        "type": "plus"
                                    },
                                    "name": "MyTool5",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c3607c8b-8aeb-4fad-bb29-85176f7b05e2",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var form = tool.findParentByType('form');",
                                                    "",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AddAddressNachislVoda'",
                                                    "};",
                                                    "",
                                                    "//Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(params,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'VodaApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            if(results.success === \"1\"){",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "            }else{",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "                Ext.MessageBox.show({title: 'Ввод данных',",
                                                    "                                     msg: results.msg,",
                                                    "                                     buttons: Ext.MessageBox.OK,",
                                                    "                                     icon: Ext.MessageBox.ERROR",
                                                    "                                    });",
                                                    "            }",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "38a8eb0c-5124-4db6-9297-5b5d8f6c2a61"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "выбрать все записи",
                                        "type": "search"
                                    },
                                    "name": "MyTool18",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d20734a3-cfaf-497f-9edb-558a56d89c90",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "//LOGIN & PASSWORD",
                                                    "var values =stUser.getAt(0);",
                                                    "// FORM",
                                                    "var form = tool.findParentByType('form');",
                                                    "// DATA",
                                                    "",
                                                    "//LOGIKA",
                                                    "StTekNachApp.load({",
                                                    "    params: {",
                                                    "        what:'VodaAppAll',",
                                                    "        address_id: values.get('address_id'),",
                                                    "        login:values.get('login'),",
                                                    "        password:values.get('password')",
                                                    "    },",
                                                    "    callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            form.getForm().reset();",
                                                    "            form.getForm().loadRecord(records[0]);",
                                                    "        }else{",
                                                    "            form.getForm().reset();",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "1a4db014-237c-496f-9026-ed842777d276"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "collapsible": null,
                                "forceFit": null,
                                "height": 230,
                                "id": "grLgotaNachVoda",
                                "layout|x": 235,
                                "layout|y": 260,
                                "scrollable": true,
                                "store": "StLgotaNachVoda",
                                "title": "начисление на бюджет",
                                "width": 830
                            },
                            "name": "MyGridPanel7",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "dbf4912f-747b-4d81-aa7f-c619ba516880",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "Начислений по льготе нет",
                                        "height": 178,
                                        "style": null
                                    },
                                    "name": "MyGridView7",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "44d34ae0-39d7-4698-8256-375e65ce03b7"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Перерасчет",
                                        "icon": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn2",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8add3488-49cf-4ac4-816a-f51d9d188fdd",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Добавить перерасчет",
                                                "icon": "resources/css/images/ico/add.png",
                                                "tooltip": "Добавить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem2",
                                            "designerId": "cee66bfb-dc3a-4b5a-ad6a-22a62294295a",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} else if (pr === 1   ){",
                                                            "    metaData = 'x-hide-display';  ",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "a538729e-c854-433c-b36c-4b94d86104c5"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'addLgotaVodaPerer'});",
                                                            "stUser.sync();",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "aac06ec7-ed3a-460e-a185-55330424b6e8"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Удалить перерасчет",
                                                "icon": "resources/css/images/ico/delete.png",
                                                "tooltip": "Удалить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem3",
                                            "designerId": "4e4fb3bd-5d67-4f6b-bc2e-a9b0b0a9de64",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ((pr === 1) && (check_date === tek_date) ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "90b7f5bf-f427-4675-9b4c-1a8558416ce2"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppVoda');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaVodaPerer\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachVoda');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете перерасчет по воде на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по воде на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'VodaApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по Воде на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "47118bac-cfb8-4be1-9456-f6cb0818ddc1"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "sdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата с",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn3",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3b361464-48da-485e-815e-fda930cd1c0c"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата по",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn4",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3e320a90-955f-463e-a95c-e4b73d9bdeee"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fio",
                                        "menuDisabled": true,
                                        "text": "Ф.И.О",
                                        "width": 120
                                    },
                                    "name": "MyColumn30",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "75584fc9-cc24-4e60-bbaa-3e814f83aa29"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "lgota",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "Льгота",
                                        "tooltip": "name",
                                        "width": 130
                                    },
                                    "name": "MyColumn31",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c44276d3-1c9d-4266-829e-a3ce7c9fa18b"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "percent",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "%",
                                        "width": 35
                                    },
                                    "name": "MyNumberColumn29",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f8bf1feb-d36a-4f34-bd8b-66171c88a2ba"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "people",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "чел",
                                        "width": 44
                                    },
                                    "name": "MyNumberColumn30",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2e29027a-c4d0-4d3a-96b1-40094e9601db"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "tarif",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "summaryType": null,
                                        "text": "тариф",
                                        "width": 60
                                    },
                                    "name": "MyNumberColumn31",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e79909f5-3e37-4aa8-a717-819b9e82a747"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "qty",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "producesHTML": null,
                                        "summaryType": "sum",
                                        "text": "куб",
                                        "width": 69
                                    },
                                    "name": "MyNumberColumn32",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "dcc95141-e0d8-4b20-99af-e04b58dc6241"
                                },
                                {
                                    "type": "Ext.grid.feature.Summary",
                                    "reference": {
                                        "name": "features",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "name": "MySummaryFeature",
                                    "designerId": "0424b059-540a-4cc6-babc-d0ad95f7fb4b"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "budjet",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "бюджет",
                                        "width": 74
                                    },
                                    "name": "MyNumberColumn33",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "64a129f2-106b-4f02-a6a4-59d49666c3dd"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "pr",
                                        "format": "0",
                                        "menuDisabled": true,
                                        "text": "пр",
                                        "width": 40
                                    },
                                    "name": "MyNumberColumn34",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "79b1619e-64ac-40b8-9ba0-7f6e21a34773"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Редактировать запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn3",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5ce9f768-c21c-4df0-928e-33ec3204dc51",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/edit.png",
                                                "tooltip": "Редактировать запись"
                                            },
                                            "name": "MyActionColumnItem4",
                                            "designerId": "908bec32-6e52-441e-a88c-fb4d9f2a85f0",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'editLgotaVoda'});",
                                                            "stUser.sync();",
                                                            "",
                                                            "form.down('#btAddLgotaPerer').setText('Обновить запись');",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "    form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.setTitle('Редактирование записи на бюджет');",
                                                            "",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "730f5c31-5f27-48b1-bca0-cae8e62b575e"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Удалить запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn4",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0d2c0e5a-f52a-4a11-a12c-4111cd963f0b",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/no.png",
                                                "tooltip": "Удалить  запись "
                                            },
                                            "name": "MyActionColumnItem5",
                                            "designerId": "07545e72-47f4-4b4c-8b80-b491668f547a",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 1 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ( (pr === 0)   ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "7c524a37-98bc-46c7-8429-ef4ca0fc7cc3"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppVoda');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaVoda\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachVoda');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете начисление на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления по воде на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'VodaApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления по воде на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "ec010620-7ad3-4a7f-ad88-2f24dfbd065b"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "info",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "инфо",
                                        "tooltip": "name",
                                        "width": null
                                    },
                                    "name": "MyColumn32",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "48db6263-69e6-4c61-9601-e87223a4ce43"
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить начисление по льготнику",
                                        "type": "plus"
                                    },
                                    "name": "MyTool6",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "78cdd56d-f7ec-49dc-9dd1-47be0e5b8ae4",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "var gridLgotnik = Ext.getCmp('grLgotnikNachApp');",
                                                    "var gridNachisl = Ext.getCmp('grNachVoda');",
                                                    "",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "",
                                                    "var value  = gridLgotnik.getView().getSelectionModel().getSelection()[0];",
                                                    "var valueNachisl  = gridNachisl.getView().getSelectionModel().getSelection()[0];",
                                                    "var ind  = gridNachisl.getView().getStore().indexOf(valueNachisl);",
                                                    "//console.log(valueNachisl);",
                                                    "",
                                                    "",
                                                    "if (value !==undefined && valueNachisl !==undefined ){",
                                                    "    var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                    "    var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                    "    var dt = new Date();",
                                                    "    var dt_nach = new Date(valueNachisl.get('data'));",
                                                    "    var check_date = Ext.Date.format(dt, 'Y-m');",
                                                    "    var date_check = Ext.Date.format(dt_nach, 'Y-m');",
                                                    "    // console.log(dt);",
                                                    "    //console.log(dt_nach);",
                                                    "    form.getForm().findField('m2').hide();",
                                                    "    form.getForm().findField('gkm2').hide();",
                                                    "",
                                                    "    winAddLgotaPerer.setTitle('Добавление записи на бюджет');",
                                                    "var pr = form.getForm().findField('checkType').getValue();",
                                                    "    //console.log(pr);",
                                                    "",
                                                    "    if (pr === true ) {",
                                                    "        values.set({'vibor':'addLgotaVoda'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('xkub_lg') + valueNachisl.get('gkub_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"0\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи начисления на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    } else {",
                                                    "",
                                                    "        values.set({'vibor':'addLgotaVodaPerer'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('xkub_lg') + valueNachisl.get('gkub_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"1\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи перерасчета на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    }",
                                                    "",
                                                    "} else{",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Добавлениезаписи начисления  на бюджет',",
                                                    "        msg: 'Не выбран льготчик',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "}"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "fb5423ba-3ec4-4805-9965-d32231dcef86"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": "0px",
                                "fieldLabel": "Период начислен",
                                "fieldStyle": "color: #1791e6; text-shadow: -1px -1px white, 1px 1px #333;font-size:14pt;text-align:center",
                                "format": "F,Y",
                                "hideLabel": true,
                                "hideTrigger": true,
                                "id": null,
                                "labelAlign": "top",
                                "labelWidth": 50,
                                "layout|x": 230,
                                "layout|y": 5,
                                "margin": "10 0 10 0",
                                "name": "data",
                                "startDay": 1,
                                "submitFormat": "Ymd",
                                "width": 150
                            },
                            "name": "MyDateField8",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "edf22834-1dbd-4e09-ab52-bb9efe91f0ab"
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 5,
                        "height": null,
                        "id": "tabFmAppStoki",
                        "itemId": null,
                        "layout": "absolute",
                        "minHeight": null,
                        "title": "Гвода",
                        "width": null
                    },
                    "name": "MyForm7",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "1bef7be6-df9e-4eb8-9dee-5087ee49a3a7",
                    "cn": [
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|createAlias": null,
                                "forceFit": null,
                                "height": 490,
                                "id": "grNachStoki",
                                "layout|x": 5,
                                "layout|y": 5,
                                "scrollable": true,
                                "store": "StTekNachApp",
                                "title": "Период начисления",
                                "width": 225
                            },
                            "name": "MyGridPanel8",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "b8b125a3-b6ce-42fb-b9d8-76eb8d8ab8a5",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "нет начислений",
                                        "height": 423,
                                        "style": null
                                    },
                                    "name": "MyGridView8",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d9af6f91-3481-49e8-bbb2-09b61f543263"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "address_id",
                                        "hidden": true,
                                        "text": "Address_id"
                                    },
                                    "name": "MyNumberColumn35",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "40e196bf-2dd8-416f-aedd-603c8397e920"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "god",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "год",
                                        "width": 50
                                    },
                                    "name": "MyNumberColumn36",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fb019701-60d9-449e-b0a5-1afab191e634"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "data",
                                        "format": "F",
                                        "menuDisabled": true,
                                        "text": "месяц",
                                        "width": 80
                                    },
                                    "name": "MyDateColumn5",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8da4f6cf-c925-4bcd-889c-8893d6c1e72c"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "zadol",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "задол",
                                        "width": 70
                                    },
                                    "name": "MyColumn33",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "11362777-baf4-459b-a26e-217557b377ad",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "9c1dd073-5431-4d02-8860-88f8f75b98a4"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "mec",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "мес",
                                        "width": 49
                                    },
                                    "name": "MyColumn34",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8d3dccd5-8ac8-4f15-ac25-c3fb2f2117ad"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "period",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "Период",
                                        "width": 62
                                    },
                                    "name": "MyColumn35",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "12fe77a5-7c5b-4879-8291-067b6ebdf174"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "nachisleno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "начисл",
                                        "width": 70
                                    },
                                    "name": "MyColumn36",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "1b72f650-784a-41d8-8c6e-e988255d1a5a",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "00e57a17-2b3e-44e8-bda7-27565e79c6bd"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "oplacheno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "оплач",
                                        "width": 70
                                    },
                                    "name": "MyColumn37",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "75f0eb05-2a93-488c-baed-462b4d756a40",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "2cbbdef5-bb64-409b-85f4-ca0dbb24e07b"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "dolg",
                                        "flex": null,
                                        "menuDisabled": true,
                                        "text": "Долг",
                                        "width": 80
                                    },
                                    "name": "MyColumn38",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "503991be-a041-4e5c-af65-497a5526166c",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "5a66e8b9-a85c-48be-a260-5881842cd9b7"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить запись",
                                        "type": "plus"
                                    },
                                    "name": "MyTool19",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9320dd29-d3ff-4452-83e7-633270ccc7dd",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var form = tool.findParentByType('form');",
                                                    "",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AddAddressNachislStoki'",
                                                    "};",
                                                    "",
                                                    "//Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(params,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'StokiApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            if(results.success === \"1\"){",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "            }else{",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "                Ext.MessageBox.show({title: 'Ввод данных',",
                                                    "                                     msg: results.msg,",
                                                    "                                     buttons: Ext.MessageBox.OK,",
                                                    "                                     icon: Ext.MessageBox.ERROR",
                                                    "                                    });",
                                                    "            }",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "63399c51-c229-4882-9bad-76f7f904b9af"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "выбрать все записи",
                                        "type": "search"
                                    },
                                    "name": "MyTool7",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "58ca8438-d030-4f61-ae2b-0f21886a866c",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "//LOGIN & PASSWORD",
                                                    "var values =stUser.getAt(0);",
                                                    "// FORM",
                                                    "var form = tool.findParentByType('form');",
                                                    "// DATA",
                                                    "",
                                                    "//LOGIKA",
                                                    "StTekNachApp.load({",
                                                    "    params: {",
                                                    "        what:'StokiAppAll',",
                                                    "        address_id: values.get('address_id'),",
                                                    "        login:values.get('login'),",
                                                    "        password:values.get('password')",
                                                    "    },",
                                                    "    callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            form.getForm().reset();",
                                                    "            form.getForm().loadRecord(records[0]);",
                                                    "        }else{",
                                                    "            form.getForm().reset();",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "1111baf0-0c2f-4efc-94db-611182f57fa3"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "collapsible": null,
                                "forceFit": null,
                                "height": 240,
                                "id": "grLgotaNachStoki",
                                "layout|x": 240,
                                "layout|y": 275,
                                "scrollable": true,
                                "store": "StLgotaNachVoda",
                                "title": "начисление на бюджет",
                                "width": 835
                            },
                            "name": "MyGridPanel9",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "50766fbc-296b-49f4-ab79-e5756a7a12a4",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "Начислений по льготе нет",
                                        "style": null
                                    },
                                    "name": "MyGridView9",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2901277c-3fec-40a2-8d94-77d88092a3df"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Перерасчет",
                                        "icon": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn5",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8f46322d-a568-47c2-8d7d-c3e988a18584",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Добавить перерасчет",
                                                "icon": "resources/css/images/ico/add.png",
                                                "tooltip": "Добавить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem6",
                                            "designerId": "2266a164-fb1d-49d6-83a8-522237e3ddcc",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 0 ) {",
                                                            "        metaData = 'x-grid-center-icon';",
                                                            "} else if (pr === 1   ){",
                                                            "    metaData = 'x-hide-display';  ",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "c6691faf-3aca-4dcd-bf19-773fbb8aa170"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'addLgotaStokiPerer'});",
                                                            "stUser.sync();",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "dc262cb2-160c-450e-8699-8e6fd4b44259"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Удалить перерасчет",
                                                "icon": "resources/css/images/ico/delete.png",
                                                "tooltip": "Удалить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem7",
                                            "designerId": "36320851-9ed5-4295-b98a-76251ced62e7",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ((pr === 1) && (check_date === tek_date) ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "8540389d-349e-495c-a447-db1a5b9bd60f"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppStoki');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaStokiPerer\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachStoki');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете перерасчет по стокам на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по стокам на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'StokiApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по стокам на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "764264db-e909-4ea4-b40f-c25860a911a4"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "sdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата с",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn6",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "4edee8e3-f45c-41b7-a765-b64d351984c9"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата по",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn7",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d5a087b9-d884-454d-bf05-62789d381574"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fio",
                                        "menuDisabled": true,
                                        "text": "Ф.И.О",
                                        "width": 120
                                    },
                                    "name": "MyColumn39",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c60f42bc-529c-4bd7-9487-2addf249fd88"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "lgota",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "Льгота",
                                        "tooltip": "name",
                                        "width": 130
                                    },
                                    "name": "MyColumn40",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e7942234-3f85-4383-9e9e-8fa2076d5f85"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "percent",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "%",
                                        "width": 35
                                    },
                                    "name": "MyNumberColumn37",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "568d1b9e-308c-4aea-8b9f-a999799d6398"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "people",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "чел",
                                        "width": 45
                                    },
                                    "name": "MyNumberColumn38",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "322fcd83-7342-4b1e-ad4f-215fd88f33e0"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "tarif",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "summaryType": null,
                                        "text": "тариф",
                                        "width": 60
                                    },
                                    "name": "MyNumberColumn39",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a59495b6-c19f-45f5-9acc-e8801a4538d0"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "qty",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "куб",
                                        "width": 71
                                    },
                                    "name": "MyNumberColumn40",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c3006d08-bb18-4e6d-bbe7-a1bd93ccecf9"
                                },
                                {
                                    "type": "Ext.grid.feature.Summary",
                                    "reference": {
                                        "name": "features",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "name": "MySummaryFeature1",
                                    "designerId": "13a10817-9951-4573-b5f1-2ba5874863f9"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "budjet",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "бюджет",
                                        "width": 74
                                    },
                                    "name": "MyNumberColumn41",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bf1b8857-fae9-4ebb-a33b-81ad14a4de77"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "pr",
                                        "format": "0",
                                        "menuDisabled": true,
                                        "text": "пр",
                                        "width": 40
                                    },
                                    "name": "MyNumberColumn42",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "49facfb7-56ef-4f75-929b-427f883e5e7f"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Редактировать запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn6",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "dc862f79-e66c-49db-b65a-b6e69c9d94e3",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/edit.png",
                                                "tooltip": "Редактировать запись"
                                            },
                                            "name": "MyActionColumnItem8",
                                            "designerId": "fa7014dd-5ac4-4d51-85b6-7ea098688915",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'editLgotaStoki'});",
                                                            "stUser.sync();",
                                                            "",
                                                            "form.down('#btAddLgotaPerer').setText('Обновить запись');",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.setTitle('Редактирование записи на бюджет');",
                                                            "",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "0d3b43b0-cbc6-4885-9ebb-412666ae3a2b"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Удалить запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn7",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "03ddf83c-b5d1-48e3-ba2a-77a007b476d5",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/no.png",
                                                "tooltip": "Удалить  запись "
                                            },
                                            "name": "MyActionColumnItem9",
                                            "designerId": "c39e41fa-5a20-43e0-8d56-6e957359454e",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 1 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ( (pr === 0)){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "427f547d-6a2a-4167-8640-f2b5482fc660"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppStoki');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaStoki\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachStoki');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете начисление по стокам на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисление по стокам на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'StokiApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления по стокам на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "b82466a6-e864-4a42-bd37-21221f5d9eaf"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "info",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "инфо",
                                        "tooltip": "name",
                                        "width": null
                                    },
                                    "name": "MyColumn41",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "74366377-22fd-4ce0-a457-c1f1f11b5aa5"
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить начисление по льготнику",
                                        "type": "plus"
                                    },
                                    "name": "MyTool8",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "92a00bef-a1b4-4634-844f-94df7930c115",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "var gridLgotnik = Ext.getCmp('grLgotnikNachApp');",
                                                    "var gridNachisl = Ext.getCmp('grNachStoki');",
                                                    "",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "",
                                                    "var value  = gridLgotnik.getView().getSelectionModel().getSelection()[0];",
                                                    "var valueNachisl  = gridNachisl.getView().getSelectionModel().getSelection()[0];",
                                                    "var ind  = gridNachisl.getView().getStore().indexOf(valueNachisl);",
                                                    "",
                                                    "if (value !==undefined && valueNachisl !==undefined ){",
                                                    "    var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                    "    var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                    "    var dt = new Date();",
                                                    "    var dt_nach = new Date(valueNachisl.get('data'));",
                                                    "    var check_date = Ext.Date.format(dt, 'Y-m');",
                                                    "    var date_check = Ext.Date.format(dt_nach, 'Y-m');",
                                                    "  ",
                                                    "    form.getForm().findField('m2').hide();",
                                                    "    form.getForm().findField('gkm2').hide();",
                                                    "    winAddLgotaPerer.setTitle('Добавление записи на бюджет');",
                                                    "    if (check_date === date_check ) {",
                                                    "",
                                                    "        values.set({'vibor':'addLgotaStoki'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('xkub_lg') + valueNachisl.get('gkub_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"0\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи начисления на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    } else {",
                                                    "",
                                                    "        values.set({'vibor':'addLgotaStokiPerer'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('xkub_lg') + valueNachisl.get('gkub_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"1\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи перерасчета на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    }",
                                                    "",
                                                    "} else{",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Добавлениезаписи начисления  на бюджет',",
                                                    "        msg: 'Не выбран льготчик',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "}"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "92c8bbbe-2280-4b20-a975-265ac83208ee"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 175,
                                "layout|x": 240,
                                "layout|y": 60,
                                "style": "background-color: #DCDCDC;",
                                "title": "",
                                "width": 140
                            },
                            "name": "MyFieldSet19",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "d88628e8-fb85-4b77-919b-fbbf149426a4",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на начало",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "name": "zadol",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField314",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "22ef752f-40da-4f2f-9be8-08367891369e"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на конец",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "name": "dolg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField315",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "6dfbe8c6-e3f7-4efb-ab06-75de542be8ee"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnStokiAppIns",
                                        "itemId": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "text": "Записать",
                                        "width": null
                                    },
                                    "name": "MyButton19",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "136d5b4c-0d10-4e3b-bf99-6989806c94c3",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppStokiIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachStoki');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "//LOGIKA",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(value,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'StokiApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "            if(success){",
                                                    "                grNach.getView().getSelectionModel().select(ind);",
                                                    "",
                                                    "            }else{",
                                                    "                form.reset();",
                                                    "            }",
                                                    "        },",
                                                    "        scope:this",
                                                    "    });",
                                                    "});"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "cb2bd995-6e60-4807-8dc3-dc343f06be97"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "fieldLabel": "Начислено, грн",
                                "height": 255,
                                "labelAlign": "top",
                                "layout": "absolute",
                                "layout|x": 385,
                                "layout|y": 10,
                                "style": "background-color: #DCDCDC;",
                                "width": 690
                            },
                            "name": "MyFieldContainer1",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "c981a23f-cd02-4b7a-bec0-97c0fddb1df1",
                            "cn": [
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 170,
                                        "layout|anchor": "",
                                        "layout|x": 15,
                                        "layout|y": 5,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "По счетчикам",
                                        "width": 150
                                    },
                                    "name": "MyFieldSet110",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e83b9410-3cf6-4aaf-9580-63f5cdea71fa",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "тариф",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "tarif",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField266",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "da3ab2f9-0eac-439e-a896-4abef1cd98b3"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "Куб Гв",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "xkub",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField297",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "9d7fed32-b686-4763-83cf-ff2c52daf0f5"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Гвода",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "xvoda",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField303",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "322f88a3-1810-4089-8393-7a81b28dde26"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 145,
                                        "layout|anchor": "",
                                        "layout|x": 175,
                                        "layout|y": 5,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "По  норме",
                                        "width": 150
                                    },
                                    "name": "MyFieldSet111",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "014a73e4-052b-4d45-9702-51e3f58901d3",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "человек",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "people",
                                                "step": null,
                                                "value": [
                                                    "0.00"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField277",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "0680204f-d932-4a99-92e6-34e3b9e94f03"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "кубов",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "kubn",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField298",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "543e0308-65a4-4996-853e-7ea46222867f"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "кубов пер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 65,
                                                "layout|anchor": "100%",
                                                "name": "pkub",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField313",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "e38bd256-d60d-4e25-afe5-b39be195969a"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Норма",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "norma",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField299",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "a9840d7c-c076-4a85-9e42-98d1b8325817"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 145,
                                        "layout|x": 335,
                                        "layout|y": 5,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "Бюджет",
                                        "width": 150
                                    },
                                    "name": "MyFieldSet18",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0703561b-2966-4006-aa87-7cc1f2ce7947",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "Кубов Гв",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 65,
                                                "layout|anchor": "100%",
                                                "name": "xkub_lg",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField306",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "1851bcf7-4e1e-443b-a468-c2f49b1594e2"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Перер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "pbudjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField309",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "ca4a64d3-40b6-41f4-94a9-11e9f87b763b"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Бюджет",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 55,
                                                "layout|anchor": "100%",
                                                "name": "budjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField308",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "b469c2d5-c244-403e-a337-d226cf11d6f2"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 145,
                                        "layout|x": 495,
                                        "layout|y": 5,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "Итого",
                                        "width": 175
                                    },
                                    "name": "MyFieldSet112",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3fbf6b83-2b1d-43d7-8252-59afda33f981",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 3,
                                                "fieldLabel": "Тариф пер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 70,
                                                "layout|anchor": "100%",
                                                "name": "ptarif",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField267",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "cd785df9-8229-4c8b-bbcc-a7501847cd30"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Перер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 70,
                                                "layout|anchor": "100%",
                                                "name": "perer",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField305",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "97c0857d-3fd4-496a-8f8c-de12af334b56"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Начислено",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 70,
                                                "layout|anchor": "100%",
                                                "name": "nachisleno",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField300",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "ab43d83e-4bdf-4c79-8a13-2c98e042bd5b"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Оплачено",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 70,
                                                "layout|anchor": "100%",
                                                "name": "oplacheno",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField301",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "edb662ac-6baf-4cae-a8cb-5cb81266580d"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо перер",
                                        "fieldStyle": "background-color:#F0F8FF;",
                                        "layout|x": 175,
                                        "layout|y": 160,
                                        "name": "info",
                                        "width": 495
                                    },
                                    "name": "MyTextField40",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "548cbeda-4760-4bb7-8a50-a9a13aeb5fe2"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо бюджет",
                                        "fieldStyle": "background-color:#F0F8FF;",
                                        "layout|x": 175,
                                        "layout|y": 190,
                                        "name": "msq_lgota",
                                        "width": 495
                                    },
                                    "name": "MyTextField41",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b450c501-6990-4302-995f-f7cf79831533"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/refresh.png",
                                        "id": "btnStokiAppReset",
                                        "itemId": null,
                                        "layout|x": 65,
                                        "layout|y": 185,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Восстановить",
                                        "width": null
                                    },
                                    "name": "MyButton21",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c6a4d233-5d58-467a-8a03-b3ecb5ee41b9",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var grNach = Ext.getCmp('grNachStoki');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "grNach.getView().getSelectionModel().clearSelections();",
                                                    "grNach.getView().getSelectionModel().select(ind);"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "d6871062-9c21-432f-813a-25ed06567824"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/schet.png",
                                        "id": "btnStokiAppPerer",
                                        "itemId": null,
                                        "layout|x": 115,
                                        "layout|y": 185,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Просчитать",
                                        "width": null
                                    },
                                    "name": "MyButton20",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8d3d0bb4-55c0-4f2e-9f68-91568219e8e5",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "//this.up('#winAddVodomer').close();",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "//form.reset();",
                                                    "var zadol = form.findField('zadol').getValue();",
                                                    "var tarif = form.findField('tarif').getValue();",
                                                    "var xkub = form.findField('xkub').getValue();",
                                                    "var xkub_lg = form.findField('xkub_lg').getValue();",
                                                    "var people = form.findField('people').getValue();",
                                                    "var perer = form.findField('perer').getValue();",
                                                    "var budjet = form.findField('budjet').getValue();",
                                                    "var xol_voda = form.findField('xvoda').getValue();",
                                                    "var pbudjet = form.findField('pbudjet').getValue();",
                                                    "var oplacheno = form.findField('oplacheno').getValue();",
                                                    "",
                                                    "var nachisleno =0;",
                                                    "var norma = 0;",
                                                    "var xvoda = 0;",
                                                    "",
                                                    "if ((tarif===0)  &&  (xkub > 0  || people > 0)) {",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Проверка тарифа',",
                                                    "        msg: 'Введите тариф по услуге',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "} else {",
                                                    "    if (xkub >0 ){",
                                                    "        xvoda = xkub * tarif - budjet ;",
                                                    "        norma = 0 ;",
                                                    "    ",
                                                    "    } else if (people >0 ) {",
                                                    "        norma = people * tarif -budjet;",
                                                    "        xvoda = 0 ;",
                                                    "    } else {",
                                                    "        norma = 0;",
                                                    "        xvoda = 0 ;",
                                                    "    }",
                                                    "    nachisleno =xvoda +  perer + norma;",
                                                    "    form.findField('xvoda').setValue(xvoda);",
                                                    "    form.findField('norma').setValue(norma);",
                                                    "    form.findField('nachisleno').setValue(nachisleno);",
                                                    "    form.findField('dolg').setValue(zadol + nachisleno - oplacheno);",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "3571bd83-fe31-4843-ae77-a0c57775301b"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": "0px",
                                "fieldLabel": "Период начислен",
                                "fieldStyle": "color: #1791e6; text-shadow: -1px -1px white, 1px 1px #333;font-size:14pt;text-align:center",
                                "format": "F,Y",
                                "hideLabel": true,
                                "hideTrigger": true,
                                "id": null,
                                "labelAlign": "top",
                                "labelWidth": 50,
                                "layout|x": 230,
                                "layout|y": 5,
                                "margin": "10 0 10 0",
                                "name": "data",
                                "startDay": 1,
                                "submitFormat": "Ymd",
                                "width": 150
                            },
                            "name": "MyDateField9",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "08bf5a09-0b18-43b4-9637-c985b8a75077"
                        },
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "tabIndex": 4
                            },
                            "name": "TabConfig2",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "7827f96e-9e01-4f29-ba8b-e18e8669f55e"
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 5,
                        "height": null,
                        "id": "tabFmAppPtn",
                        "itemId": null,
                        "layout": "absolute",
                        "minHeight": null,
                        "title": "ПТН",
                        "width": null
                    },
                    "name": "MyForm37",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "39d82bb0-f139-4685-8fc3-723646192286",
                    "viewControllerInstanceId": "d4d9b6b7-c855-4861-b155-c91180a60be3",
                    "viewModelInstanceId": "2287f179-93dd-4dc2-abad-b5adc2aea3da",
                    "cn": [
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|createAlias": null,
                                "forceFit": null,
                                "height": 490,
                                "id": "grNachPtn",
                                "layout|x": 0,
                                "layout|y": 0,
                                "scrollable": true,
                                "store": "StTekNachApp",
                                "title": "Период начисления",
                                "width": 225
                            },
                            "name": "MyGridPanel10",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "1c385f4e-cb30-4e5a-bb51-61144c214d64",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "нет начислений",
                                        "style": null
                                    },
                                    "name": "MyGridView10",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "afe43464-e55e-419c-b206-13d498fba7ef"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "address_id",
                                        "hidden": true,
                                        "text": "Address_id"
                                    },
                                    "name": "MyNumberColumn43",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8576a58e-1bf0-41c3-8499-1e9de4d3ecd3"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "god",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "год",
                                        "width": 50
                                    },
                                    "name": "MyNumberColumn44",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "62406b13-9b0a-4082-87b5-b726d0d3982b"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "data",
                                        "format": "F",
                                        "menuDisabled": true,
                                        "text": "месяц",
                                        "width": 80
                                    },
                                    "name": "MyDateColumn8",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c148822e-1485-49b5-ada4-07305786a182"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "zadol",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "задол",
                                        "width": 70
                                    },
                                    "name": "MyColumn42",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5b5a0f88-7690-4ec4-baf8-1a3ee62902bd",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "e113b433-320a-4be1-98f4-ffcdab05a975"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "mec",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "мес",
                                        "width": 49
                                    },
                                    "name": "MyColumn43",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "96c4fa95-a0c8-49d8-9c88-e788daaedece"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "period",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "Период",
                                        "width": 62
                                    },
                                    "name": "MyColumn44",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "95692d1f-6b29-403f-bcb9-62c686ef98a9"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "nachisleno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "начисл",
                                        "width": 70
                                    },
                                    "name": "MyColumn45",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fa2f63f4-2e6b-49b8-93d7-4c459807f89a",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "13101515-b2f7-4d06-9c90-a8f799c188dc"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "oplacheno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "оплач",
                                        "width": 70
                                    },
                                    "name": "MyColumn46",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e0c5faae-e45d-4d11-9aee-e4c83e9158ac",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "fca661ac-caa3-4893-95b4-0fe0a1d7a810"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "dolg",
                                        "flex": null,
                                        "menuDisabled": true,
                                        "text": "Долг",
                                        "width": 80
                                    },
                                    "name": "MyColumn47",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d83abb24-4edc-496a-883f-8729dbe16d7e",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "1b14509c-2ce4-46bf-a2b7-72ee54705e46"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "выбрать все записи",
                                        "type": "plus"
                                    },
                                    "name": "MyTool9",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bf1ef531-3122-4211-aa6e-4203b8379e60",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "//LOGIN & PASSWORD",
                                                    "var values =stUser.getAt(0);",
                                                    "// FORM",
                                                    "var form = tool.findParentByType('form');",
                                                    "// DATA",
                                                    "",
                                                    "//LOGIKA",
                                                    "StTekNachApp.load({",
                                                    "    params: {",
                                                    "        what:'PodogrevAppAll',",
                                                    "        address_id: values.get('address_id'),",
                                                    "        login:values.get('login'),",
                                                    "        password:values.get('password')",
                                                    "    },",
                                                    "    callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            form.getForm().reset();",
                                                    "            form.getForm().loadRecord(records[0]);",
                                                    "        }else{",
                                                    "            form.getForm().reset();",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "554fd1c5-e82e-4fcf-a19d-761bdacf98c2"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "collapsible": null,
                                "forceFit": null,
                                "height": 260,
                                "id": "grLgotaNachPtn",
                                "layout|x": 240,
                                "layout|y": 280,
                                "scrollable": true,
                                "store": "StLgotaNachVoda",
                                "title": "начисление на бюджет",
                                "width": 825
                            },
                            "name": "MyGridPanel11",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "d8baab73-d522-402f-b1c6-bb79ac0375ba",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "Начислений по льготе нет",
                                        "style": null
                                    },
                                    "name": "MyGridView11",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "73b45355-0458-46cb-a453-9c0433408455"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Перерасчет",
                                        "icon": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn8",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "698ab61f-0abf-4a39-a13d-3498ce3ce940",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Добавить перерасчет",
                                                "icon": "resources/css/images/ico/add.png",
                                                "tooltip": "Добавить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem10",
                                            "designerId": "0ea64cab-6e43-41de-a474-145a16aebf09",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} else if (pr === 1   ){",
                                                            "    metaData = 'x-hide-display';  ",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "b8bee2c0-96a4-45db-8601-6df26e433592"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'addLgotaPtnPerer'});",
                                                            "stUser.sync();",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "form.getForm().findField('gkm2').hide();",
                                                            "form.getForm().findField('gkal').hide();",
                                                            "",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "034b27ff-04cb-460c-8eb0-3c17f2340af0"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Удалить перерасчет",
                                                "icon": "resources/css/images/ico/delete.png",
                                                "tooltip": "Удалить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem11",
                                            "designerId": "d47e9785-d52d-45bb-be01-f8a896dd2441",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ((pr === 1) && (check_date === tek_date) ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "1cf046da-b0af-47cb-95fb-6b737c581fcf"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppPtn');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaPtnPerer\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachPtn');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете перерасчет по птн на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по птн на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'PtnApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по птн на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "cdbd36a8-7dbf-4c4f-a414-d86cd3b39a44"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "sdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата с",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn9",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "7e4ffc68-6ba5-4faf-9a24-d0a62616aa7a"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата по",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn10",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "49c88c1e-6539-444e-9a65-098a6521f6b9"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fio",
                                        "menuDisabled": true,
                                        "text": "Ф.И.О",
                                        "width": 120
                                    },
                                    "name": "MyColumn48",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "4b1509c5-0cbe-41aa-8049-789388293976"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "lgota",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "Льгота",
                                        "tooltip": "name",
                                        "width": 130
                                    },
                                    "name": "MyColumn49",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "4ae48831-999e-4905-9c2a-e13488e7dd39"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "percent",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "%",
                                        "width": 35
                                    },
                                    "name": "MyNumberColumn45",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f12c74c2-313d-4b1c-9a69-21921f9620ff"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "people",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "чел",
                                        "width": 44
                                    },
                                    "name": "MyNumberColumn46",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2e1ca54f-0577-4ff4-a870-e7406dac1580"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "tarif",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "summaryType": null,
                                        "text": "тариф",
                                        "width": 81
                                    },
                                    "name": "MyNumberColumn47",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "55c32fb7-9bcf-4d82-90d6-6e64eafef8a3"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "qty",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "S (м&sup2;)",
                                        "width": 74
                                    },
                                    "name": "MyNumberColumn48",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "dcba9416-7ba4-42e4-801d-0be069b51c2b"
                                },
                                {
                                    "type": "Ext.grid.feature.Summary",
                                    "reference": {
                                        "name": "features",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "name": "MySummaryFeature2",
                                    "designerId": "6468cae7-b56c-4fd9-9dc0-b45f6f2ab0b1"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "budjet",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "бюджет",
                                        "width": 74
                                    },
                                    "name": "MyNumberColumn49",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e6cbbf0e-a6f9-469f-a77d-aeaebe11919a"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "pr",
                                        "format": "0",
                                        "menuDisabled": true,
                                        "text": "пр",
                                        "width": 40
                                    },
                                    "name": "MyNumberColumn50",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c05eefc1-aa5a-4631-a22d-54013a81bcaa"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Редактировать запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn9",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "1613b70c-bdbb-4807-bcb9-ef394f808dbb",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/edit.png",
                                                "tooltip": "Редактировать запись"
                                            },
                                            "name": "MyActionColumnItem12",
                                            "designerId": "94d28015-cd74-4362-81a6-2a1cceb150fc",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'editLgotaPtn'});",
                                                            "stUser.sync();",
                                                            "",
                                                            "form.down('#btAddLgotaPerer').setText('Обновить запись');",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "form.getForm().findField('gkm2').hide();",
                                                            "form.getForm().findField('gkal').hide();",
                                                            "",
                                                            "winAddLgotaPerer.setTitle('Редактирование записи на бюджет');",
                                                            "",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "b5a87550-a23c-4b57-889e-a1328a254115"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Удалить запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn10",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "924c6177-f7a4-47f2-89c9-e8c7568c2b39",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/no.png",
                                                "tooltip": "Удалить  запись "
                                            },
                                            "name": "MyActionColumnItem13",
                                            "designerId": "093128a0-5184-4cf0-8efb-1690d7451b45",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 1 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ( (pr === 0)  ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "353ed123-5248-495f-a161-3d989ef5bc50"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppPtn');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaPtn\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachPtn');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете начисление на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления по птн на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'PtnApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления  на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "5c41a785-21f2-43a5-ba68-97f51ea3caca"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "info",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "инфо",
                                        "tooltip": "name",
                                        "width": null
                                    },
                                    "name": "MyColumn50",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "21c4c3df-6064-486e-bddb-1c458a34085c"
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить начисление по льготнику",
                                        "type": "plus"
                                    },
                                    "name": "MyTool10",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "edf624a3-0f14-439d-b4d7-23ddd0193ba0",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "var gridLgotnik = Ext.getCmp('grLgotnikNachApp');",
                                                    "var gridNachisl = Ext.getCmp('grNachPtn');",
                                                    "",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "",
                                                    "var value  = gridLgotnik.getView().getSelectionModel().getSelection()[0];",
                                                    "var valueNachisl  = gridNachisl.getView().getSelectionModel().getSelection()[0];",
                                                    "var ind  = gridNachisl.getView().getStore().indexOf(valueNachisl);",
                                                    "",
                                                    "if (value !==undefined && valueNachisl !==undefined ){",
                                                    "    var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                    "    var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                    "    var dt = new Date();",
                                                    "    var dt_nach = new Date(valueNachisl.get('data'));",
                                                    "    var check_date = Ext.Date.format(dt, 'Y-m');",
                                                    "    var date_check = Ext.Date.format(dt_nach, 'Y-m');",
                                                    "    form.getForm().findField('m2').hide();",
                                                    "    form.getForm().findField('gkm2').hide();",
                                                    "    form.getForm().findField('gkal').hide();",
                                                    "",
                                                    "    winAddLgotaPerer.setTitle('Добавление записи на бюджет');",
                                                    "",
                                                    "var pr = form.getForm().findField('checkType').getValue();",
                                                    "    //console.log(pr);",
                                                    "",
                                                    "    if (pr === true ) {",
                                                    "        values.set({'vibor':'addLgotaPtn'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif_m2'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('square_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"0\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи начисления на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    } else {",
                                                    "",
                                                    "        values.set({'vibor':'addLgotaPtnPerer'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif_m2'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('square_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"1\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи перерасчета на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    }",
                                                    "",
                                                    "",
                                                    "} else{",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Добавлениезаписи начисления  на бюджет',",
                                                    "        msg: 'Не выбран льготчик',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "}"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "f590b4b9-05b9-414c-b012-3f665523141e"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": "0px",
                                "fieldLabel": "Период начислен",
                                "fieldStyle": "color: #1791e6; text-shadow: -1px -1px white, 1px 1px #333;font-size:14pt;text-align:center",
                                "format": "F,Y",
                                "hideLabel": true,
                                "hideTrigger": true,
                                "id": null,
                                "labelAlign": "top",
                                "labelWidth": 50,
                                "layout|x": 240,
                                "layout|y": 0,
                                "margin": "10 0 10 0",
                                "name": "data",
                                "startDay": 1,
                                "submitFormat": "Ymd",
                                "width": 150
                            },
                            "name": "MyDateField10",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "397175fa-d44c-4a3f-9652-cd047002da4b"
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 225,
                                "layout|x": 240,
                                "layout|y": 45,
                                "style": "background-color: #DCDCDC;",
                                "title": "Сальдо",
                                "width": 140
                            },
                            "name": "MyFieldSet22",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "a5e23bba-1b4e-4c0a-a12b-2a904dd4f804",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на начало",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|anchor": "100%",
                                        "name": "zadol",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 119
                                    },
                                    "name": "MyNumberField243",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d19b6fb8-260e-459b-bc4f-bab598440b49"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на конец",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|anchor": "100%",
                                        "name": "dolg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 119
                                    },
                                    "name": "MyNumberField244",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "db9a020e-32fb-4302-8aa5-83d5c1dc8212"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnPtnAppIns",
                                        "itemId": null,
                                        "layout|anchor": "100%",
                                        "margin": "10 0 0 0",
                                        "text": "Записать",
                                        "width": 90
                                    },
                                    "name": "MyButton23",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f71c5d2f-bfc6-412a-8c88-37537ccca18d",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppPtnIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachPtn');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "//LOGIKA",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(value,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'PtnApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "            if(success){",
                                                    "                grNach.getView().getSelectionModel().select(ind);",
                                                    "            }else{",
                                                    "                form.reset();",
                                                    "            }",
                                                    "        },",
                                                    "        scope:this",
                                                    "    });",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "ce933cee-1f62-4364-813b-ef0e2b2ff24a"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "height": 265,
                                "layout": "absolute",
                                "layout|x": 400,
                                "layout|y": 5,
                                "style": "background-color: #DCDCDC;",
                                "title": "Начислено, грн",
                                "width": 660
                            },
                            "name": "MyFieldSet23",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "66b0a11e-cc67-4726-8135-8eacbf0adb94",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "тариф",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "name": "tarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 195
                                    },
                                    "name": "MyNumberField269",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fda2af4e-f3bd-4ae8-92dc-c2ad79e373fc"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 4,
                                        "fieldLabel": "тариф  (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "layout|x": 0,
                                        "layout|y": 30,
                                        "name": "tarif_m2",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 195
                                    },
                                    "name": "MyNumberField5",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8a161547-3c9c-4821-a719-5afdced5b917"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Площадь (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "layout|x": 0,
                                        "layout|y": 60,
                                        "name": "square",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 195
                                    },
                                    "name": "MyNumberField245",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "34f09c79-e1f7-4ed8-8bb8-54b87739dc52"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 6,
                                        "fieldLabel": "Q квартиры",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "layout|x": 0,
                                        "layout|y": 120,
                                        "name": "gkal",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 230
                                    },
                                    "name": "MyNumberField6",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "ef6d8473-3c9b-4aaa-97c3-8a7622c7f81e"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Начислено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": null,
                                        "layout|x": 0,
                                        "layout|y": 210,
                                        "name": "nachisleno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 195
                                    },
                                    "name": "MyNumberField249",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "74868fac-5c96-4b92-bd08-a64219933e74"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 13,
                                        "fieldLabel": "Гкал/час (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "layout|x": 0,
                                        "layout|y": 90,
                                        "name": "gkm2",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 230
                                    },
                                    "name": "MyNumberField251",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2f655c6a-e00e-4c73-b95d-0f8b4aa38095"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "П.Т.Н.",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "layout|x": 0,
                                        "layout|y": 150,
                                        "name": "ptn",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 195
                                    },
                                    "name": "MyNumberField252",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2430860b-4bbb-4c74-9e9a-c4b56035384c"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Перер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": null,
                                        "layout|x": 0,
                                        "layout|y": 180,
                                        "name": "perer",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 195
                                    },
                                    "name": "MyNumberField253",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c55c7c4e-cd57-4326-b50f-95554ea6c1f1"
                                },
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 115,
                                        "layout|x": 245,
                                        "layout|y": 0,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "Бюджет",
                                        "width": 185
                                    },
                                    "name": "MyFieldSet24",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9e93bf5a-c38c-46ce-9b84-a1138c58a4c7",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "decimalPrecision": 0,
                                                "fieldLabel": "Sльг (м&sup2;)",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 80,
                                                "layout|anchor": "100%",
                                                "name": "square_lg",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 124
                                            },
                                            "name": "MyNumberField254",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "4772666b-cba0-4614-8ea8-0dfc47b2e54f"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Бюджет",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 80,
                                                "layout|anchor": "100%",
                                                "name": "budjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField255",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "d9f48997-e2fc-4d21-9efe-ef6f576ce180"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Перер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 80,
                                                "layout|anchor": "100%",
                                                "name": "pbudjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField257",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "88257fa7-4b3c-47c6-904d-23fab0640207"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 115,
                                        "layout|x": 445,
                                        "layout|y": -1,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "Оплачено",
                                        "width": 185
                                    },
                                    "name": "MyFieldSet1",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f9dfe203-8311-472b-93f1-0353895b67af",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Сумма",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 80,
                                                "layout|anchor": "100%",
                                                "name": "oplacheno",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 124
                                            },
                                            "name": "MyNumberField254",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "f5fc87eb-50c4-4d8d-bc56-d40ffa417637"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "В т.ч. субс",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 80,
                                                "layout|anchor": "100%",
                                                "name": "subsidia",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField255",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "70554702-020a-435a-8865-dacf6fb25bf9"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "В т.ч. льг",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 80,
                                                "layout|anchor": "100%",
                                                "name": "lg",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": 125
                                            },
                                            "name": "MyNumberField257",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "fc9f77a4-9b21-4b26-94bd-2f80a51ac771"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо перер",
                                        "fieldStyle": "background-color:#F0F8FF;",
                                        "layout|x": 255,
                                        "layout|y": 210,
                                        "name": "info",
                                        "width": 380
                                    },
                                    "name": "MyTextField44",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "376a1432-7f7d-45f0-b531-cbbe486e105b"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо бюджет",
                                        "fieldStyle": "background-color:#F0F8FF;",
                                        "layout|x": 255,
                                        "layout|y": 180,
                                        "name": "msq_lgota",
                                        "width": 380
                                    },
                                    "name": "MyTextField45",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c4f3e11d-4a2e-49cf-9e76-e1c7eb5f23c1"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Печать расчетки",
                                        "disabled": null,
                                        "formBind": null,
                                        "height": null,
                                        "icon": "resources/css/images/ico/printer24.png",
                                        "id": "printRaspechatakaPtn",
                                        "layout|x": 465,
                                        "layout|y": 125,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Печать расчетного листка",
                                        "tooltipType": "title",
                                        "width": null
                                    },
                                    "name": "MyButton24",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "18920d3e-5047-4dba-8b26-56708c322f3b",
                                    "customConfigs": [
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "formBind",
                                            "type": "string"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/refresh.png",
                                        "id": "btnaAppPtnReset",
                                        "itemId": null,
                                        "layout|x": 525,
                                        "layout|y": 125,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Восстановить",
                                        "width": 30
                                    },
                                    "name": "MyButton25",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3c107ed8-736b-4d78-ac15-3d4fe14e44c4",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var grNach = Ext.getCmp('grNachPtn');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "grNach.getView().getSelectionModel().clearSelections();",
                                                    "grNach.getView().getSelectionModel().select(ind);"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "0e657c34-9a85-4aef-a194-f43574eb4bd7"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/schet.png",
                                        "id": "btnPtnAppPerer",
                                        "itemId": null,
                                        "layout|x": 580,
                                        "layout|y": 125,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Просчитать",
                                        "width": 30
                                    },
                                    "name": "MyButton26",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0f7b0dfb-d86d-4dcb-aedd-243159a8855c",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "//this.up('#winAddVodomer').close();",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "//form.reset();",
                                                    "var zadol = form.findField('zadol').getValue();",
                                                    "var tarif = form.findField('tarif').getValue();",
                                                    "var gkm2 = form.findField('gkm2').getValue();",
                                                    "var square = form.findField('square').getValue();",
                                                    "var perer = form.findField('perer').getValue();",
                                                    "var budjet = form.findField('budjet').getValue();",
                                                    "var pbudjet = form.findField('pbudjet').getValue();",
                                                    "var oplacheno = form.findField('oplacheno').getValue();",
                                                    "",
                                                    "var nachisleno =0;",
                                                    "var ptn = 0;",
                                                    "var tarif_m2 = 0;",
                                                    "",
                                                    "if ((tarif===0)  &&  (square > 0 || gkm2 > 0)) {",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Проверка тарифа',",
                                                    "        msg: 'Введите тариф по услуге',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "} else {",
                                                    "    ptn = gkm2 * tarif * square ;",
                                                    "    tarif_m2 = gkm2 * tarif ;",
                                                    "",
                                                    "    nachisleno = ptn + perer- budjet + pbudjet;",
                                                    "    form.findField('ptn').setValue(ptn);",
                                                    "    form.findField('tarif_m2').setValue(tarif_m2);",
                                                    "    form.findField('nachisleno').setValue(nachisleno);",
                                                    "    form.findField('dolg').setValue(zadol + nachisleno - oplacheno);",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "dc657d2a-f671-41c6-aee3-0de7703bf9d2"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig7",
                            "designerId": "e3d3ef91-851b-4221-ae3e-8e120d047acf"
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 5,
                        "height": null,
                        "id": "tabFmAppOtoplenie",
                        "itemId": null,
                        "layout": "absolute",
                        "minHeight": null,
                        "title": "Отопление",
                        "width": null
                    },
                    "name": "MyForm9",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "9cf0914d-c53e-4d1d-b19f-1f02df0b3bfa",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig4",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "54bf48a0-839a-4829-b7da-cbba8382572b"
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 320,
                                "layout|x": 365,
                                "layout|y": 10,
                                "style": "background-color: #DCDCDC;",
                                "title": "Начислено, грн",
                                "width": 195
                            },
                            "name": "MyFieldSet25",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "eee0ee62-8fb8-4602-bf7a-a4ea818e84be",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "метод",
                                        "labelWidth": 50,
                                        "layout|anchor": "100%",
                                        "name": "metod"
                                    },
                                    "name": "MyTextField117",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "7d2da859-0b7d-4dc9-8e26-50a647a0ff59"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "тариф   (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 90,
                                        "layout|anchor": "100%",
                                        "name": "tarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 135
                                    },
                                    "name": "MyNumberField271",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "79125670-0236-4c4b-960e-31b39abc5909"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Площадь (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 90,
                                        "layout|anchor": "100%",
                                        "name": "square",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 133
                                    },
                                    "name": "MyNumberField157",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "1bf80200-2145-46a2-b359-16b9b1e446ae"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 7,
                                        "fieldLabel": "Гкал (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 90,
                                        "layout|anchor": "100%",
                                        "name": "gkalm2",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3b27e941-1e01-4a66-b2a6-5980a85588ce"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Начисл (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 90,
                                        "layout|anchor": "100%",
                                        "name": "otoplenie",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 136
                                    },
                                    "name": "MyNumberField158",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "6c1cd362-9c6e-48d4-9cd4-c8f53876bd92"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "тариф (гкал)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 90,
                                        "layout|anchor": "100%",
                                        "name": "tarif_gkal",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 135
                                    },
                                    "name": "MyNumberField156",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "876d766d-9856-4bdd-aaa2-693b1d8460a7"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Начисл (гкал)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 90,
                                        "layout|anchor": "100%",
                                        "name": "otoplenie_gkal",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField159",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "db9302b1-4c66-4567-8349-3e5fcf936b7f"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 7,
                                        "fieldLabel": "Гкал /м&sup2;",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 90,
                                        "layout|anchor": "100%",
                                        "name": "gkm2",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField160",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bd00b9a9-6b2f-4be4-99b6-2b8ee2a7dece"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 6,
                                        "fieldLabel": "Гкал",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 90,
                                        "layout|anchor": "100%",
                                        "name": "gkal",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField162",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e8319ccb-d296-4b40-84ce-a1062a27e373"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Начислено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 90,
                                        "layout|anchor": "100%",
                                        "name": "nachisleno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField161",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0d19af32-1c8e-4be9-af43-038bb93167ad"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|createAlias": null,
                                "forceFit": null,
                                "height": 330,
                                "id": "grNachOtoplenie",
                                "layout|x": 0,
                                "layout|y": 0,
                                "scrollable": true,
                                "store": "StTekNachApp",
                                "title": "Период начисления",
                                "width": 210
                            },
                            "name": "MyGridPanel12",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "ccf8fa97-6b9a-4738-8e0a-f1e951295a84",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "нет начислений",
                                        "height": 458,
                                        "style": null
                                    },
                                    "name": "MyGridView12",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d098da18-ad6a-41cc-a4c9-a7abaff4f0ed"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "address_id",
                                        "hidden": true,
                                        "text": "Address_id"
                                    },
                                    "name": "MyNumberColumn51",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d68bffce-d4f7-4548-b53e-c6ae1cdc49f9"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "god",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "год",
                                        "width": 50
                                    },
                                    "name": "MyNumberColumn52",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c85135ef-3119-42e1-8fb1-541ba27e7026"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "data",
                                        "format": "F",
                                        "menuDisabled": true,
                                        "text": "месяц",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn11",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "4c4bd210-1ac4-4d73-a9f5-3db4a42f2ffb"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "zadol",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "задол",
                                        "width": 70
                                    },
                                    "name": "MyColumn51",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "67b664b7-fc6b-46b0-b7d9-889c6fed25ab",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "d40232ab-4a6a-4d2e-9d41-0fb37e9daf04"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "mec",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "мес",
                                        "width": 49
                                    },
                                    "name": "MyColumn52",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2194421d-45c1-4d0f-9c68-a3980b7175b5"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "period",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "Период",
                                        "width": 62
                                    },
                                    "name": "MyColumn53",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5d3afd43-1b79-48d2-80df-0dc772873b5a"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "nachisleno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "начисл",
                                        "width": 70
                                    },
                                    "name": "MyColumn54",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b8ee9ff3-d8db-4b57-bcb8-86e3cc4f00b9",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "97a89e5f-b6c4-4035-84d6-6428fb431420"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "oplacheno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "оплач",
                                        "width": 70
                                    },
                                    "name": "MyColumn55",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "be77ad65-5384-45f0-a412-e07dc3feb683",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "dd1cfcc4-3617-4f6d-b045-0008b95af630"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "dolg",
                                        "flex": null,
                                        "menuDisabled": true,
                                        "text": "Долг",
                                        "width": 75
                                    },
                                    "name": "MyColumn56",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d968ca36-afbb-4a89-b267-5189aebb7b40",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "5e38c82f-e091-49c2-9c0b-3a924d1e24a7"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить запись",
                                        "type": "plus"
                                    },
                                    "name": "MyTool11",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fa08a4d6-3660-4ce4-b7e9-d6ae4f20e911",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var form = tool.findParentByType('form');",
                                                    "",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AddAddressNachislOtoplenie'",
                                                    "};",
                                                    "",
                                                    "//Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(params,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'OtoplenieApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            if(results.success === \"1\"){",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "            }else{",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "                Ext.MessageBox.show({title: 'Ввод данных',",
                                                    "                                     msg: results.msg,",
                                                    "                                     buttons: Ext.MessageBox.OK,",
                                                    "                                     icon: Ext.MessageBox.ERROR",
                                                    "                                    });",
                                                    "            }",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "c492b7b3-50c6-4449-a3b4-3476d4a2cda1"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "выбрать все записи",
                                        "type": "search"
                                    },
                                    "name": "MyTool22",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "01e64b18-4086-4e28-9ded-b0ab28733a1d",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "//LOGIN & PASSWORD",
                                                    "var values =stUser.getAt(0);",
                                                    "// FORM",
                                                    "var form = tool.findParentByType('form');",
                                                    "// DATA",
                                                    "",
                                                    "//LOGIKA",
                                                    "StTekNachApp.load({",
                                                    "    params: {",
                                                    "        what:'OtoplenieAppAll',",
                                                    "        address_id: values.get('address_id'),",
                                                    "        login:values.get('login'),",
                                                    "        password:values.get('password')",
                                                    "    },",
                                                    "    callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            form.getForm().reset();",
                                                    "            form.getForm().loadRecord(records[0]);",
                                                    "        }else{",
                                                    "            form.getForm().reset();",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "56575307-0ec8-4b32-bd69-310f6cba4783"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "collapsible": null,
                                "forceFit": null,
                                "height": 185,
                                "id": "grLgotaNachOtoplenie",
                                "layout|x": 5,
                                "layout|y": 340,
                                "scrollable": true,
                                "store": "StLgotaNachVoda",
                                "title": "начисление на бюджет",
                                "width": 1080
                            },
                            "name": "MyGridPanel13",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "5e8eac93-2a37-4de9-8024-7c4d4dd4b86e",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "Начислений по льготе нет",
                                        "style": null
                                    },
                                    "name": "MyGridView13",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a298cdf9-1d79-493f-a7c4-900373fcdf4f"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Перерасчет",
                                        "icon": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn11",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "baa8bef1-ede0-412f-a4f0-18933701291e",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Добавить перерасчет",
                                                "icon": "resources/css/images/ico/add.png",
                                                "tooltip": "Добавить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem14",
                                            "designerId": "9600c5f4-7aa0-48d3-b739-fb4a5a199a9c",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} else if (pr === 1 ){",
                                                            "    metaData = 'x-hide-display';  ",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "3e83779c-3f81-44e9-9c58-30bf77c0f087"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "var rbgTypeNachVoda = winAddLgotaPerer.down('#rbgTypeNachVoda');",
                                                            "rbgTypeNachVoda.hide();",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'addLgotaOtopleniePerer'});",
                                                            "stUser.sync();",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "81727690-6e5c-48bf-8c0c-5701bc02b14a"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Удалить перерасчет",
                                                "icon": "resources/css/images/ico/delete.png",
                                                "tooltip": "Удалить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem15",
                                            "designerId": "8a6c453a-99c3-49c2-b20c-fca2c70a5ca0",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ((pr === 1) && (check_date === tek_date) ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "e0286409-876e-4012-b2e8-390bbf5988e4"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppOtoplenie');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaOtopleniePerer\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNachOtoplenie = Ext.getCmp('grNachOtoplenie');",
                                                            "var valueNachisl  = grNachOtoplenie.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNachOtoplenie.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете перерасчет по отоплению на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по отоплению на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'OtoplenieApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNachOtoplenie.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по отоплению на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "6c476e21-30a3-4aa0-82ce-4e00766cb4da"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "sdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата с",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn12",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "be4f8033-ea30-4186-814e-66fca3ca0495"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата по",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn13",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "15a4e532-3627-4431-a7ad-c36acdfa34e1"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fio",
                                        "menuDisabled": true,
                                        "text": "Ф.И.О",
                                        "width": 100
                                    },
                                    "name": "MyColumn57",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0e52afe8-1771-4a78-bec6-daa3a45ae9d8"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "lgota",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "Льгота",
                                        "tooltip": "name",
                                        "width": 110
                                    },
                                    "name": "MyColumn58",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2cacbc45-6f43-4b60-a30d-7c061478be68"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "percent",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "%",
                                        "width": 45
                                    },
                                    "name": "MyNumberColumn53",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "1b3a952c-6d84-491a-87c7-fd631f74f5bb"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "people",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "чел",
                                        "width": 45
                                    },
                                    "name": "MyNumberColumn54",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "69a7615e-9146-493b-b413-7de0196b818d"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "tarif",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "text": "тариф",
                                        "width": 80
                                    },
                                    "name": "MyNumberColumn55",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e8cdfeb8-a666-49b7-8913-0cee99876861"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "gkal",
                                        "format": "0.000000",
                                        "menuDisabled": true,
                                        "text": "Гк_пред",
                                        "width": 90
                                    },
                                    "name": "MyNumberColumn56",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "70a7f095-8481-4591-b0eb-85725fa2996e"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "qty",
                                        "format": "0.000000",
                                        "menuDisabled": true,
                                        "text": "Гкал",
                                        "width": 90
                                    },
                                    "name": "MyNumberColumn1",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "00f1b092-38cc-4283-b3c3-fc407bc22a81"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "m2",
                                        "format": "0.00",
                                        "menuDisabled": true,
                                        "text": "Sм&sup2;",
                                        "width": 60
                                    },
                                    "name": "MyNumberColumn181",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "01359199-eba0-4741-874c-8e373a51924a"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "gkm2",
                                        "format": "0.0000000",
                                        "menuDisabled": true,
                                        "text": "Гк_м&sup2;",
                                        "width": 85
                                    },
                                    "name": "MyNumberColumn",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "66ebb4ca-5409-43ab-819a-1517a2331de0"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "budjet",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "бюджет",
                                        "width": 80
                                    },
                                    "name": "MyNumberColumn57",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "eca23743-19fb-4308-b967-a0b15a440d5d"
                                },
                                {
                                    "type": "Ext.grid.feature.Summary",
                                    "reference": {
                                        "name": "features",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "name": "MySummaryFeature3",
                                    "designerId": "c4b44688-ae34-4fbd-9a0d-c937417115ae"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "pr",
                                        "format": "0",
                                        "menuDisabled": true,
                                        "text": "пр",
                                        "width": 40
                                    },
                                    "name": "MyNumberColumn58",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5eb3c5bc-3700-498f-a7ef-518f406ac877"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Редактировать запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn12",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0b34476f-425e-45f3-8a70-227cd57a936e",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/edit.png",
                                                "tooltip": "Редактировать запись"
                                            },
                                            "name": "MyActionColumnItem16",
                                            "designerId": "61e855ce-4a06-4d45-9963-d76cb0aa9130",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "var metod =value.get('metod') ;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'editLgotaOtoplenie'});",
                                                            "stUser.sync();",
                                                            "",
                                                            "form.down('#btAddLgotaPerer').setText('Обновить запись');",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "",
                                                            "winAddLgotaPerer.setTitle('Редактирование записи на бюджет');",
                                                            "",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "63b8b3fb-1b68-42df-af63-eab9bc188f0c"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Удалить запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 35
                                    },
                                    "name": "MyActionColumn13",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d1b9dc7b-a8c6-4ed9-aabe-342de5c74049",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/no.png",
                                                "tooltip": "Удалить  запись "
                                            },
                                            "name": "MyActionColumnItem17",
                                            "designerId": "c1086f98-91c8-454f-8072-daaf47333db1",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 1 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ( (pr === 0)    ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "a2c896f0-6ebc-4052-ba0f-10082c9c5ba3"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppOtoplenie');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaOtoplenie\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachOtoplenie');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете начисление на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление записи по отоплению на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'OtoplenieApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "884a8909-b713-4a5d-9aaa-7f41ea0b37a0"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "info",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "инфо",
                                        "tooltip": "name",
                                        "width": null
                                    },
                                    "name": "MyColumn59",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "dd347d3e-6632-4c37-b4d4-e59c512de255"
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить начисление по льготнику",
                                        "type": "plus"
                                    },
                                    "name": "MyTool12",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "056ec40d-2c28-4c4c-b7ce-45af07a09a8b",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "var gridLgotnik = Ext.getCmp('grLgotnikNachApp');",
                                                    "var gridNachisl = Ext.getCmp('grNachOtoplenie');",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var value  = gridLgotnik.getView().getSelectionModel().getSelection()[0];",
                                                    "var valueNachisl  = gridNachisl.getView().getSelectionModel().getSelection()[0];",
                                                    "var ind  = gridNachisl.getView().getStore().indexOf(valueNachisl);",
                                                    "",
                                                    "",
                                                    "",
                                                    "//console.log(valueNachisl.index);",
                                                    "if (value !==undefined && valueNachisl !==undefined ){",
                                                    "    var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                    "    var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                    "    var rbgTypeNachVoda = winAddLgotaPerer.down('#rbgTypeNachVoda');",
                                                    "    var dt = new Date();",
                                                    "    var dt_nach = new Date(valueNachisl.get('data'));",
                                                    "    var check_date = Ext.Date.format(dt, 'Y-m');",
                                                    "    var date_check = Ext.Date.format(dt_nach, 'Y-m');",
                                                    "    rbgTypeNachVoda.hide();",
                                                    "    winAddLgotaPerer.setTitle('Добавление записи на бюджет');",
                                                    "",
                                                    "var pr = form.getForm().findField('checkType').getValue();",
                                                    "    //console.log(pr);",
                                                    "",
                                                    "    if (pr === true ) {",
                                                    "        values.set({'vibor':'addLgotaOtoplenie'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif_gkal')) ;",
                                                    "        form.getForm().findField('m2').setValue(\"31.5\");",
                                                    "        form.getForm().findField('gkm2').setValue(valueNachisl.get('gkm2'));",
                                                    "        form.getForm().findField('qty').setValue(31.5 * valueNachisl.get('gkm2'));",
                                                    "        form.getForm().findField('summa').setValue((value.get('percent')/100)*31.5 * valueNachisl.get('tarif_gkal')* valueNachisl.get('gkm2'));",
                                                    "        form.getForm().findField('checkType').setValue(\"0\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи начисления на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    } else {",
                                                    "",
                                                    "        values.set({'vibor':'addLgotaOtopleniePerer'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif_gkal')) ;",
                                                    "        form.getForm().findField('m2').setValue(\"31.5\");",
                                                    "        form.getForm().findField('gkm2').setValue(valueNachisl.get('gkm2'));",
                                                    "        form.getForm().findField('qty').setValue(31.5 * valueNachisl.get('gkm2'));",
                                                    "        form.getForm().findField('summa').setValue((value.get('percent')/100)*31.5 * valueNachisl.get('tarif_gkal')* valueNachisl.get('gkm2'));",
                                                    "        form.getForm().findField('checkType').setValue(\"1\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи перерасчета на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    }",
                                                    "",
                                                    "",
                                                    "} else{",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Добавлениезаписи начисления  на бюджет',",
                                                    "        msg: 'Не выбран льготчик',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "}"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "e3ed46e9-c518-45d2-8cdf-f41af38c019f"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 280,
                                "layout|x": 215,
                                "layout|y": 50,
                                "style": "background-color: #DCDCDC;",
                                "title": "",
                                "toggleOnTitleClick": false,
                                "width": 145
                            },
                            "name": "MyFieldSet26",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "36ad9171-ee77-49a6-9ae4-444578896a05",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на начало",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "zadol",
                                        "padding": "10 0 0 0",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField179",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fa17d36c-0e01-4811-84e3-4790501b569c"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Оплачено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "name": "oplacheno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField170",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "71d710e3-5bce-4c97-bc04-35caccb4be2d"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "в т.ч суб",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 60,
                                        "layout|anchor": "100%",
                                        "name": "subsidia",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField171",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a25c745c-6e5a-4e7f-b13c-669ee5144ebb"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "в т.ч льг",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 60,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "lg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField181",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "83e076f4-19e7-41d6-ac32-83b6da08911a"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на конец",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": 55,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "dolg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField180",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0c4630be-5c5e-4047-8191-971a365452ac"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnOtoplenieAppIns",
                                        "itemId": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "text": "Записать",
                                        "width": null
                                    },
                                    "name": "MyButton27",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "566b5c33-799c-41f8-a848-1184bfe9fdbe",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppOtoplenieIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachOtoplenie');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "//console.log();",
                                                    "",
                                                    "//LOGIKA",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(value,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'OtoplenieApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "            if(success){",
                                                    "                grNach.getView().getSelectionModel().select(ind);",
                                                    "            }else{",
                                                    "                form.reset();",
                                                    "            }",
                                                    "        },",
                                                    "        scope:this",
                                                    "    });",
                                                    "});"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "7f9a4fcd-fee8-4c3d-b224-2aa70a4c2738"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": "0px",
                                "fieldLabel": "Период начислен",
                                "fieldStyle": "color: #1791e6; text-shadow: -1px -1px white, 1px 1px #333;font-size:14pt;text-align:center",
                                "format": "F,Y",
                                "hideLabel": true,
                                "hideTrigger": true,
                                "id": null,
                                "labelAlign": "top",
                                "labelWidth": 50,
                                "layout|x": 215,
                                "layout|y": 0,
                                "margin": "10 0 10 0",
                                "name": "data",
                                "startDay": 1,
                                "submitFormat": "Ymd",
                                "width": 150
                            },
                            "name": "MyDateField11",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "f11ab108-a0dc-432d-b5f7-518720b7129e"
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 110,
                                "layout|x": 565,
                                "layout|y": 10,
                                "style": "background-color: #DCDCDC;",
                                "title": "МОП",
                                "width": 160
                            },
                            "name": "MyFieldSet27",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "6821055e-1d99-46fc-8bad-098dac4f62c1",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 7,
                                        "fieldLabel": "Гк/м&sup2;",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 40,
                                        "layout|anchor": "100%",
                                        "name": "gkm2_mop",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField163",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e6db1b55-ee47-4258-b268-c114f918da04"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 6,
                                        "fieldLabel": "Гкал",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 40,
                                        "layout|anchor": "100%",
                                        "name": "gkal_mop",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField174",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "79f9cbb0-e529-40d2-bfe4-7f4c845ddfa0"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": null,
                                        "fieldLabel": "Моп",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 40,
                                        "layout|anchor": "100%",
                                        "name": "mop",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField175",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "47708735-6859-4e5e-851a-1152622c314e"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 235,
                                "layout|x": 730,
                                "layout|y": 10,
                                "style": "background-color: #DCDCDC;",
                                "title": "перерасчет",
                                "width": 160
                            },
                            "name": "MyFieldSet28",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "3bc50afa-2f82-4843-a2fb-b7591764afc7",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Date",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "border": null,
                                        "fieldLabel": "дата",
                                        "fieldStyle": null,
                                        "format": "F,Y",
                                        "hideTrigger": null,
                                        "id": null,
                                        "labelAlign": null,
                                        "labelWidth": 35,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "data_perer",
                                        "startDay": 1,
                                        "submitFormat": "Ymd",
                                        "width": 150
                                    },
                                    "name": "MyDateField12",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "7d302b12-4f0a-4816-9375-0ad373ae3abb",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onDatefieldSelect",
                                                "name": "select",
                                                "scope": "me"
                                            },
                                            "name": "onDatefieldSelect",
                                            "designerId": "4a6d87c7-8c27-48c6-9108-a68a26cf0853"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "Тариф",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 50,
                                        "layout|anchor": "100%",
                                        "name": "tarif_perer",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 150
                                    },
                                    "name": "MyNumberField272",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b6027b72-7d13-45f2-a412-dfa29538dde7"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 6,
                                        "fieldLabel": "Гкал",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 50,
                                        "layout|anchor": "100%",
                                        "name": "perer_gkal",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField176",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a0823c4c-d1ac-4cdd-85f0-c6ded64d7021"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 7,
                                        "fieldLabel": "Гкал/м&sup2;",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 50,
                                        "layout|anchor": "100%",
                                        "name": "gkm2_perer",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField177",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b98fbea4-cd5f-4c99-8c90-cff4db450672"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Перер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 50,
                                        "layout|anchor": "100%",
                                        "name": "perer",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField178",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3d008151-abf5-403f-b549-f0373330d3ba"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "disabled": true,
                                        "formBind": true,
                                        "height": 30,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnOtopleniePererIns",
                                        "itemId": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "text": "Перерасчет Гкал",
                                        "width": 95
                                    },
                                    "name": "MyButton28",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d0c4040b-1375-4fee-8b9c-dae5b2364df4",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppOtopleniePererIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachOtoplenie');",
                                                    "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                    "var ind = parseInt(valueNachisl.index,0);",
                                                    "//console.log();",
                                                    "",
                                                    "//LOGIKA",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "var newValue = value.perer_gkal;",
                                                    "if (newValue !== 0){",
                                                    "    Ext.MessageBox.confirm({",
                                                    "        title: 'Перерасчет по квартире',",
                                                    "        msg: 'Перерасчет по отоплениию <br>Вы желаете продолжать.',",
                                                    "        buttons: Ext.MessageBox.OKCANCEL,",
                                                    "        icon: Ext.MessageBox.ERROR,",
                                                    "        buttonText:{",
                                                    "            ok:'Да',",
                                                    "            cancel:'отмена'",
                                                    "        },",
                                                    "        fn:function(btn,newValue){",
                                                    "            if(btn=='ok'){",
                                                    "                var myMask= Ext.Msg.show({",
                                                    "                    title:'Перерасчет...',",
                                                    "                    msg: 'Перерасчет по отоплению.Ожидайте...',",
                                                    "                    buttons: Ext.Msg.CANCEL,",
                                                    "                    wait: true,",
                                                    "                    modal: true,",
                                                    "                    icon: Ext.Msg.INFO",
                                                    "                });",
                                                    "                QueryTeplomer.newPokTeplomera(value,function(data){",
                                                    "                    if (data.success !=='0'){",
                                                    "                        StTekNachApp.load({",
                                                    "                            params: {",
                                                    "                                what:'OtoplenieApp',",
                                                    "                                address_id: values.get('address_id'),",
                                                    "                                login:values.get('login'),",
                                                    "                                password:values.get('password')",
                                                    "                            },",
                                                    "                            callback: function(records,operation,success){",
                                                    "                                if(success){",
                                                    "                                    grNach.getView().getSelectionModel().select(ind);",
                                                    "                                }else{",
                                                    "                                    form.reset();",
                                                    "                                }",
                                                    "                            },",
                                                    "                            scope:this",
                                                    "                        });",
                                                    "                        myMask.close();",
                                                    "                        Ext.MessageBox.confirm({",
                                                    "                            title: 'Проверка вводимых данных',",
                                                    "                            msg: data.msg,",
                                                    "                            buttons: Ext.MessageBox.OK,",
                                                    "                            icon: Ext.MessageBox.INFO",
                                                    "                        });",
                                                    "                    }else{",
                                                    "                        myMask.close();",
                                                    "                    }",
                                                    "                });",
                                                    "            }",
                                                    "        }",
                                                    "    });",
                                                    "}",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "4ae314eb-e0cd-43e0-a729-18cac942cccd"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 235,
                                "layout|x": 900,
                                "layout|y": 10,
                                "style": "background-color: #DCDCDC;",
                                "title": "По льготе",
                                "width": 185
                            },
                            "name": "MyFieldSet29",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "9c931d50-3bce-463c-a6cb-f6f3cf1c1c1e",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "S_льг (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 65,
                                        "layout|anchor": "100%",
                                        "name": "square_lg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField164",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "432f7aaf-5fc7-4f4d-bf27-a30f71184a7d"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 7,
                                        "fieldLabel": "Гкал (1м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 65,
                                        "layout|anchor": "100%",
                                        "name": "gkm2_lg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField203",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "58d3c496-cc21-425b-bd33-f802d821202e"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Бюд (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 65,
                                        "layout|anchor": "100%",
                                        "name": "budjet_m2",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField165",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8d7866a1-06dd-47f7-9792-fcbf70ad3f3a"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Бюд гкал",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 65,
                                        "layout|anchor": "100%",
                                        "name": "budjet_gkal",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField168",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "374f182e-18fe-49d4-b9be-9d01b2a0664d"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Бюд моп",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 65,
                                        "layout|anchor": "100%",
                                        "name": "budjet_mop",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField166",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3dfbb28d-1581-4934-8ec0-57f03ac94033"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Бюджет",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 65,
                                        "layout|anchor": "100%",
                                        "name": "budjet",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField169",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "7015c462-403a-4ef4-8bcd-a566d21fb172"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Перер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 65,
                                        "layout|anchor": "100%",
                                        "name": "pbudjet",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField167",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "46fda481-0368-400f-9890-1e01c7281078"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "инфо бюджет",
                                "layout|x": 570,
                                "layout|y": 295,
                                "name": "msq_lgota",
                                "style": "background-color: #DCDCDC;",
                                "width": 505
                            },
                            "name": "MyTextField46",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "5be42bf2-ac1a-4845-af95-8d99fde88e7b"
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "formBind": true,
                                "height": 30,
                                "icon": "resources/css/images/ico/refresh.png",
                                "id": "btnOtoplenieAppReset",
                                "itemId": null,
                                "layout|x": 670,
                                "layout|y": 155,
                                "scale": "medium",
                                "text": "",
                                "tooltip": "Восстановить",
                                "width": 30
                            },
                            "name": "MyButton29",
                            "configAlternates": {
                                "tooltip": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "2a7364ad-b1bf-45d7-9400-17a0894f5b79",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "button",
                                            "e"
                                        ],
                                        "fn": "handler",
                                        "implHandler": [
                                            "var form = button.findParentByType('form').getForm();",
                                            "var grNach = Ext.getCmp('grNachOtoplenie');",
                                            "var record = grNach.getSelectionModel().getSelection()[0];",
                                            "var ind  = grNach.getView().getStore().indexOf(record);",
                                            "grNach.getView().getSelectionModel().clearSelections();",
                                            "grNach.getView().getSelectionModel().select(ind);"
                                        ]
                                    },
                                    "name": "handler",
                                    "designerId": "2a3b0fff-053e-4341-9323-f5433f6c5db2"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "formBind": true,
                                "height": 30,
                                "icon": "resources/css/images/ico/schet.png",
                                "id": "btnOtoplenieAppPerer",
                                "itemId": null,
                                "layout|x": 625,
                                "layout|y": 155,
                                "scale": "medium",
                                "text": "",
                                "tooltip": "Просчитать",
                                "width": 30
                            },
                            "name": "MyButton30",
                            "configAlternates": {
                                "tooltip": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "6545a959-3ade-4583-96e4-5e3028f0ede4",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "button",
                                            "e"
                                        ],
                                        "fn": "handler",
                                        "implHandler": [
                                            "//this.up('#winAddVodomer').close();",
                                            "var form = button.findParentByType('form').getForm();",
                                            "//form.reset();",
                                            "var zadol = form.findField('zadol').getValue();",
                                            "var tarif = form.findField('tarif_gkal').getValue();",
                                            "",
                                            "var gkal = form.findField('gkal').getValue();",
                                            "var gkal_mop = form.findField('gkal_mop').getValue();",
                                            "var square = form.findField('square').getValue();",
                                            "var square_lg = form.findField('square_lg').getValue();",
                                            "var perer = form.findField('perer').getValue();",
                                            "var budjet = form.findField('budjet').getValue();",
                                            "var budjet_mop = form.findField('budjet_mop').getValue();",
                                            "var pbudjet = form.findField('pbudjet').getValue();",
                                            "var oplacheno = form.findField('oplacheno').getValue();",
                                            "",
                                            "var gkm2_mop =0;",
                                            "var gkm2 = 0;",
                                            "var otoplenie = 0;",
                                            "var mop = 0;",
                                            "var nacisleno = 0;",
                                            "",
                                            "",
                                            "",
                                            "otoplenie = gkal * tarif - budjet ;",
                                            "mop = gkal_mop * tarif - budjet_mop;",
                                            "gkm2 = gkal / square;",
                                            "gkm2_mop = gkal_mop / square;",
                                            "nachisleno =otoplenie + mop + perer - pbudjet ;",
                                            "form.findField('gkm2').setValue(gkm2);",
                                            "form.findField('gkm2_mop').setValue(gkm2_mop);",
                                            "form.findField('otoplenie').setValue(otoplenie);",
                                            "form.findField('mop').setValue(mop);",
                                            "form.findField('nachisleno').setValue(nachisleno);",
                                            "form.findField('dolg').setValue(zadol + nachisleno - oplacheno);",
                                            "",
                                            "",
                                            ""
                                        ]
                                    },
                                    "name": "handler",
                                    "designerId": "0ddca35c-902a-44a0-9cd9-6a232615a833"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "инфо перер",
                                "layout|x": 570,
                                "layout|y": 255,
                                "name": "info",
                                "style": "background-color: #DCDCDC;",
                                "width": 505
                            },
                            "name": "MyTextField",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "189bebe9-2507-4f77-afde-d055ad85f101"
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "Печать расчетки",
                                "disabled": null,
                                "formBind": null,
                                "height": null,
                                "icon": "resources/css/images/ico/printer24.png",
                                "id": "printRaspechatakaTeplo",
                                "layout|x": 580,
                                "layout|y": 155,
                                "scale": "medium",
                                "text": "",
                                "tooltip": "Печать расчетного листка",
                                "tooltipType": "title",
                                "width": null
                            },
                            "name": "MyButton9",
                            "configAlternates": {
                                "tooltip": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "d23966b7-2d17-45e1-8b83-04667cae5886",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "formBind",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 5,
                        "height": null,
                        "id": "tabFmAppTbo",
                        "itemId": null,
                        "layout": "absolute",
                        "minHeight": null,
                        "title": "ТБО",
                        "width": null
                    },
                    "name": "MyForm11",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "941922b3-9ccf-44d1-b6f1-6e885a193208",
                    "cn": [
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|createAlias": null,
                                "forceFit": null,
                                "height": 500,
                                "id": "grNachTbo",
                                "layout|x": 0,
                                "layout|y": 0,
                                "scrollable": true,
                                "store": "StTekNachApp",
                                "title": "Период начисления",
                                "width": 220
                            },
                            "name": "MyGridPanel16",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "fb103f8c-7b1b-4c7e-b00c-b4d9671e6f76",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "нет начислений",
                                        "style": null
                                    },
                                    "name": "MyGridView16",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c4967bd4-45ba-425e-8fee-5ebd22e7c0dc"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "address_id",
                                        "hidden": true,
                                        "text": "Address_id"
                                    },
                                    "name": "MyNumberColumn67",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b22cbf83-9a79-4b2c-afa3-4feeff753dc1"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "god",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "год",
                                        "width": 50
                                    },
                                    "name": "MyNumberColumn68",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "11a9683f-a3a4-4057-a375-dcb62611c9f0"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "data",
                                        "format": "F",
                                        "menuDisabled": true,
                                        "text": "месяц",
                                        "width": 80
                                    },
                                    "name": "MyDateColumn17",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2984ea6b-2092-4e55-b5f2-7d8680dc3a6a"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "zadol",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "задол",
                                        "width": 70
                                    },
                                    "name": "MyColumn70",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "67c66101-6e38-412e-9a06-3d95e9dc286f",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "6e0f53bf-fbab-4fae-9402-25a8e447a7b5"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "mec",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "мес",
                                        "width": 49
                                    },
                                    "name": "MyColumn71",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b9299803-55fb-4bb8-a045-200844d54096"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "period",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "Период",
                                        "width": 62
                                    },
                                    "name": "MyColumn72",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8e7cb1be-2f66-4b24-b28a-f39b1c3aab91"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "nachisleno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "начисл",
                                        "width": 70
                                    },
                                    "name": "MyColumn73",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "665e7d1c-4eae-42e4-b775-58174d201d13",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "13d20c54-8819-4ddc-ab99-0e46ba15a0bd"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "oplacheno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "оплач",
                                        "width": 70
                                    },
                                    "name": "MyColumn74",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "dd893187-7db0-4d76-b345-489c569d55b8",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "2c058b3a-759d-4b3a-97c2-bd9e4f072e75"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "dolg",
                                        "flex": null,
                                        "menuDisabled": true,
                                        "text": "Долг",
                                        "width": 75
                                    },
                                    "name": "MyColumn75",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "6bb3f264-3d04-4fc4-9fe9-7b655313acd7",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "b965b946-a9a1-49d1-a80b-42a3076589ab"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить запись",
                                        "type": "plus"
                                    },
                                    "name": "MyTool15",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "154be15d-ca02-46f9-a7a9-86a25b49069d",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var form = tool.findParentByType('form');",
                                                    "",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AddAddressNachislTbo'",
                                                    "};",
                                                    "",
                                                    "//Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(params,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'TboApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            if(results.success === \"1\"){",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "            }else{",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "                Ext.MessageBox.show({title: 'Ввод данных',",
                                                    "                                     msg: results.msg,",
                                                    "                                     buttons: Ext.MessageBox.OK,",
                                                    "                                     icon: Ext.MessageBox.ERROR",
                                                    "                                    });",
                                                    "            }",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "febaed22-4d9a-4557-b3cf-cdd5ee812c5f"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "выбрать все записи",
                                        "type": "search"
                                    },
                                    "name": "MyTool24",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e26a34db-c4f0-4ea5-b66b-bce201642ec0",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "//LOGIN & PASSWORD",
                                                    "var values =stUser.getAt(0);",
                                                    "// FORM",
                                                    "var form = tool.findParentByType('form');",
                                                    "// DATA",
                                                    "",
                                                    "//LOGIKA",
                                                    "StTekNachApp.load({",
                                                    "    params: {",
                                                    "        what:'TboAppAll',",
                                                    "        address_id: values.get('address_id'),",
                                                    "        login:values.get('login'),",
                                                    "        password:values.get('password')",
                                                    "    },",
                                                    "    callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            form.getForm().reset();",
                                                    "            form.getForm().loadRecord(records[0]);",
                                                    "        }else{",
                                                    "            form.getForm().reset();",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "d68fce83-80de-48cf-8a13-5714aa3fc533"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "collapsible": null,
                                "forceFit": null,
                                "height": 250,
                                "id": "grLgotaNachTbo",
                                "layout|x": 235,
                                "layout|y": 250,
                                "scrollable": true,
                                "store": "StLgotaNachVoda",
                                "title": "начисление на бюджет",
                                "width": 840
                            },
                            "name": "MyGridPanel17",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "576c51f2-eaad-4002-aabf-d6cb084499de",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "Начислений по льготе нет",
                                        "style": null
                                    },
                                    "name": "MyGridView17",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c94a9e7a-b4e2-4f2f-a66e-4327158a60be"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Перерасчет",
                                        "icon": null,
                                        "maxWidth": 25,
                                        "menuDisabled": true,
                                        "minWidth": 25,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn17",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9ea4a3da-1877-4c8a-8ca7-972357d08a67",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Добавить перерасчет",
                                                "icon": "resources/css/images/ico/add.png",
                                                "tooltip": "Добавить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem22",
                                            "designerId": "b05fdf0e-1f0d-456d-b056-a62469676156",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} else if (pr === 1   ){",
                                                            "    metaData = 'x-hide-display';  ",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "34d7b083-1ff0-4c7b-a096-58c44ffef974"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "var rbgTypeNachVoda = winAddLgotaPerer.down('#rbgTypeNachVoda');",
                                                            "rbgTypeNachVoda.hide();",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'addLgotaTboPerer'});",
                                                            "stUser.sync();",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "    form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "c18ac8e7-6381-4abe-82b8-035767918e09"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|displayName": "Удалить перерасчет",
                                                "icon": "resources/css/images/ico/delete.png",
                                                "tooltip": "Удалить перерасчет по льготе"
                                            },
                                            "name": "MyActionColumnItem23",
                                            "designerId": "28f10cb5-0192-4567-af6d-4fe6cc78f772",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "",
                                                            "if (pr === 0 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ((pr === 1) && (check_date === tek_date) ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "dbaf31d2-8367-4db1-9c72-bfb6186c318d"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppTbo');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaTboPerer\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachTbo');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете перерасчет по тбо на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по тбо на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'TboApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление перерасчета по тбо на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "a5338ba0-ac40-4888-bdbf-fc1fc7bd9751"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "sdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата с",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn18",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "4cf47944-1070-4e25-a920-ba17fb2e748a"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fdata",
                                        "format": "d-m-y",
                                        "menuDisabled": true,
                                        "text": "дата по",
                                        "width": 75
                                    },
                                    "name": "MyDateColumn19",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2f541af2-f557-4bf3-9846-9b30e83f457e"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "fio",
                                        "menuDisabled": true,
                                        "text": "Ф.И.О",
                                        "width": 120
                                    },
                                    "name": "MyColumn76",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "1250f600-b213-4369-b45c-a64a9c095646"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "lgota",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "Льгота",
                                        "tooltip": "name",
                                        "width": 144
                                    },
                                    "name": "MyColumn77",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b096be53-f990-41da-9cd6-73c6f2088d83"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "percent",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "%",
                                        "width": 35
                                    },
                                    "name": "MyNumberColumn69",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d4b1a7b2-2b59-4559-bdb7-284253eca99f"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "tarif",
                                        "format": "0.000",
                                        "menuDisabled": true,
                                        "text": "тариф",
                                        "width": 72
                                    },
                                    "name": "MyNumberColumn70",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3b5d5bce-d94b-4412-827b-9925f1b370f2"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "center",
                                        "dataIndex": "people",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "чел",
                                        "width": 57
                                    },
                                    "name": "MyNumberColumn71",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b3c3043f-baed-4bb3-911f-41154e27a0d7"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "qty",
                                        "format": "0.0000",
                                        "menuDisabled": true,
                                        "text": "куб",
                                        "width": 61
                                    },
                                    "name": "MyNumberColumn72",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a7607ddf-ab2b-4d69-a4cb-0b7614e89276"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "budjet",
                                        "menuDisabled": true,
                                        "summaryType": "sum",
                                        "text": "бюджет",
                                        "width": 74
                                    },
                                    "name": "MyNumberColumn73",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a3901ee2-7d3d-4cc6-9467-75a1a24e6e1b"
                                },
                                {
                                    "type": "Ext.grid.feature.Summary",
                                    "reference": {
                                        "name": "features",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "name": "MySummaryFeature5",
                                    "designerId": "feedc23d-d51a-49d4-9ce1-dee6695182d9"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "pr",
                                        "format": "0",
                                        "menuDisabled": true,
                                        "text": "пр",
                                        "width": 40
                                    },
                                    "name": "MyNumberColumn74",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5cc98e2c-b727-4ea0-a53c-793a1c178b06"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Редактировать запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn18",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "69a8651d-e7d0-4de5-8fbc-a3fc7907890b",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/edit.png",
                                                "tooltip": "Редактировать запись"
                                            },
                                            "name": "MyActionColumnItem24",
                                            "designerId": "4ab35585-2e49-40c0-a996-16d408ce6877",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var dt = new Date();",
                                                            "var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                            "var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var values =stUser.getAt(0);",
                                                            "var value = record;",
                                                            "",
                                                            "view.getSelectionModel().select(rowIndex);",
                                                            "values.set({'vibor':'editLgotaTbo'});",
                                                            "stUser.sync();",
                                                            "",
                                                            "form.down('#btAddLgotaPerer').setText('Обновить запись');",
                                                            "form.loadRecord(value);",
                                                            "form.getForm().findField('summa').setValue(value.get('budjet'));",
                                                            "form.getForm().findField('m2').hide();",
                                                            "    form.getForm().findField('gkm2').hide();",
                                                            "winAddLgotaPerer.setTitle('Редактирование записи на бюджет');",
                                                            "",
                                                            "winAddLgotaPerer.show();"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "4c9f93c3-33dc-48b4-a86d-6aa7e8b71628"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Удалить запись",
                                        "flex": null,
                                        "maxWidth": null,
                                        "menuDisabled": true,
                                        "minWidth": null,
                                        "width": 30
                                    },
                                    "name": "MyActionColumn19",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "6a16eb76-7c74-44e7-86ab-20996e6ebb8c",
                                    "cn": [
                                        {
                                            "type": "actioncolumnitem",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "resources/css/images/ico/no.png",
                                                "tooltip": "Удалить  запись "
                                            },
                                            "name": "MyActionColumnItem25",
                                            "designerId": "845fc6c8-7978-4d2a-ba7d-bf02f062f8f3",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "v",
                                                            "metadata",
                                                            "r",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store"
                                                        ],
                                                        "fn": "getClass",
                                                        "implHandler": [
                                                            "var tekd = r.get('data');",
                                                            "var dt = new Date();",
                                                            "var check_date=Ext.Date.format(dt, 'Y-m');",
                                                            "var tek_date=Ext.Date.format(tekd, 'Y-m');",
                                                            "var pr = r.get('pr');",
                                                            "if (pr === 1 ) {",
                                                            "    metaData = 'x-hide-display';",
                                                            "} else if ( (pr === 0)   ){",
                                                            "    metaData = 'x-grid-center-icon';",
                                                            "} ",
                                                            "return metaData;"
                                                        ]
                                                    },
                                                    "name": "getClass",
                                                    "designerId": "264d984a-12e1-4373-8382-212cdddb0009"
                                                },
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "view",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "item",
                                                            "e",
                                                            "record",
                                                            "row"
                                                        ],
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "// in use",
                                                            "var me = this;",
                                                            "//STORE",
                                                            "",
                                                            "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                            "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                            "",
                                                            "var form = Ext.getCmp('tabFmAppTbo');",
                                                            "",
                                                            "//LOGIN & PASSWORD",
                                                            "var values =stUser.getAt(0);",
                                                            "var params = {",
                                                            "    login:values.get('login'),",
                                                            "    password:values.get('password'),",
                                                            "    address_id:values.get('address_id'),",
                                                            "    address:values.get('address'),",
                                                            "    what:\"delLgotaTbo\"",
                                                            "};",
                                                            "",
                                                            "//GRID",
                                                            "var store = view.getStore();",
                                                            "var value = store.getAt(rowIndex).data;",
                                                            "// FORM",
                                                            "",
                                                            "//GRID",
                                                            "var grNach = Ext.getCmp('grNachTbo');",
                                                            "var valueNachisl  = grNach.getView().getSelectionModel().getSelection()[0];",
                                                            "var ind  = grNach.getView().getStore().indexOf(valueNachisl);",
                                                            "",
                                                            "//LOGIKA",
                                                            "",
                                                            "",
                                                            "Ext.Object.merge(value, params);",
                                                            "//console.log(value);",
                                                            "",
                                                            "Ext.MessageBox.confirm({",
                                                            "    title: 'Удаление записи из базы льгот',",
                                                            "    msg: 'Вы удаляете начисление на бюджет <br> Подтвердите или отмените свои действия.',",
                                                            "    buttons: Ext.MessageBox.OKCANCEL,",
                                                            "    icon: Ext.MessageBox.ERROR,",
                                                            "    buttonText:{",
                                                            "        ok:'подтвеждаю',",
                                                            "        cancel:'отмена'",
                                                            "    },",
                                                            "    fn:function(btn,newValue){",
                                                            "        if(btn=='ok'){",
                                                            "            QueryAddress.updateRecords(value,function(results){",
                                                            "                if(results.success===\"1\"){",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления по воде на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.INFO",
                                                            "                    });",
                                                            "                    StTekNachApp.load({",
                                                            "                        params: {",
                                                            "                            what:'TboApp',",
                                                            "                            address_id: values.get('address_id'),",
                                                            "                            login:values.get('login'),",
                                                            "                            password:values.get('password')",
                                                            "                        },",
                                                            "                        callback: function(records,operation,success){",
                                                            "                            if(success){",
                                                            "                                grNach.getView().getSelectionModel().select(ind);",
                                                            "                            }else{",
                                                            "                                form.getForm().reset();",
                                                            "                            }",
                                                            "                        },",
                                                            "                        scope:this",
                                                            "                    });",
                                                            "",
                                                            "                } else {",
                                                            "                    Ext.MessageBox.show({",
                                                            "                        title: 'Удаление начисления по воде на бюджет',",
                                                            "                        msg: results.msg,",
                                                            "                        buttons: Ext.MessageBox.OK,",
                                                            "                        icon: Ext.MessageBox.ERROR",
                                                            "                    });",
                                                            "                }",
                                                            "            });",
                                                            "        }",
                                                            "    }",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "d9955ba1-14bf-45da-ac0c-1bef86b09ad0"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "info",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "инфо",
                                        "tooltip": "name",
                                        "width": null
                                    },
                                    "name": "MyColumn78",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "55b2c8d9-b526-49b9-82e2-ea85a0cfb398"
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить начисление по льготнику",
                                        "type": "plus"
                                    },
                                    "name": "MyTool16",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f84a6732-1685-4b51-ad82-a4ac2b10396d",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "var gridLgotnik = Ext.getCmp('grLgotnikNachApp');",
                                                    "var gridNachisl = Ext.getCmp('grNachTbo');",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var value  = gridLgotnik.getView().getSelectionModel().getSelection()[0];",
                                                    "var valueNachisl  = gridNachisl.getView().getSelectionModel().getSelection()[0];",
                                                    "var ind  = gridNachisl.getView().getStore().indexOf(valueNachisl);",
                                                    "",
                                                    "//console.log(valueNachisl.index);",
                                                    "if (value !==undefined && valueNachisl !==undefined ){",
                                                    "    var winAddLgotaPerer = Ext.ClassManager.instantiateByAlias('widget.winaddlgotaperer');",
                                                    "    var form = winAddLgotaPerer.down('#fmAddLgotaPerer');",
                                                    "    var rbgTypeNachVoda = winAddLgotaPerer.down('#rbgTypeNachVoda');",
                                                    "    var dt = new Date();",
                                                    "    var dt_nach = new Date(valueNachisl.get('data'));",
                                                    "    var check_date = Ext.Date.format(dt, 'Y-m');",
                                                    "    var date_check = Ext.Date.format(dt_nach, 'Y-m');",
                                                    "    form.getForm().findField('m2').hide();",
                                                    "    form.getForm().findField('gkm2').hide();",
                                                    "    rbgTypeNachVoda.hide();",
                                                    "    winAddLgotaPerer.setTitle('Добавление записи на бюджет');",
                                                    "",
                                                    "var pr = form.getForm().findField('checkType').getValue();",
                                                    "    //console.log(pr);",
                                                    "",
                                                    "    if (pr === true ) {",
                                                    "        values.set({'vibor':'addLgotaTbo'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('people_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"0\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи начисления на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    } else {",
                                                    "",
                                                    "        values.set({'vibor':'addLgotaTboPerer'});",
                                                    "        stUser.sync();",
                                                    "        form.loadRecord(value);",
                                                    "        form.getForm().findField('data').setValue(Ext.Date.format(dt, 'Y-m-d'));",
                                                    "        form.getForm().findField('sdata').setValue(Ext.Date.getFirstDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('fdata').setValue(Ext.Date.getLastDateOfMonth(dt_nach) );",
                                                    "        form.getForm().findField('tarif').setValue(valueNachisl.get('tarif'));",
                                                    "        form.getForm().findField('qty').setValue(valueNachisl.get('people_lg'));",
                                                    "        form.getForm().findField('summa').setValue(valueNachisl.get('budjet'));",
                                                    "        form.getForm().findField('checkType').setValue(\"1\");",
                                                    "        form.getForm().findField('info').setValue('Добавление записи перерасчета на бюджет в ручном режиме');",
                                                    "        form.getForm().findField('ind').setValue(ind);",
                                                    "        winAddLgotaPerer.show();",
                                                    "",
                                                    "    }",
                                                    "",
                                                    "",
                                                    "} else{",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Добавлениезаписи начисления  на бюджет',",
                                                    "        msg: 'Не выбран льготчик',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "}"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "c2e0330d-0b39-4cfb-8774-d6327f0ff732"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig6",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "d128c855-3f8c-4e5f-8b3f-f27a2d09da7d"
                        },
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "fieldLabel": "Начислено ,грн",
                                "height": 235,
                                "labelAlign": "top",
                                "layout": "absolute",
                                "layout|x": 390,
                                "layout|y": 10,
                                "style": "background-color: #DCDCDC;",
                                "width": 675
                            },
                            "name": "MyFieldContainer",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "79d14aef-9ad7-4791-bcbb-00491cf60675",
                            "cn": [
                                {
                                    "type": "Ext.form.FieldSet",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "height": 120,
                                        "layout|x": 315,
                                        "layout|y": -11,
                                        "style": "background-color: #F1EEEE ;",
                                        "title": "Бюджет",
                                        "width": 140
                                    },
                                    "name": "MyFieldSet34",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "643f50e8-8a2f-4c70-b072-0c15245a70fb",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Льготн",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 45,
                                                "layout|anchor": "100%",
                                                "name": "people_lg",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField286",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "7e79c3b7-33d9-4ad0-8ef3-f570dd172453"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Льгота",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 45,
                                                "layout|anchor": "100%",
                                                "name": "budjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField287",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "5f94c4bb-726e-4dd7-bf64-3317b3a4fc56"
                                        },
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoStripChars": true,
                                                "fieldLabel": "Перер",
                                                "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                                "hideLabel": null,
                                                "hideTrigger": true,
                                                "labelWidth": 45,
                                                "layout|anchor": "100%",
                                                "name": "pbudjet",
                                                "value": [
                                                    "0"
                                                ],
                                                "width": null
                                            },
                                            "name": "MyNumberField288",
                                            "configAlternates": {
                                                "scrollable": "boolean"
                                            },
                                            "designerId": "72e5ad2d-f4aa-4eec-b364-4255856b0ab2"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Печать расчетки",
                                        "disabled": null,
                                        "formBind": null,
                                        "height": null,
                                        "icon": "resources/css/images/ico/printer24.png",
                                        "id": "printRaspechatakaTbo",
                                        "layout|x": 585,
                                        "layout|y": 90,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Печать расчетного листка",
                                        "tooltipType": "title",
                                        "width": null
                                    },
                                    "name": "MyButton36",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f9d1f892-bf91-41cd-9f5c-3e922390f3c0",
                                    "customConfigs": [
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "formBind",
                                            "type": "string"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо перер",
                                        "layout|x": 10,
                                        "layout|y": 130,
                                        "name": "info",
                                        "width": 635
                                    },
                                    "name": "MyTextField50",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "9e0825b0-dadb-4cfb-b128-e4da8d91d271"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо бюджет",
                                        "layout|x": 10,
                                        "layout|y": 165,
                                        "name": "msq_lgota",
                                        "width": 635
                                    },
                                    "name": "MyTextField51",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "06e61675-9ff8-4c9a-83bb-d00845f8e633"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "тариф",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 10,
                                        "layout|y": 5,
                                        "name": "tarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField275",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "47f35d88-a761-4516-8d97-49faa875b8e6"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "Тар пер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 60,
                                        "layout|x": 10,
                                        "layout|y": 85,
                                        "name": "ptarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 130
                                    },
                                    "name": "MyNumberField276",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5f348c71-890c-414a-a00e-5771985042cb"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "тбо",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 40,
                                        "layout|x": 180,
                                        "layout|y": 5,
                                        "name": "tbo",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 115
                                    },
                                    "name": "MyNumberField289",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3cb2c2b0-da72-4a62-a092-f397b3841113"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Перерасч",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 150,
                                        "layout|y": 45,
                                        "name": "perer",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField290",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "5d758d13-0cac-4ab4-90d8-53637c9c2b7b"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Начислено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 150,
                                        "layout|y": 85,
                                        "name": "nachisleno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField292",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "ff7aec01-8180-4efa-8819-c39c485e5015"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Оплачено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 475,
                                        "layout|y": 0,
                                        "name": "oplacheno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField293",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "6f7b2cc9-cd7e-4cf6-9caf-17d606405de6"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "в т.ч субс",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 475,
                                        "layout|y": 30,
                                        "name": "subsidia",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField9",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "16e9c56e-3686-40bd-b00b-6edc875fb07a"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "в т.ч льг",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 475,
                                        "layout|y": 55,
                                        "name": "lg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField10",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "f65b0759-0121-432f-a828-33da67f8a16a"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Человек",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 10,
                                        "layout|y": 45,
                                        "name": "people",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField294",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e8e5a980-5c49-4df2-8cb8-b2b2bfaca81f"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/schet.png",
                                        "id": "btnTboAppPerer",
                                        "itemId": null,
                                        "layout|x": 530,
                                        "layout|y": 90,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Просчитать",
                                        "width": 30
                                    },
                                    "name": "MyButton37",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "57fd4742-a75d-4d49-af6c-bf8918b8832f",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "//this.up('#winAddVodomer').close();",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "//form.reset();",
                                                    "var zadol = form.findField('zadol').getValue();",
                                                    "var tarif = form.findField('tarif').getValue();",
                                                    "var people = form.findField('people').getValue();",
                                                    "var perer = form.findField('perer').getValue();",
                                                    "var budjet = form.findField('budjet').getValue();",
                                                    "var pbudjet = form.findField('pbudjet').getValue();",
                                                    "var people_lg = form.findField('people_lg').getValue();",
                                                    "var oplacheno = form.findField('oplacheno').getValue();",
                                                    "",
                                                    "var nachisleno =0;",
                                                    "var tbo = 0;",
                                                    "",
                                                    "if ((tarif===0)  &&  people > 0 ) {",
                                                    "",
                                                    "    Ext.MessageBox.show({",
                                                    "        title: 'Проверка тарифа',",
                                                    "        msg: 'Введите тариф по услуге',",
                                                    "        buttons: Ext.MessageBox.OK,",
                                                    "        icon: Ext.MessageBox.INFO",
                                                    "    });",
                                                    "} else {",
                                                    "    tbo = people * tarif - budjet;",
                                                    "    nachisleno =tbo +  perer;",
                                                    "    form.findField('tbo').setValue(tbo);",
                                                    "    form.findField('nachisleno').setValue(nachisleno);",
                                                    "    form.findField('dolg').setValue(zadol + nachisleno - oplacheno);",
                                                    "",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "ac57fbcd-13a9-469b-9fac-3d24d204f80a"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/refresh.png",
                                        "id": "btnTboAppReset",
                                        "itemId": null,
                                        "layout|x": 475,
                                        "layout|y": 90,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Восстановить",
                                        "width": 30
                                    },
                                    "name": "MyButton38",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "340f834b-ce4c-4cff-bf62-3b91e1006997",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var grNach = Ext.getCmp('grNachTbo');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "grNach.getView().getSelectionModel().clearSelections();",
                                                    "grNach.getView().getSelectionModel().select(ind);"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "6ea28135-6e6d-4a57-8384-b874e4483565"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 150,
                                "layout|x": 230,
                                "layout|y": 65,
                                "style": "background-color: #DCDCDC;",
                                "title": "",
                                "width": 145
                            },
                            "name": "MyFieldSet35",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "9a2b4f03-3e44-4f4e-9d64-e143d7c8729a",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на начало",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "zadol",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField295",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "97740c81-d041-4f72-a287-7581b9574db3"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на конец",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "dolg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField296",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "1505802e-e042-4fee-8fc4-fe6b66cad553"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnTboAppIns",
                                        "itemId": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "text": "Записать",
                                        "width": 100
                                    },
                                    "name": "MyButton39",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "db14472c-2107-49a5-b0ec-7f432ddd37e4",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppTboIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachTbo');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "",
                                                    "//LOGIKA",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(value,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'TboApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "            if(success){",
                                                    "                grNach.getView().getSelectionModel().select(ind);",
                                                    "",
                                                    "            }else{",
                                                    "                form.reset();",
                                                    "            }",
                                                    "        },",
                                                    "        scope:this",
                                                    "    });",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "c1f0541a-f00e-424b-9a70-d913e7819c5a"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": "0px",
                                "fieldLabel": "Период начислен",
                                "fieldStyle": "color: #1791e6; text-shadow: -1px -1px white, 1px 1px #333;font-size:14pt;text-align:center",
                                "format": "F,Y",
                                "hideLabel": true,
                                "hideTrigger": true,
                                "id": null,
                                "labelAlign": "top",
                                "labelWidth": 50,
                                "layout|x": 230,
                                "layout|y": 10,
                                "margin": "10 0 10 0",
                                "name": "data",
                                "startDay": 1,
                                "submitFormat": "Ymd",
                                "width": 150
                            },
                            "name": "MyDateField14",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "ee795cb3-5716-48af-8294-38b53641d439"
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|snapToGrid": 5,
                        "height": null,
                        "id": "tabFmAppVaxta",
                        "itemId": null,
                        "layout": "absolute",
                        "minHeight": null,
                        "title": "Вахта",
                        "width": 1096
                    },
                    "name": "MyForm14",
                    "configAlternates": {
                        "scrollable": "boolean"
                    },
                    "designerId": "dd384c8e-39ac-41c0-b09b-e1e414b58b70",
                    "cn": [
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|createAlias": null,
                                "forceFit": null,
                                "height": 500,
                                "id": "grNachVaxta",
                                "layout|x": 0,
                                "layout|y": 0,
                                "scrollable": true,
                                "store": "StTekNachApp",
                                "title": "Период начисления",
                                "width": 220
                            },
                            "name": "MyGridPanel16",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "73403769-4289-4e77-9d03-d9dc1d5b7758",
                            "cn": [
                                {
                                    "type": "Ext.view.Table",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "нет начислений",
                                        "style": null
                                    },
                                    "name": "MyGridView16",
                                    "configAlternates": {
                                        "style": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "7953aa85-83bc-42fd-86e8-5bc612f403ce"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "address_id",
                                        "hidden": true,
                                        "text": "Address_id"
                                    },
                                    "name": "MyNumberColumn67",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2f3292e7-5c10-4dbe-877e-61147921b6e8"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "god",
                                        "format": "0",
                                        "hidden": null,
                                        "menuDisabled": true,
                                        "text": "год",
                                        "width": 50
                                    },
                                    "name": "MyNumberColumn68",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "d6a963cf-c5e3-4857-9912-1799c3e2ab8c"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "data",
                                        "format": "F",
                                        "menuDisabled": true,
                                        "text": "месяц",
                                        "width": 80
                                    },
                                    "name": "MyDateColumn17",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "861628ab-e12f-421b-a811-c2c814cfd8bd"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "zadol",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "задол",
                                        "width": 70
                                    },
                                    "name": "MyColumn70",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "065a9147-7cf7-4add-a17a-d61200617ba8",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "c9c409d2-964e-4f70-b1bf-558a1b83cc75"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "mec",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "мес",
                                        "width": 49
                                    },
                                    "name": "MyColumn71",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "579f29ff-24cb-440c-afcc-2aaac978bed9"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "period",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "Период",
                                        "width": 62
                                    },
                                    "name": "MyColumn72",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "123dcf11-604e-4843-8562-8d8dc419ecb4"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "nachisleno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "начисл",
                                        "width": 70
                                    },
                                    "name": "MyColumn73",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "cf3c570f-6794-4c68-870e-fcb84a16f0e0",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "08086e1e-6642-40f8-816f-9185f6b2b022"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "oplacheno",
                                        "hidden": true,
                                        "menuDisabled": true,
                                        "text": "оплач",
                                        "width": 70
                                    },
                                    "name": "MyColumn74",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "8a1762a3-8c83-4e54-9703-6b0553416808",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "cdd0b28f-8cac-4d60-b094-075fc87d2c3f"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "right",
                                        "dataIndex": "dolg",
                                        "flex": null,
                                        "menuDisabled": true,
                                        "text": "Долг",
                                        "width": 75
                                    },
                                    "name": "MyColumn75",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "85025f70-955a-4230-923c-4c2abbba22d6",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if (value < 0) {",
                                                    "      metaData.style = 'color:red';",
                                                    "  }",
                                                    "      return value;",
                                                    ""
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "1960548f-e101-42f5-ba2f-00e5e1fd39c4"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "добавить запись",
                                        "type": "plus"
                                    },
                                    "name": "MyTool15",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "3b5d5f4a-b544-470f-ba90-8b621d2c0a9a",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var form = tool.findParentByType('form');",
                                                    "",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AddAddressNachislVaxta'",
                                                    "};",
                                                    "",
                                                    "//Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(params,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'VaxtaApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            if(results.success === \"1\"){",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "            }else{",
                                                    "                form.getForm().reset();",
                                                    "                form.getForm().loadRecord(records[0]);",
                                                    "                Ext.MessageBox.show({title: 'Ввод данных',",
                                                    "                                     msg: results.msg,",
                                                    "                                     buttons: Ext.MessageBox.OK,",
                                                    "                                     icon: Ext.MessageBox.ERROR",
                                                    "                                    });",
                                                    "            }",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "23f7650b-a4d2-4c31-81bd-5319f60f184b"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.panel.Tool",
                                    "reference": {
                                        "name": "tools",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "tooltip": "выбрать все записи",
                                        "type": "search"
                                    },
                                    "name": "MyTool26",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a28cd900-d700-4295-8aa8-0a581acb4fd4",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "owner",
                                                    "tool",
                                                    "event"
                                                ],
                                                "fn": "callback",
                                                "implHandler": [
                                                    "//STORE",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "//LOGIN & PASSWORD",
                                                    "var values =stUser.getAt(0);",
                                                    "// FORM",
                                                    "var form = tool.findParentByType('form');",
                                                    "// DATA",
                                                    "",
                                                    "//LOGIKA",
                                                    "StTekNachApp.load({",
                                                    "    params: {",
                                                    "        what:'VaxtaAppAll',",
                                                    "        address_id: values.get('address_id'),",
                                                    "        login:values.get('login'),",
                                                    "        password:values.get('password')",
                                                    "    },",
                                                    "    callback: function(records,operation,success){",
                                                    "        if(success){",
                                                    "            form.getForm().reset();",
                                                    "            form.getForm().loadRecord(records[0]);",
                                                    "        }else{",
                                                    "            form.getForm().reset();",
                                                    "        }",
                                                    "    },",
                                                    "    scope:this",
                                                    "});"
                                                ]
                                            },
                                            "name": "callback",
                                            "designerId": "31165a80-3fbf-4f7f-a0d0-6e4057472978"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig6",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "a7a75810-4480-4c6f-ba49-e3d8a81ba2f3"
                        },
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|snapToGrid": 5,
                                "fieldLabel": "Начислено ,грн",
                                "height": 210,
                                "labelAlign": "top",
                                "layout": "absolute",
                                "layout|x": 390,
                                "layout|y": 10,
                                "style": "background-color: #DCDCDC;",
                                "width": 510
                            },
                            "name": "MyFieldContainer",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "fe3c1741-c00f-4e0c-9c21-6a3f0998e958",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "Печать расчетки",
                                        "disabled": null,
                                        "formBind": null,
                                        "height": null,
                                        "icon": "resources/css/images/ico/printer24.png",
                                        "id": "printRaspechatakaVaxta",
                                        "layout|x": 430,
                                        "layout|y": 85,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Печать расчетного листка",
                                        "tooltipType": "title",
                                        "width": null
                                    },
                                    "name": "MyButton36",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "08f30515-8dc9-4d5b-894e-c551a30ac610",
                                    "customConfigs": [
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "formBind",
                                            "type": "string"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "инфо перер",
                                        "layout|x": 10,
                                        "layout|y": 130,
                                        "name": "info",
                                        "width": 475
                                    },
                                    "name": "MyTextField50",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "2147ebaa-83f0-4b0b-8376-e0cd8f90729b"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "тариф",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 10,
                                        "layout|y": 5,
                                        "name": "tarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField275",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bbae2ce4-1ab0-46df-a059-2a17fe8130ca"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "decimalPrecision": 3,
                                        "fieldLabel": "Тар пер",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 60,
                                        "layout|x": 155,
                                        "layout|y": 45,
                                        "name": "ptarif",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 130
                                    },
                                    "name": "MyNumberField276",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "a7f25585-2031-41a8-9387-40f109182090"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Вахта",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 40,
                                        "layout|x": 170,
                                        "layout|y": 5,
                                        "name": "vaxta",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 115
                                    },
                                    "name": "MyNumberField289",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "45c9e8f8-106b-4565-9d35-118ea7cd6961"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Перерасч",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 145,
                                        "layout|y": 85,
                                        "name": "perer",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField290",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "e8968ef0-a51e-490e-8a90-01fc930e5898"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Начислено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 325,
                                        "layout|y": 5,
                                        "name": "nachisleno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField292",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "0f6bfce8-4fb5-4e4a-91ff-341e12956372"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Оплачено",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 70,
                                        "layout|x": 325,
                                        "layout|y": 40,
                                        "name": "oplacheno",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 140
                                    },
                                    "name": "MyNumberField293",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fa8e340d-b4b9-4317-b4a2-e8d725bacb6d"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Человек",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 10,
                                        "layout|y": 45,
                                        "name": "people",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField294",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "392e02bf-3f4c-4fd8-bb83-c1c73c51ef80"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "S  (м&sup2;)",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelWidth": 55,
                                        "layout|x": 10,
                                        "layout|y": 85,
                                        "name": "square",
                                        "value": [
                                            "0"
                                        ],
                                        "width": 125
                                    },
                                    "name": "MyNumberField2",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "72037f48-0755-4ad9-80af-535fec949f2a"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/schet.png",
                                        "id": "btnVaxtaAppPerer",
                                        "itemId": null,
                                        "layout|x": 375,
                                        "layout|y": 85,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Просчитать",
                                        "width": 30
                                    },
                                    "name": "MyButton37",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "043d8868-d90f-422e-947d-f298f4115ec2",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "//this.up('#winAddVodomer').close();",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "//form.reset();",
                                                    "var zadol = form.findField('zadol').getValue();",
                                                    "var tarif = form.findField('tarif').getValue();",
                                                    "var people = form.findField('people').getValue();",
                                                    "var square = form.findField('square').getValue();",
                                                    "var perer = form.findField('perer').getValue();",
                                                    "var oplacheno = form.findField('oplacheno').getValue();",
                                                    "",
                                                    "var nachisleno =0;",
                                                    "var vaxta = 0;",
                                                    "",
                                                    "vaxta = square * tarif ;",
                                                    "nachisleno =vaxta +  perer;",
                                                    "form.findField('vaxta').setValue(vaxta);",
                                                    "form.findField('nachisleno').setValue(nachisleno);",
                                                    "form.findField('dolg').setValue(zadol + nachisleno - oplacheno);",
                                                    "",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "bc982a9d-6e95-4fc6-bc7b-928e484acfaf"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/refresh.png",
                                        "id": "btnVaxtaAppReset",
                                        "itemId": null,
                                        "layout|x": 325,
                                        "layout|y": 85,
                                        "scale": "medium",
                                        "text": "",
                                        "tooltip": "Восстановить",
                                        "width": 30
                                    },
                                    "name": "MyButton38",
                                    "configAlternates": {
                                        "tooltip": "string",
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "bf7f41c4-1033-457a-9f21-08bb4ed4fd05",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var grNach = Ext.getCmp('grNachVaxta');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "grNach.getView().getSelectionModel().clearSelections();",
                                                    "grNach.getView().getSelectionModel().select(ind);"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "ec72bf75-f626-4391-8484-3238d55a133f"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 150,
                                "layout|x": 230,
                                "layout|y": 65,
                                "style": "background-color: #DCDCDC;",
                                "title": "",
                                "width": 145
                            },
                            "name": "MyFieldSet35",
                            "configAlternates": {
                                "style": "string",
                                "scrollable": "boolean"
                            },
                            "designerId": "160bc943-f4eb-4968-a76f-39a5a6526808",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на начало",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "zadol",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField295",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "c7a283c9-aaea-4293-a784-35c0df6196b8"
                                },
                                {
                                    "type": "Ext.form.field.Number",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoStripChars": true,
                                        "fieldLabel": "Сальдо на конец",
                                        "fieldStyle": "background-color:#F0F8FF;font-size:10pt;text-align:right;",
                                        "hideLabel": null,
                                        "hideTrigger": true,
                                        "labelAlign": "top",
                                        "labelWidth": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "name": "dolg",
                                        "value": [
                                            "0"
                                        ],
                                        "width": null
                                    },
                                    "name": "MyNumberField296",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "b6ae866a-1bb9-4d8f-81d6-20dfef601bf0"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "height": null,
                                        "icon": "resources/css/images/ico/yes22.png",
                                        "id": "btnVaxtaAppIns",
                                        "itemId": null,
                                        "layout|anchor": "100%",
                                        "margin": null,
                                        "text": "Записать",
                                        "width": 100
                                    },
                                    "name": "MyButton39",
                                    "configAlternates": {
                                        "scrollable": "boolean"
                                    },
                                    "designerId": "fcadf567-7cac-48be-9d5f-44a0f22b1f79",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// in use",
                                                    "var me = this;",
                                                    "",
                                                    "//STORE",
                                                    "var StTekNachApp = Ext.data.StoreManager.get(\"StTekNachApp\");",
                                                    "var stUser = Ext.data.StoreManager.get(\"StUser\");",
                                                    "var values =stUser.getAt(0);",
                                                    "var params = {",
                                                    "    login:values.get('login'),",
                                                    "    password:values.get('password'),",
                                                    "    address_id:values.get('address_id'),",
                                                    "    what:'AppVaxtaIns'",
                                                    "};",
                                                    "//FORMA",
                                                    "var form = button.findParentByType('form').getForm();",
                                                    "var value = form.getValues();",
                                                    "var grNach = Ext.getCmp('grNachVaxta');",
                                                    "var record = grNach.getSelectionModel().getSelection()[0];",
                                                    "var ind  = grNach.getView().getStore().indexOf(record);",
                                                    "",
                                                    "//LOGIKA",
                                                    "Ext.Object.merge(value, params);",
                                                    "",
                                                    "QueryAddress.updateRecords(value,function(results){",
                                                    "",
                                                    "    StTekNachApp.load({",
                                                    "        params: {",
                                                    "            what:'VaxtaApp',",
                                                    "            address_id: values.get('address_id'),",
                                                    "            login:values.get('login'),",
                                                    "            password:values.get('password')",
                                                    "        },",
                                                    "        callback: function(records,operation,success){",
                                                    "            if(success){",
                                                    "                grNach.getView().getSelectionModel().select(ind);",
                                                    "",
                                                    "            }else{",
                                                    "                form.reset();",
                                                    "            }",
                                                    "        },",
                                                    "        scope:this",
                                                    "    });",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "56a1144a-683a-449b-a2ce-7eafb1c0aca7"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": "0px",
                                "fieldLabel": "Период начислен",
                                "fieldStyle": "color: #1791e6; text-shadow: -1px -1px white, 1px 1px #333;font-size:14pt;text-align:center",
                                "format": "F,Y",
                                "hideLabel": true,
                                "hideTrigger": true,
                                "id": null,
                                "labelAlign": "top",
                                "labelWidth": 50,
                                "layout|x": 230,
                                "layout|y": 10,
                                "margin": "10 0 10 0",
                                "name": "data",
                                "startDay": 1,
                                "submitFormat": "Ymd",
                                "width": 150
                            },
                            "name": "MyDateField14",
                            "configAlternates": {
                                "scrollable": "boolean"
                            },
                            "designerId": "ad6ce77d-1756-4e62-80bf-fd5fbc5b55f7"
                        }
                    ]
                }
            ]
        }
    ]
}